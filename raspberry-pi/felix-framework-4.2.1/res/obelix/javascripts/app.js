/*
 AngularJS v1.2.1
 (c) 2010-2012 Google, Inc. http://angularjs.org
 License: MIT
 CanvasJS HTML5 & JavaScript Charts - v1.4.1 GA - http://canvasjs.com/ 
 Copyright 2013 fenopix
*/
(function(){function c(a){var b="Array"===a&&ka.isArray||function(b,h){return(h||pb.call(b))==="[object "+a+"]"};return Ob[a]=b}function r(a,b){var h=function(h){return l(h)?pb.call(h)==="[object "+b+"]":typeof h===a};return Ob[b]=h}function f(a){a.SugarMethods||(e(a,"SugarMethods",{}),d(a,!1,!0,{extend:function(b,h,e){d(a,!1!==e,h,b)},sugarRestore:function(){return k(this,a,arguments,function(a,b,h){e(a,b,h.method)})},sugarRevert:function(){return k(this,a,arguments,function(a,b,h){h.existed?e(a,
b,h.original):delete a[b]})}}))}function d(b,h,c,d){var g=h?b.prototype:b;f(b);u(d,function(d,f){var k=g[d],q=m(g,d);Ua(c)&&k&&(f=a(k,f,c));(!1!==c||!k)&&e(g,d,f);b.SugarMethods[d]={method:f,existed:q,original:k,instance:h}})}function b(a,b,h,e,c){var f={};e=va(e)?e.split(","):e;e.forEach(function(a,b){c(f,a,b)});d(a,b,h,f)}function k(a,b,h,e){var c=0===h.length,d=g(h),f=!1;u(b.SugarMethods,function(b,h){if(c||-1!==d.indexOf(b))f=!0,e(h.instance?a.prototype:a,b,h)});return f}function a(a,b,h){return function(e){return h.apply(this,
arguments)?b.apply(this,arguments):a.apply(this,arguments)}}function e(a,b,h){Pb?ja.defineProperty(a,b,{value:h,configurable:!0,enumerable:!1,writable:!0}):a[b]=h}function g(a,b,h){var e=[];h=h||0;var c;for(c=a.length;h<c;h++)e.push(a[h]),b&&b.call(a,a[h],h);return e}function n(a,b,h){var e=a[h||0];Sa(e)&&(a=e,h=0);return g(a,b,h)}function p(a){if(!a||!a.call)throw new TypeError("Callback is not callable");}function m(a,b){return!!a&&kc.call(a,b)}function l(a){return!!a&&("object"===typeof a||Xb&&
cb(a))}function t(a){var b=typeof a;return null==a||"string"===b||"number"===b||"boolean"===b}function v(a,b){b=b||pb.call(a);try{if(a&&a.constructor&&!m(a,"constructor")&&!m(a.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}return!!a&&"[object Object]"===b&&"hasOwnProperty"in a}function u(a,b){for(var h in a)if(m(a,h)&&!1===b.call(a,h,a[h],a))break}function w(a,b){for(var h=0;h<a;h++)b(h)}function z(a,b){u(b,function(h){a[h]=b[h]});return a}function s(a){t(a)&&(a=ja(a));if(Dc&&
va(a))for(var b=a,h=0,e;e=b.charAt(h);)b[h++]=e;return a}function K(a){z(this,s(a))}function F(a,b,h){var e=qb(10,mb(b||0));h=h||wb;0>b&&(e=1/e);return h(a*e)/e}function H(){return"\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u2028\u2029\u3000\ufeff"}function y(a,b){var h="";for(a=a.toString();0<b;)if(b&1&&(h+=a),b>>=1)a+=a;return h}function I(a,b){var h,e;h=a.replace(La,function(a){a=rb[a];a===Ib&&(e=!0);return a});return e?parseFloat(h):
parseInt(h,b||10)}function L(a,b,h,e){e=mb(a).toString(e||10);e=y("0",b-e.replace(/\.\d+/,"").length)+e;if(h||0>a)e=(0>a?"-":"+")+e;return e}function J(a){if(11<=a&&13>=a)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function x(a,b){function h(a,c){if(a||-1<b.indexOf(c))e+=c}var e="";b=b||"";h(a.multiline,"m");h(a.ignoreCase,"i");h(a.global,"g");h(a.sticky,"y");return e}function S(a){va(a)||(a=ra(a));return a.replace(/([\\/\'*+?|()\[\]{}.^$])/g,
"\\$1")}function C(a,b){return a["get"+(a._utc?"UTC":"")+b]()}function B(a,b,h){return a["set"+(a._utc&&"ISOWeek"!=b?"UTC":"")+b](h)}function N(a,b){var h=typeof a,e,c,f,d,g,k,q;if("string"===h)return a;f=pb.call(a);e=v(a,f);c=Sa(a,f);if(null!=a&&e||c){b||(b=[]);if(1<b.length)for(k=b.length;k--;)if(b[k]===a)return"CYC";b.push(a);e=a.valueOf()+ra(a.constructor);d=c?a:ja.keys(a).sort();k=0;for(q=d.length;k<q;k++)g=c?k:d[k],e+=g+N(a[g],b);b.pop()}else e=-Infinity===1/a?"-0":ra(a&&a.valueOf?a.valueOf():
a);return h+f+e}function D(a,b){return a===b?0!==a||1/a===1/b:la(a)&&la(b)?N(a)===N(b):!1}function la(a){var b=pb.call(a);return Yb.test(b)||v(a,b)}function U(a,b,h){var e,c=a.length,f=b.length,d=!1!==b[f-1];if(!(f>(d?1:2)))return Y(a,c,b[0],d,h);e=[];g(b,function(b){if(xb(b))return!1;e.push(Y(a,c,b,d,h))});return e}function Y(a,b,h,e,c){e&&(h%=b,0>h&&(h=b+h));return c?a.charAt(h):a[h]}function M(a,h){b(h,!0,!1,a,function(a,b){a[b+("equal"===b?"s":"")]=function(){return ja[b].apply(null,[this].concat(g(arguments)))}})}
function O(a,b,h,e){var c=a.length,f=-1==e,d=f?c-1:0;h=isNaN(h)?d:parseInt(h>>0);0>h&&(h=c+h);if(!f&&0>h||f&&h>=c)h=d;for(;f&&0<=h||!f&&h<c;){if(a[h]===b)return h;h+=e}return-1}function Q(a,b,h,e){var c=a.length,f=0,d=h!==fa;p(b);if(0==c&&!d)throw new TypeError("Reduce called on empty array with no initial value");d||(h=a[e?c-1:f],f++);for(;f<c;)d=e?c-f-1:f,d in a&&(h=b(h,a[d],d,a)),f++;return h}function W(a){if(0===a.length)throw new TypeError("First argument must be defined");}function P(a){a=ua(a);
return function(b){return a.test(b)}}function ha(a){var b=a.getTime();return function(a){return!(!a||!a.getTime)&&a.getTime()===b}}function oa(a){return function(b,h,e){return b===a||a.call(this,b,h,e)}}function wa(a){return function(b,h,e){return b===a||a.call(e,h,b,e)}}function xa(a,b){var h={};return function(e,c,f){var d;if(!l(e))return!1;for(d in a)if(h[d]=h[d]||ia(a[d],b),!1===h[d].call(f,e[d],c,f))return!1;return!0}}function sa(a){return function(b){return b===a||D(b,a)}}function ia(a,b){if(!t(a)){if(cb(a))return P(a);
if(Za(a))return ha(a);if(Ua(a))return b?wa(a):oa(a);if(v(a))return xa(a,b)}return sa(a)}function ma(a,b,h,e){return b?b.apply?b.apply(h,e||[]):Ua(a[b])?a[b].call(a):a[b]:a}function pa(a,b,h,e){var c,d=+a.length;0>h&&(h=a.length+h);c=isNaN(h)?0:h;for(!0===e&&(d+=c);c<d;){h=c%a.length;if(h in a){if(!1===b.call(a,a[h],h,a))break}else return na(a,b,c,e);c++}}function na(a,b,h,e){e=[];for(var c in a)c in a&&(c>>>0==c&&4294967295!=c)&&c>=h&&e.push(parseInt(c));e.sort().each(function(h){return b.call(a,
a[h],h,a)});return a}function qa(a,b,h,e,c,d){var f,g,k;0<a.length&&(k=ia(b),pa(a,function(b,h){if(k.call(d,b,h,a))return f=b,g=h,!1},h,e));return c?g:f}function q(a,b){var h=[],e={},c;pa(a,function(d,f){c=b?ma(d,b,a,[d,f,a]):d;ba(e,c)||h.push(d)});return h}function A(a,b,h){var e=[],c={};b.each(function(a){ba(c,a)});a.each(function(a){var b=N(a),d=!la(a);if(G(c,b,a,d)!==h){var f=0;if(d)for(b=c[b];f<b.length;)b[f]===a?b.splice(f,1):f+=1;else delete c[b];e.push(a)}});return e}function h(a,b,e){b=b||
Infinity;e=e||0;var c=[];pa(a,function(a){Sa(a)&&e<b?c=c.concat(h(a,b,e+1)):c.push(a)});return c}function E(a){var b=[];g(a,function(a){b=b.concat(a)});return b}function G(a,b,h,e){var c=b in a;e&&(a[b]||(a[b]=[]),c=-1!==a[b].indexOf(h));return c}function ba(a,b){var h=N(b),e=!la(b),c=G(a,h,b,e);e?a[h].push(b):a[h]=b;return c}function ea(a,b,e,c){var d,f,g,k=[],q="max"===e,l="min"===e,n=ka.isArray(a);for(d in a)if(a.hasOwnProperty(d)){e=a[d];g=ma(e,b,a,n?[e,parseInt(d),a]:[]);if(g===fa)throw new TypeError("Cannot compare with undefined");
if(g===f)k.push(e);else if(f===fa||q&&g>f||l&&g<f)k=[e],f=g}n||(k=h(k,1));return c?k:k[0]}function ca(a,b){var h,e,c,d,f=0,g=0;h=ka[Db];e=ka[Eb];var k=ka[Ec],q=ka[da],l=ka[Zb];a=Ta(a,h,e);b=Ta(b,h,e);do{h=k;e=a.charAt(f);c=h[e]||e;h=k;e=b.charAt(f);d=h[e]||e;h=c?q.indexOf(c):null;e=d?q.indexOf(d):null;if(-1===h||-1===e){if(h=a.charCodeAt(f)||null,e=b.charCodeAt(f)||null,l&&(h>=lc&&h<=yb||h>=mc&&h<=$b)&&(e>=lc&&e<=yb||e>=mc&&e<=$b))h=I(a.slice(f)),e=I(b.slice(f))}else c=c!==a.charAt(f),d=d!==b.charAt(f),
c!==d&&0===g&&(g=c-d);f+=1}while(null!=h&&null!=e&&h===e);return h===e?g:h-e}function Ta(a,b,h){va(a)||(a=ra(a));h&&(a=a.toLowerCase());b&&(a=a.replace(b,""));return a}function ta(a,h){b(ja,!1,!0,a,function(a,b){a[b]=function(a,e,c){var f=ja.keys(s(a)),d;h||(d=ia(e,!0));c=ka.prototype[b].call(f,function(b){var c=a[b];return h?ma(c,e,a,[b,c,a]):d(c,b,a)},c);Sa(c)&&(c=c.reduce(function(b,h,e){b[h]=a[h];return b},{}));return c}});M(a,K)}function R(a){z(this,a);this.compiledFormats=ac.concat()}function Fa(a,
b){var h;va(a)||(a="");h=Fb[a]||Fb[a.slice(0,2)];if(!1===b&&!h)throw new TypeError("Invalid locale.");return h||Ya}function Z(a,b){function h(a){var b=g[a];va(b)?g[a]=b.split(","):b||(g[a]=[])}function e(a,b){a=a.split("+").map(function(a){return a.replace(/(.+):(.+)$/,function(a,b,h){return h.split("|").map(function(a){return b+a}).join("|")})}).join("|");return a.split("|").forEach(b)}function c(a,b,h){var d=[];g[a].forEach(function(a,c){b&&(a+="+"+a.slice(0,3));e(a,function(a,b){d[b*h+c]=a.toLowerCase()})});
g[a]=d}function d(a,b,h){a="\\d{"+a+","+b+"}";h&&(a+="|(?:"+Da(g.numbers)+")+");return a}function f(a,b){g[a]=g[a]||b}var g,k;g=new R(b);h("modifiers");"months weekdays units numbers articles tokens timeMarker ampm timeSuffixes dateParse timeParse".split(" ").forEach(h);k=!g.monthSuffix;c("months",k,12);c("weekdays",k,7);c("units",!1,8);c("numbers",!1,10);f("code",a);f("date",d(1,2,g.digitDate));f("year","'\\d{2}|"+d(4,4));f("num",function(){var a=["-?\\d+"].concat(g.articles);g.numbers&&(a=a.concat(g.numbers));
return Da(a)}());(function(){var a=[];g.modifiersByName={};g.modifiers.push({name:"day",src:"yesterday",value:-1});g.modifiers.push({name:"day",src:"today",value:0});g.modifiers.push({name:"day",src:"tomorrow",value:1});g.modifiers.forEach(function(b){var h=b.name;e(b.src,function(e){var c=g[h];g.modifiersByName[e]=b;a.push({name:h,src:e,value:b.value});g[h]=c?c+"|"+e:e})});g.day+="|"+Da(g.weekdays);g.modifiers=a})();g.monthSuffix&&(g.month=d(1,2),g.months="1 2 3 4 5 6 7 8 9 10 11 12".split(" ").map(function(a){return a+
g.monthSuffix}));g.full_month=d(1,2)+"|"+Da(g.months);0<g.timeSuffixes.length&&g.addFormat(Va(tc,g),!1,oc);g.addFormat("{day}",!0);g.addFormat("{month}"+(g.monthSuffix||""));g.addFormat("{year}"+(g.yearSuffix||""));g.timeParse.forEach(function(a){g.addFormat(a,!0)});g.dateParse.forEach(function(a){g.addFormat(a)});return Fb[a]=g}function X(a,b,h,e){a.compiledFormats.unshift({variant:e,locale:a,reg:ua("^"+b+"$","i"),to:h})}function Ba(a){return a.slice(0,1).toUpperCase()+a.slice(1)}function Da(a){return a.filter(function(a){return!!a}).join("|")}
function V(){var a=ga.SugarNewDate;return a?a():new ga}function T(a,b){var h;if(l(a[0]))return a;if(Ma(a[0])&&!Ma(a[1]))return[a[0]];if(va(a[0])&&b)return[sb(a[0]),a[1]];h={};uc.forEach(function(b,e){h[b.name]=a[e]});return[h]}function sb(a,b){var h,e={};if(h=a.match(/^(\d+)?\s?(\w+?)s?$/i))b===fa&&(b=parseInt(h[1])||1),e[h[2].toLowerCase()]=b;return e}function Ga(a,b,h){var e;h===fa&&(h=cc.length);for(b=b||0;b<h&&!(e=cc[b],!1===a(e.name,e,b));b++);}function Pa(a,b){var h={},e,c;b.forEach(function(b,
d){e=a[d+1];e===fa||""===e||("year"===b&&(h.yearAsString=e.replace(/'/,"")),c=parseFloat(e.replace(/'/,"").replace(/,/,".")),h[b]=!isNaN(c)?c:e.toLowerCase())});return h}function gb(a){a=a.trim().replace(/^just (?=now)|\.+$/i,"");return Na(a)}function Na(a){return a.replace(dc,function(a,b,h){var e=0,c=1,d,f;if(b)return a;h.split("").reverse().forEach(function(a){a=Jb[a];var b=9<a;b?(d&&(e+=c),c*=a/(f||1),f=a):(!1===d&&(c*=10),e+=c*a);d=b});d&&(e+=c);return e})}function db(a,b,h,e){function c(a){y.push(a)}
function d(){y.forEach(function(a){a.call()})}function f(){var a=q.getWeekday();q.setWeekday(7*(m.num-1)+(a>t?t+7:t))}function g(){var a=A.modifiersByName[m.edge];Ga(function(a){if(m[a]!==fa)return E=a,!1},4);if("year"===E)m.specificity="month";else if("month"===E||"week"===E)m.specificity="day";q[(0>a.value?"endOf":"beginningOf")+Ba(E)]();-2===a.value&&q.reset()}function k(){var a;Ga(function(b,h,e){"day"===b&&(b="date");if(m[b]!==fa){if(e>=x)return q.setTime(NaN),!1;a=a||{};a[b]=m[b];delete m[b]}});
a&&c(function(){q.set(a,!0)})}var q,n,p,y,A,m,E,x,t,v,B;q=V();y=[];q.utc(e);Za(a)?q.utc(a.isUTC()).setTime(a.getTime()):Ma(a)?q.setTime(a):l(a)?(q.set(a,!0),m=a):va(a)&&(p=Fa(b),a=gb(a),p&&u(p.getFormats(),function(h,e){var d=a.match(e.reg);if(d){A=e.locale;m=Pa(d,e.to,A);A.cachedFormat=e;m.utc&&q.utc();if(m.timestamp)return m=m.timestamp,!1;if(e.variant&&!va(m.month)&&(va(m.date)||p.hasVariant(b)))B=m.month,m.month=m.date,m.date=B;m.year&&2===m.yearAsString.length&&(m.year=100*wb(C(V(),"FullYear")/
100)-100*wb(m.year/100)+m.year);m.month&&(m.month=A.getMonth(m.month),m.shift&&!m.unit&&(m.unit=A.units[7]));m.weekday&&m.date?delete m.weekday:m.weekday&&(m.weekday=A.getWeekday(m.weekday),m.shift&&!m.unit&&(m.unit=A.units[5]));if(m.day&&(B=A.modifiersByName[m.day]))m.day=B.value,q.reset(),n=!0;else if(m.day&&-1<(t=A.getWeekday(m.day)))delete m.day,m.num&&m.month?(c(f),m.day=1):m.weekday=t;m.date&&!Ma(m.date)&&(m.date=A.getNumericDate(m.date));A.matchPM(m.ampm)&&12>m.hour?m.hour+=12:A.matchAM(m.ampm)&&
12===m.hour&&(m.hour=0);if("offset_hours"in m||"offset_minutes"in m)q.utc(),m.offset_minutes=m.offset_minutes||0,m.offset_minutes+=60*m.offset_hours,"-"===m.offset_sign&&(m.offset_minutes*=-1),m.minute-=m.offset_minutes;if(m.unit){n=!0;v=A.getNumber(m.num);x=A.getUnitIndex(m.unit);E=Ha.units[x];k();m.shift&&(v*=(B=A.modifiersByName[m.shift])?B.value:0);if(m.sign&&(B=A.modifiersByName[m.sign]))v*=B.value;m.weekday!==fa&&(q.set({weekday:m.weekday},!0),delete m.weekday);m[E]=(m[E]||0)+v}m.edge&&c(g);
"-"===m.year_sign&&(m.year*=-1);Ga(function(a,b,h){b=m[a];var e=b%1;e&&(m[cc[h-1].name]=wb(e*("second"===a?1E3:60)),m[a]=Ja(b))},1,4);return!1}}),m?n?q.advance(m):(q._utc&&q.reset(),Wa(q,m,!0,!1,h)):("now"!==a&&(q=new ga(a)),e&&q.addMinutes(-q.getTimezoneOffset())),d(),q.utc(!1));return{date:q,set:m}}function hb(a){var b,h=mb(a),e=h,c=0;Ga(function(a,d,f){b=Ja(F(h/d.multiplier(),1));1<=b&&(e=b,c=f)},1);return[e,c,a]}function eb(a){var b=hb(a.millisecondsFromNow());if(6===b[1]||5===b[1]&&4===b[0]&&
a.daysFromNow()>=V().daysInMonth())b[0]=mb(a.monthsFromNow()),b[1]=6;return b}function ob(a,b){var h=function(a,b){var h=C(a,"Hours");return Fa(b).ampm[Ja(h/12)]||""};Ia("t",h,1);Ia("tt",h);Ia("T",h,1,1);Ia("TT",h,null,2)}function ib(a,b){var h=function(a,b){var h=C(a,"Day");return Fa(b).weekdays[h]};Ia("dow",h,3);Ia("Dow",h,3,1);Ia("weekday",h);Ia("Weekday",h,null,1)}function fb(a,b,h){var e=function(a,h){var e=C(a,"Month");return Fa(h).months[e+12*b]};Ia(a,e,h);Ia(Ba(a),e,h,1)}function Ia(a,b,h,
e){Ea[a]=function(a,c){var d=b(a,c);h&&(d=d.slice(0,h));e&&(d=d.slice(0,e).toUpperCase()+d.slice(e));return d}}function Qa(a,b,h){Ea[a]=b;Ea[a+a]=function(a,h){return L(b(a,h),2)};h&&(Ea[a+a+a]=function(a,h){return L(b(a,h),3)},Ea[a+a+a+a]=function(a,h){return L(b(a,h),4)})}function Kb(a){var b=a.match(/(\{\w+\})|[^{}]+/g);wc[a]=b.map(function(a){a.replace(/\{(\w+)\}/,function(b,h){a=Ea[h]||h;return h});return a})}function Ra(a,b,h,e){var c;if(a.isValid())Date[b]?b=Date[b]:Ua(b)&&(c=eb(a),b=b.apply(a,
c.concat(Fa(e))));else return"Invalid Date";if(!b&&h)return c=c||eb(a),0===c[1]&&(c[1]=1,c[0]=1),Fa(e).getRelativeFormat(c);b=b||"long";if("short"===b||"long"===b||"full"===b)b=Fa(e)[b];wc[b]||Kb(b);var d,f;h="";b=wc[b];d=0;for(c=b.length;d<c;d++)f=b[d],h+=Ua(f)?f(a,e):f;return h}function jb(a,b,h,e,c){var d,f,g,k=0,q=0,l=0;d=db(b,h,null,c);0<e&&(q=l=e,f=!0);if(!d.date.isValid())return!1;if(d.set&&d.set.specificity){Gb.forEach(function(b,h){b.name===d.set.specificity&&(k=b.multiplier(d.date,a-d.date)-
1)});b=Ba(d.set.specificity);if(d.set.edge||d.set.shift)d.date["beginningOf"+b]();"month"===d.set.specificity&&(g=d.date.clone()["endOf"+b]().getTime());!f&&(d.set.sign&&"millisecond"!=d.set.specificity)&&(q=50,l=-50)}f=a.getTime();b=d.date.getTime();g=ya(a,b,g||b+k);return f>=b-q&&f<=g+l}function ya(a,b,h){b=new ga(b);a=(new ga(h)).utc(a.isUTC());23!==C(a,"Hours")&&(b=b.getTimezoneOffset(),a=a.getTimezoneOffset(),b!==a&&(h+=(a-b).minutes()));return h}function Wa(a,b,h,e,c){function d(a){return b[a]!==
fa?b[a]:b[a+"s"]}function f(a){return d(a)!==fa}var g,k;if(Ma(b)&&e)b={milliseconds:b};else if(Ma(b))return a.setTime(b),a;b.date!==fa&&(b.day=b.date);Ga(function(e,c,d){var g="day"===e;if(f(e)||g&&f("weekday"))return b.specificity=e,k=+d,!1;if(h&&"week"!==e&&(!g||!f("week")))B(a,c.method,g?1:0)});Gb.forEach(function(h,c){var g=h.name,k=h.method,q;q=d(g);q!==fa&&(e?("week"===g&&(q=(b.day||0)+7*q,k="Date"),q=q*e+C(a,k)):"month"===g&&f("day")&&B(a,"Date",15),B(a,k,q),e&&"month"===g&&(g=q,0>g&&(g=g%
12+12),g%12!=C(a,"Month")&&B(a,"Date",0)))});!e&&(!f("day")&&f("weekday"))&&(g=d("weekday"),a.setWeekday(g));a:{switch(c){case -1:g=a>V();break a;case 1:g=a<V();break a}g=void 0}g&&Ga(function(b,h){if((h.ambiguous||"week"===b&&f("weekday"))&&!(f(b)||"day"===b&&f("weekday")))return a[h.addMethod](c),!1},k+1);return a}function Va(a,b,h){var e={h:0,m:1,s:2},c;b=b||Ha;return a.replace(/{([a-z])}/g,function(a,d){var f=[],g="h"===d,k=g&&!h;if("t"===d)return b.ampm.join("|");g&&f.push(":");(c=b.timeSuffixes[e[d]])&&
f.push(c+"\\s*");return 0===f.length?"":"(?:"+f.join("|")+")"+(k?"":"?")})}function Ca(a,b,h){var e,c;Ma(a[1])?e=T(a)[0]:(e=a[0],c=a[1]);return db(e,c,b,h).date}function tb(a,b){function h(){return wb(this*b)}function e(){return Ca(arguments)[a.addMethod](this)}function c(){return Ca(arguments)[a.addMethod](-this)}var d=a.name,f={};f[d]=h;f[d+"s"]=h;f[d+"Before"]=c;f[d+"sBefore"]=c;f[d+"Ago"]=c;f[d+"sAgo"]=c;f[d+"After"]=e;f[d+"sAfter"]=e;f[d+"FromNow"]=e;f[d+"sFromNow"]=e;$a.extend(f)}function Oa(a,
b,h,e,c){Infinity!==b&&(a.timers||(a.timers=[]),Ma(b)||(b=1),a._canceled=!1,a.timers.push(setTimeout(function(){a._canceled||h.apply(e,c||[])},b)))}function ec(a,b,h,e,c,d){var f=a.toFixed(20),g=f.search(/\./),f=f.search(/[1-9]/),g=g-f;0<g&&(g-=1);c=Ab(xc(Ja(g/3),!1===c?h.length:c),-e);e=h.charAt(c+e-1);-9>g&&(c=-3,b=mb(g)-9,e=h.slice(0,1));h=d?qb(2,10*c):qb(10,3*c);return F(a/h,b||0).format()+e.trim()}function fc(a,b,h,e){var c,d,f;(d=b.match(/^(.+?)(\[.*\])$/))?(f=d[1],b=d[2].replace(/^\[|\]$/g,
"").split("]["),b.forEach(function(b){c=!b||b.match(/^\d+$/);!f&&Sa(a)&&(f=a.length);m(a,f)||(a[f]=c?[]:{});a=a[f];f=b}),!f&&c&&(f=a.length.toString()),fc(a,f,h,e)):a[b]=e&&"true"===h?!0:e&&"false"===h?!1:h}function pc(a,b){var h;return Sa(b)||l(b)&&b.toString===pb?(h=[],u(b,function(b,e){a&&(b=a+"["+b+"]");h.push(pc(b,e))}),h.join("&")):!a?"":Sb(a)+"="+(Za(b)?b.getTime():Sb(b))}function Sb(a){return!a&&!1!==a&&0!==a?"":encodeURIComponent(a).replace(/%20/g,"+")}function qc(a,b,h){var e,c=a instanceof
K?new K:{};u(a,function(a,d){e=!1;n(b,function(b){b=cb(b)?b.test(a):l(b)?m(b,a):a===ra(b);b&&(e=!0)},1);e===h&&(c[a]=d)});return c}function kb(a,b){this.start=Tb(a);this.end=Tb(b)}function Tb(a){return Za(a)?new ga(a.getTime()):null==a?a:Za(a)?a.getTime():a.valueOf()}function Ub(a){a=null==a?a:Za(a)?a.getTime():a.valueOf();return!!a||0===a}function Xa(a,b){var h,e,c,d;if(Ma(b))return new ga(a.getTime()+b);h=b[0];e=b[1];c=C(a,e);d=new ga(a.getTime());B(d,e,c+h);return d}function Hb(a,b){return ra.fromCharCode(a.charCodeAt(0)+
b)}function gc(a,b){return a+b}function Lb(a){a=+a;if(0>a||Infinity===a)throw new RangeError("Invalid number");return a}function Bb(a,b){return y(b!==fa?b:" ",a)}function hc(a,b,h,e,c){var d;if(a.length<=b)return a.toString();e=e===fa?"...":e;switch(h){case "left":return a=c?vb(a,b,!0):a.slice(a.length-b),e+a;case "middle":return h=za(b/2),d=Ja(b/2),b=c?vb(a,h):a.slice(0,h),a=c?vb(a,d,!0):a.slice(a.length-d),b+e+a;default:return b=c?vb(a,b):a.slice(0,b),b+e}}function vb(a,b,h){if(h)return vb(a.reverse(),
b).reverse();h=ua("(?=["+H()+"])");var e=0;return a.split(h).filter(function(a){e+=a.length;return e<=b}).join("")}function ub(a,b,h){va(b)&&(b=a.indexOf(b),-1===b&&(b=h?a.length:0));return b}var ja=Object,ka=Array,ua=RegExp,ga=Date,ra=String,$a=Number,ab=Math,fa,Mb="undefined"!==typeof global?global:this,pb=ja.prototype.toString,kc=ja.prototype.hasOwnProperty,Pb=ja.defineProperty&&ja.defineProperties,Xb="function"===typeof ua(),Dc=!("0"in new ra("a")),Ob={},Yb=/^\[object Date|Array|String|Number|RegExp|Boolean|Arguments\]$/,
bb="Boolean Number String Array Date RegExp Function".split(" "),xb=r("boolean",bb[0]),Ma=r("number",bb[1]),va=r("string",bb[2]),Sa=c(bb[3]),Za=c(bb[4]),cb=c(bb[5]),Ua=c(bb[6]);K.prototype.constructor=ja;var mb=ab.abs,qb=ab.pow,za=ab.ceil,Ja=ab.floor,wb=ab.round,xc=ab.min,Ab=ab.max,lc=48,yb=57,mc=65296,$b=65305,Ib=".",Aa="",rb={},La;(function(){f(ja);u(bb,function(a,b){f(Mb[b])})})();(function(){var a,b;for(b=0;9>=b;b++)a=ra.fromCharCode(b+mc),Aa+=a,rb[a]=ra.fromCharCode(b+lc);rb[","]="";rb["\uff0e"]=
Ib;rb[Ib]=Ib;La=ua("["+Aa+"\uff0e,"+Ib+"]","g")})();d(ja,!1,!1,{keys:function(a){var b=[];if(!l(a)&&!cb(a)&&!Ua(a))throw new TypeError("Object required");u(a,function(a,h){b.push(a)});return b}});d(ka,!1,!1,{isArray:function(a){return Sa(a)}});d(ka,!0,!1,{every:function(a,b){var h=this.length,e=0;for(W(arguments);e<h;){if(e in this&&!a.call(b,this[e],e,this))return!1;e++}return!0},some:function(a,b){var h=this.length,e=0;for(W(arguments);e<h;){if(e in this&&a.call(b,this[e],e,this))return!0;e++}return!1},
map:function(a,b){b=arguments[1];var h=this.length,e=0,c=Array(h);for(W(arguments);e<h;)e in this&&(c[e]=a.call(b,this[e],e,this)),e++;return c},filter:function(a){var b=arguments[1],h=this.length,e=0,c=[];for(W(arguments);e<h;)e in this&&a.call(b,this[e],e,this)&&c.push(this[e]),e++;return c},indexOf:function(a,b){return va(this)?this.indexOf(a,b):O(this,a,b,1)},lastIndexOf:function(a,b){return va(this)?this.lastIndexOf(a,b):O(this,a,b,-1)},forEach:function(a,b){var h=this.length,e=0;for(p(a);e<
h;)e in this&&a.call(b,this[e],e,this),e++},reduce:function(a,b){return Q(this,a,b)},reduceRight:function(a,b){return Q(this,a,b,!0)}});d(Function,!0,!1,{bind:function(a){var b=this,h=g(arguments,null,1),e;if(!Ua(this))throw new TypeError("Function.prototype.bind called on a non-function");e=function(){return b.apply(b.prototype&&this instanceof b?this:a,h.concat(g(arguments)))};e.prototype=this.prototype;return e}});d(ga,!1,!1,{now:function(){return(new ga).getTime()}});(function(){var a=H().match(/^\s+$/);
try{ra.prototype.trim.call([1])}catch(b){a=!1}d(ra,!0,!a,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(ua("^["+H()+"]+"),"")},trimRight:function(){return this.replace(ua("["+H()+"]+$"),"")}})})();(function(){var a=new ga(ga.UTC(1999,11,31)),a=a.toISOString&&"1999-12-31T00:00:00.000Z"===a.toISOString();b(ga,!0,!a,"toISOString,toJSON",function(a,b){a[b]=function(){return L(this.getUTCFullYear(),4)+"-"+L(this.getUTCMonth()+1,2)+"-"+L(this.getUTCDate(),
2)+"T"+L(this.getUTCHours(),2)+":"+L(this.getUTCMinutes(),2)+":"+L(this.getUTCSeconds(),2)+"."+L(this.getUTCMilliseconds(),3)+"Z"}})})();var da="AlphanumericSortOrder",Db="AlphanumericSortIgnore",Eb="AlphanumericSortIgnoreCase",Ec="AlphanumericSortEquivalents",Zb="AlphanumericSortNatural";d(ka,!1,!0,{create:function(){var a=[];g(arguments,function(b){if(!t(b)&&"length"in b&&("[object Arguments]"===pb.call(b)||b.callee)||!t(b)&&"length"in b&&!va(b)&&!v(b))b=ka.prototype.slice.call(b,0);a=a.concat(b)});
return a}});d(ka,!0,!1,{find:function(a,b){p(a);return qa(this,a,0,!1,!1,b)},findIndex:function(a,b){var h;p(a);h=qa(this,a,0,!1,!0,b);return h===fa?-1:h}});d(ka,!0,!0,{findFrom:function(a,b,h){return qa(this,a,b,h)},findIndexFrom:function(a,b,h){b=qa(this,a,b,h,!0);return b===fa?-1:b},findAll:function(a,b,h){var e=[],c;0<this.length&&(c=ia(a),pa(this,function(a,b,h){c(a,b,h)&&e.push(a)},b,h));return e},count:function(a){return a===fa?this.length:this.findAll(a).length},removeAt:function(a,b){if(a===
fa)return this;b===fa&&(b=a);this.splice(a,b-a+1);return this},include:function(a,b){return this.clone().add(a,b)},exclude:function(){return ka.prototype.remove.apply(this.clone(),arguments)},clone:function(){return z([],this)},unique:function(a){return q(this,a)},flatten:function(a){return h(this,a)},union:function(){return q(this.concat(E(arguments)))},intersect:function(){return A(this,E(arguments),!1)},subtract:function(a){return A(this,E(arguments),!0)},at:function(){return U(this,arguments)},
first:function(a){if(a===fa)return this[0];0>a&&(a=0);return this.slice(0,a)},last:function(a){return a===fa?this[this.length-1]:this.slice(0>this.length-a?0:this.length-a)},from:function(a){return this.slice(a)},to:function(a){a===fa&&(a=this.length);return this.slice(0,a)},min:function(a,b){return ea(this,a,"min",b)},max:function(a,b){return ea(this,a,"max",b)},least:function(a,b){return ea(this.groupBy.apply(this,[a]),"length","min",b)},most:function(a,b){return ea(this.groupBy.apply(this,[a]),
"length","max",b)},sum:function(a){a=a?this.map(a):this;return 0<a.length?a.reduce(function(a,b){return a+b}):0},average:function(a){a=a?this.map(a):this;return 0<a.length?a.sum()/a.length:0},inGroups:function(a,b){var h=1<arguments.length,e=this,c=[],d=za(this.length/a);w(a,function(a){a*=d;var f=e.slice(a,a+d);h&&f.length<d&&w(d-f.length,function(){f=f.add(b)});c.push(f)});return c},inGroupsOf:function(a,b){var h=[],e=this.length,c=this,d;if(0===e||0===a)return c;a===fa&&(a=1);b===fa&&(b=null);
w(za(e/a),function(e){for(d=c.slice(a*e,a*e+a);d.length<a;)d.push(b);h.push(d)});return h},isEmpty:function(){return 0==this.compact().length},sortBy:function(a,b){var h=this.clone();h.sort(function(e,c){var d,f;d=ma(e,a,h,[e]);f=ma(c,a,h,[c]);return(va(d)&&va(f)?ca(d,f):d<f?-1:d>f?1:0)*(b?-1:1)});return h},randomize:function(){for(var a=this.concat(),b=a.length,h,e;b;)h=ab.random()*b|0,e=a[--b],a[b]=a[h],a[h]=e;return a},zip:function(){var a=g(arguments);return this.map(function(b,h){return[b].concat(a.map(function(a){return h in
a?a[h]:null}))})},sample:function(a){var b=this.randomize();return 0<arguments.length?b.slice(0,a):b[0]},each:function(a,b,h){pa(this,a,b,h);return this},add:function(a,b){if(!Ma($a(b))||isNaN(b))b=this.length;ka.prototype.splice.apply(this,[b,0].concat(a));return this},remove:function(){var a=this;g(arguments,function(b){var h=0;for(b=ia(b);h<a.length;)b(a[h],h,a)?a.splice(h,1):h++});return a},compact:function(a){var b=[];pa(this,function(h,e){Sa(h)?b.push(h.compact()):a&&h?b.push(h):!a&&(null!=
h&&h.valueOf()===h.valueOf())&&b.push(h)});return b},groupBy:function(a,b){var h=this,e={},c;pa(h,function(b,d){c=ma(b,a,h,[b,d,h]);e[c]||(e[c]=[]);e[c].push(b)});b&&u(e,b);return e},none:function(){return!this.any.apply(this,arguments)}});d(ka,!0,!0,{all:ka.prototype.every,any:ka.prototype.some,insert:ka.prototype.add});d(ja,!1,!0,{map:function(a,b){var h={},e,c;for(e in a)m(a,e)&&(c=a[e],h[e]=ma(c,b,a,[e,c,a]));return h},reduce:function(a){var b=ja.keys(s(a)).map(function(b){return a[b]});return b.reduce.apply(b,
g(arguments,null,1))},each:function(a,b){p(b);u(a,b);return a},size:function(a){return ja.keys(s(a)).length}});var Vb="any all none count find findAll isEmpty".split(" "),ic="sum average min max least most".split(" "),Wb=["map","reduce","size"],Nb=Vb.concat(ic).concat(Wb);(function(){var a=ka.prototype.map,h=function(){var a=arguments;return 0<a.length&&!Ua(a[0])};b(ka,!0,h,"every,all,some,filter,any,none,find,findIndex",function(a,b){var h=ka.prototype[b];a[b]=function(a){var b=ia(a);return h.call(this,
function(a,h){return b(a,h,this)})}});d(ka,!0,h,{map:function(b){return a.call(this,function(a,h){return ma(a,b,this,[a,h,this])})}})})();(function(){ka[da]="A\u00c1\u00c0\u00c2\u00c3\u0104BC\u0106\u010c\u00c7D\u010e\u00d0E\u00c9\u00c8\u011a\u00ca\u00cb\u0118FG\u011eH\u0131I\u00cd\u00cc\u0130\u00ce\u00cfJKL\u0141MN\u0143\u0147\u00d1O\u00d3\u00d2\u00d4PQR\u0158S\u015a\u0160\u015eT\u0164U\u00da\u00d9\u016e\u00db\u00dcVWXY\u00ddZ\u0179\u017b\u017d\u00de\u00c6\u0152\u00d8\u00d5\u00c5\u00c4\u00d6".split("").map(function(a){return a+
a.toLowerCase()}).join("");var a={};pa("A\u00c1\u00c0\u00c2\u00c3\u00c4 C\u00c7 E\u00c9\u00c8\u00ca\u00cb I\u00cd\u00cc\u0130\u00ce\u00cf O\u00d3\u00d2\u00d4\u00d5\u00d6 S\u00df U\u00da\u00d9\u00db\u00dc".split(" "),function(b){var h=b.charAt(0);pa(b.slice(1).split(""),function(b){a[b]=h;a[b.toLowerCase()]=h.toLowerCase()})});ka[Zb]=!0;ka[Eb]=!0;ka[Ec]=a})();ta(Vb);ta(ic,!0);M(Wb,K);ka.AlphanumericSort=ca;var Ha,Ya,oc="ampm hour minute second ampm utc offset_sign offset_hours offset_minutes ampm".split(" "),
tc="({t})?\\s*(\\d{1,2}(?:[,.]\\d+)?)(?:{h}([0-5]\\d(?:[,.]\\d+)?)?{m}(?::?([0-5]\\d(?:[,.]\\d+)?){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))",Jb={},dc,uc,cc,ac=[],wc={},Ea={yyyy:function(a){return C(a,"FullYear")},yy:function(a){return C(a,"FullYear")%100},ord:function(a){a=C(a,"Date");return a+J(a)},tz:function(a){return a.getUTCOffset()},isotz:function(a){return a.getUTCOffset(!0)},Z:function(a){return a.getUTCOffset()},ZZ:function(a){return a.getUTCOffset().replace(/(\d{2})$/,
":$1")}},Gb=[{name:"year",method:"FullYear",ambiguous:!0,multiplier:function(a){return 864E5*(365+(a?a.isLeapYear()?1:0:0.25))}},{name:"month",error:0.919,method:"Month",ambiguous:!0,multiplier:function(a,b){var h=30.4375,e;a&&(e=a.daysInMonth(),b<=e.days()&&(h=e));return 864E5*h}},{name:"week",method:"ISOWeek",multiplier:function(){return 6048E5}},{name:"day",error:0.958,method:"Date",ambiguous:!0,multiplier:function(){return 864E5}},{name:"hour",method:"Hours",multiplier:function(){return 36E5}},
{name:"minute",method:"Minutes",multiplier:function(){return 6E4}},{name:"second",method:"Seconds",multiplier:function(){return 1E3}},{name:"millisecond",method:"Milliseconds",multiplier:function(){return 1}}],Fb={};R.prototype={getMonth:function(a){return Ma(a)?a-1:this.months.indexOf(a)%12},getWeekday:function(a){return this.weekdays.indexOf(a)%7},getNumber:function(a){var b;return Ma(a)?a:a&&-1!==(b=this.numbers.indexOf(a))?(b+1)%10:1},getNumericDate:function(a){var b=this;return a.replace(ua(this.num,
"g"),function(a){return b.getNumber(a)||""})},getUnitIndex:function(a){return this.units.indexOf(a)%8},getRelativeFormat:function(a){return this.convertAdjustedToFormat(a,0<a[2]?"future":"past")},getDuration:function(a){return this.convertAdjustedToFormat(hb(a),"duration")},hasVariant:function(a){a=a||this.code;return"en"===a||"en-US"===a?!0:this.variant},matchAM:function(a){return a===this.ampm[0]},matchPM:function(a){return a&&a===this.ampm[1]},convertAdjustedToFormat:function(a,b){var h,e,c=a[0],
d=a[1],f=a[2],g=this[b]||this.relative;if(Ua(g))return g.call(this,c,d,f,b);e=this.units[8*(this.plural&&1<c?1:0)+d]||this.units[d];this.capitalizeUnit&&(e=Ba(e));h=this.modifiers.filter(function(a){return"sign"==a.name&&a.value==(0<f?1:-1)})[0];return g.replace(/\{(.*?)\}/g,function(a,b){switch(b){case "num":return c;case "unit":return e;case "sign":return h.src}})},getFormats:function(){return this.cachedFormat?[this.cachedFormat].concat(this.compiledFormats):this.compiledFormats},addFormat:function(a,
b,h,e,c){var d=h||[],f=this,g;a=a.replace(/\s+/g,"[,. ]*");a=a.replace(/\{([^,]+?)\}/g,function(a,b){var e,c,g,k=b.match(/\?$/);g=b.match(/^(\d+)\??$/);var q=b.match(/(\d)(?:-(\d))?/),l=b.replace(/[^a-z]+$/,"");g?e=f.tokens[g[1]]:f[l]?e=f[l]:f[l+"s"]&&(e=f[l+"s"],q&&(c=[],e.forEach(function(a,b){var h=b%(f.units?8:e.length);h>=q[1]&&h<=(q[2]||q[1])&&c.push(a)}),e=c),e=Da(e));g?g="(?:"+e+")":(h||d.push(l),g="("+e+")");k&&(g+="?");return g});b?(b=Va(tc,f,c),c=["t","[\\s\\u3000]"].concat(f.timeMarker),
g=a.match(/\\d\{\d,\d\}\)+\??$/),X(f,"(?:"+b+")[,\\s\\u3000]+?"+a,oc.concat(d),e),X(f,a+"(?:[,\\s]*(?:"+c.join("|")+(g?"+":"*")+")"+b+")?",d.concat(oc),e)):X(f,a,d,e)}};d(ga,!1,!0,{create:function(){return Ca(arguments)},past:function(){return Ca(arguments,-1)},future:function(){return Ca(arguments,1)},addLocale:function(a,b){return Z(a,b)},setLocale:function(a,b){var h=Fa(a,!1);Ya=h;a&&a!=h.code&&(h.code=a);return h},getLocale:function(a){return!a?Ya:Fa(a,!1)},addFormat:function(a,b,h){X(Fa(h),a,
b)}});d(ga,!0,!0,{set:function(){var a=T(arguments);return Wa(this,a[0],a[1])},setWeekday:function(a){if(a!==fa)return B(this,"Date",C(this,"Date")+a-C(this,"Day"))},setISOWeek:function(a){var b=C(this,"Day")||7;if(a!==fa)return this.set({month:0,date:4}),this.set({weekday:1}),1<a&&this.addWeeks(a-1),1!==b&&this.advance({days:b-1}),this.getTime()},getISOWeek:function(){var a;a=this.clone();var b=C(a,"Day")||7;a.addDays(4-b).reset();return 1+Ja(a.daysSince(a.clone().beginningOfYear())/7)},beginningOfISOWeek:function(){var a=
this.getDay();0===a?a=-6:1!==a&&(a=1);this.setWeekday(a);return this.reset()},endOfISOWeek:function(){0!==this.getDay()&&this.setWeekday(7);return this.endOfDay()},getUTCOffset:function(a){var b=this._utc?0:this.getTimezoneOffset();return!b&&a?"Z":L(Ja(-b/60),2,!0)+(!0===a?":":"")+L(mb(b%60),2)},utc:function(a){e(this,"_utc",!0===a||0===arguments.length);return this},isUTC:function(){return!!this._utc||0===this.getTimezoneOffset()},advance:function(){var a=T(arguments,!0);return Wa(this,a[0],a[1],
1)},rewind:function(){var a=T(arguments,!0);return Wa(this,a[0],a[1],-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(a,b,h){return this.getTime()>ga.create(a).getTime()-(b||0)},isBefore:function(a,b){return this.getTime()<ga.create(a).getTime()+(b||0)},isBetween:function(a,b,h){var e=this.getTime();a=ga.create(a).getTime();var c=ga.create(b).getTime();b=xc(a,c);a=Ab(a,c);h=h||0;return b-h<e&&a+h>e},isLeapYear:function(){var a=C(this,"FullYear");return 0===a%4&&0!==a%100||0===
a%400},daysInMonth:function(){return 32-C(new ga(C(this,"FullYear"),C(this,"Month"),32),"Date")},format:function(a,b){return Ra(this,a,!1,b)},relative:function(a,b){va(a)&&(b=a,a=null);return Ra(this,a,!0,b)},is:function(a,b,h){var e,c;if(this.isValid()){if(va(a))switch(a=a.trim().toLowerCase(),c=this.clone().utc(h),!0){case "future"===a:return this.getTime()>V().getTime();case "past"===a:return this.getTime()<V().getTime();case "weekday"===a:return 0<C(c,"Day")&&6>C(c,"Day");case "weekend"===a:return 0===
C(c,"Day")||6===C(c,"Day");case -1<(e=Ha.weekdays.indexOf(a)%7):return C(c,"Day")===e;case -1<(e=Ha.months.indexOf(a)%12):return C(c,"Month")===e}return jb(this,a,null,b,h)}},reset:function(a){var b={},h;a=a||"hours";"date"===a&&(a="days");h=Gb.some(function(b){return a===b.name||a===b.name+"s"});b[a]=a.match(/^days?/)?1:0;return h?this.set(b,!0):this},clone:function(){var a=new ga(this.getTime());a.utc(!!this._utc);return a}});d(ga,!0,!0,{iso:function(){return this.toISOString()},getWeekday:ga.prototype.getDay,
getUTCWeekday:ga.prototype.getUTCDay});d($a,!0,!0,{duration:function(a){return Fa(a).getDuration(this)}});Ha=Ya=ga.addLocale("en",{plural:!0,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",tokens:"the,st|nd|rd|th,of",
"short":"{Month} {d}, {yyyy}","long":"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},
{name:"shift",src:"next",value:1}],dateParse:["{month} {year}","{shift} {unit=5-7}","{0?} {date}{1}","{0?} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:"{num} {unit} {sign};{sign} {num} {unit};{0} {num}{1} {day} of {month} {year?};{weekday?} {month} {date}{1?} {year?};{date} {month} {year};{date} {month};{shift} {weekday};{shift} week {weekday};{weekday} {2?} {shift} week;{num} {unit=4-5} {sign} {day};{0?} {date}{1} of {month};{0?}{month?} {date?}{1?} of {shift} {unit=6-7}".split(";")});
cc=Gb.concat().reverse();uc=Gb.concat();uc.splice(2,1);(function(){b(ga,!0,!0,Gb,function(a,b,h){function e(a){a/=f;var h=a%1,c=b.error||0.999;h&&mb(h%1)>c&&(a=wb(a));return 0>a?za(a):Ja(a)}var c=b.name,d=Ba(c),f=b.multiplier(),g,k;b.addMethod="add"+d+"s";g=function(a,b){return e(this.getTime()-ga.create(a,b).getTime())};k=function(a,b){return e(ga.create(a,b).getTime()-this.getTime())};a[c+"sAgo"]=k;a[c+"sUntil"]=k;a[c+"sSince"]=g;a[c+"sFromNow"]=g;a[b.addMethod]=function(a,b){var h={};h[c]=a;return this.advance(h,
b)};tb(b,f);3>h&&["Last","This","Next"].forEach(function(b){a["is"+b+d]=function(){return jb(this,b+" "+c,"en")}});4>h&&(a["beginningOf"+d]=function(){var a={};switch(c){case "year":a.year=C(this,"FullYear");break;case "month":a.month=C(this,"Month");break;case "day":a.day=C(this,"Date");break;case "week":a.weekday=0}return this.set(a,!0)},a["endOf"+d]=function(){var a={hours:23,minutes:59,seconds:59,milliseconds:999};switch(c){case "year":a.month=11;a.day=31;break;case "month":a.day=this.daysInMonth();
break;case "week":a.weekday=6}return this.set(a,!0)})})})();Ha.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",!0,["year_sign","year","month","date"],!1,!0);Ha.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",!0,["date","month","year"],!0);Ha.addFormat("{full_month}[-.](\\d{4,4})",!1,["month","year"]);Ha.addFormat("\\/Date\\((\\d+(?:[+-]\\d{4,4})?)\\)\\/",!1,["timestamp"]);Ha.addFormat(Va(tc,Ha),!1,oc);ac=Ha.compiledFormats.slice(0,7).reverse();Ha.compiledFormats=Ha.compiledFormats.slice(7).concat(ac);
(function(){Qa("f",function(a){return C(a,"Milliseconds")},!0);Qa("s",function(a){return C(a,"Seconds")});Qa("m",function(a){return C(a,"Minutes")});Qa("h",function(a){return C(a,"Hours")%12||12});Qa("H",function(a){return C(a,"Hours")});Qa("d",function(a){return C(a,"Date")});Qa("M",function(a){return C(a,"Month")+1});ob();ib();fb("mon",0,3);fb("month",0);fb("month2",1);fb("month3",2);Ea.ms=Ea.f;Ea.milliseconds=Ea.f;Ea.seconds=Ea.s;Ea.minutes=Ea.m;Ea.hours=Ea.h;Ea["24hr"]=Ea.H;Ea["12hr"]=Ea.h;Ea.date=
Ea.d;Ea.day=Ea.d;Ea.year=Ea.yyyy})();(function(){b(ga,!0,!0,"short,long,full",function(a,b){a[b]=function(a){return Ra(this,b,!1,a)}})})();(function(){"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07".split("").forEach(function(a,b){9<b&&(b=qb(10,b-9));Jb[a]=b});z(Jb,rb);dc=ua("([\u671f\u9031\u5468])?([\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07"+Aa+"]+)(?!\u6628)","g")})();(function(){var a=Ha.weekdays.slice(0,7),h=Ha.months.slice(0,
12);b(ga,!0,!0,"today yesterday tomorrow weekday weekend future past".split(" ").concat(a).concat(h),function(a,b){a["is"+Ba(b)]=function(a){return this.is(b,0,a)}})})();(function(){ga.utc||(ga.utc={create:function(){return Ca(arguments,0,!0)},past:function(){return Ca(arguments,-1,!0)},future:function(){return Ca(arguments,1,!0)}})})();d(ga,!1,!0,{RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"});
d(Function,!0,!0,{lazy:function(a,b,h){function e(){d.length<h-(f&&b?1:0)&&d.push([this,arguments]);f||(f=!0,b?g():Oa(e,k,g));return l}var c=this,d=[],f=!1,g,k,q,l;a=a||1;h=h||Infinity;k=za(a);q=wb(k/a)||1;g=function(){var a=d.length,b;if(0!=a){for(b=Ab(a-q,0);a>b;)l=Function.prototype.apply.apply(c,d.shift()),a--;Oa(e,k,function(){f=!1;g()})}};return e},throttle:function(a){return this.lazy(a,!0,1)},debounce:function(a){function b(){b.cancel();Oa(b,a,h,this,arguments)}var h=this;return b},delay:function(a){var b=
g(arguments,null,1);Oa(this,a,this,this,b);return this},every:function(a){function b(){h.apply(h,e);Oa(h,a,b)}var h=this,e=arguments,e=1<e.length?g(e,null,1):[];Oa(h,a,b);return h},cancel:function(){var a=this.timers,b;if(Sa(a))for(;b=a.shift();)clearTimeout(b);this._canceled=!0;return this},after:function(a){var b=this,h=0,e=[];if(Ma(a)){if(0===a)return b.call(),b}else a=1;return function(){var c;e.push(g(arguments));h++;if(h==a)return c=b.call(this,e),h=0,e=[],c}},once:function(){return this.throttle(Infinity,
!0)},fill:function(){var a=this,b=g(arguments);return function(){var h=g(arguments);b.forEach(function(a,b){(null!=a||b>=h.length)&&h.splice(b,0,a)});return a.apply(this,h)}}});d($a,!1,!0,{random:function(a,b){var h,e;1==arguments.length&&(b=a,a=0);h=xc(a||0,b===fa?1:b);e=Ab(a||0,b===fa?1:b)+1;return Ja(ab.random()*(e-h)+h)}});d($a,!0,!0,{log:function(a){return ab.log(this)/(a?ab.log(a):1)},abbr:function(a){return ec(this,a,"kmbt",0,4)},metric:function(a,b){return ec(this,a,"n\u03bcm kMGTPE",4,b===
fa?1:b)},bytes:function(a,b){return ec(this,a,"kMGTPE",0,b===fa?4:b,!0)+"B"},isInteger:function(){return 0==this%1},isOdd:function(){return!isNaN(this)&&!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(a){return 0===this%a},format:function(a,b,h){var e,c,d,f="";b===fa&&(b=",");h===fa&&(h=".");e=(Ma(a)?F(this,a||0).toFixed(Ab(a,0)):this.toString()).replace(/^-/,"").split(".");c=e[0];d=e[1];for(e=c.length;0<e;e-=3)e<c.length&&(f=b+f),f=c.slice(Ab(0,e-3),e)+
f;d&&(f+=h+y("0",(a||0)-d.length)+d);return(0>this?"-":"")+f},hex:function(a){return this.pad(a||1,!1,16)},times:function(a){if(a)for(var b=0;b<this;b++)a.call(this,b);return this.toNumber()},chr:function(){return ra.fromCharCode(this)},pad:function(a,b,h){return L(this,a,b,h)},ordinalize:function(){var a=mb(this),a=parseInt(a.toString().slice(-2));return this+J(a)},toNumber:function(){return parseFloat(this,10)}});(function(){function a(b){return function(a){return a?F(this,a,b):b(this)}}d($a,!0,
!0,{ceil:a(za),round:a(wb),floor:a(Ja)});b($a,!0,!0,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(a,b){a[b]=function(a,h){return ab[b](this,a,h)}})})();var jc=["isObject","isNaN"],yc="keys values select reject each merge clone equal watch tap has toQueryString".split(" ");d(ja,!1,!0,{watch:function(a,b,h){if(Pb){var e=a[b];ja.defineProperty(a,b,{enumerable:!0,configurable:!0,get:function(){return e},set:function(c){e=h.call(a,b,e,c)}})}}});d(ja,!1,function(){return 1<arguments.length},
{keys:function(a,b){var h=ja.keys(a);h.forEach(function(h){b.call(a,h,a[h])});return h}});d(ja,!1,!0,{isObject:function(a){return v(a)},isNaN:function(a){return Ma(a)&&a.valueOf()!==a.valueOf()},equal:function(a,b){return D(a,b)},extended:function(a){return new K(a)},merge:function(a,b,h,e){var c,d,f;if(a&&"string"!==typeof b)for(c in b)if(m(b,c)&&a){d=b[c];f=h&&l(d);if(a[c]!==fa){if(!1===e&&!f)continue;Ua(e)&&(d=e.call(b,c,a[c],b[c]))}if(f)if(Za(d))d=new ga(d.getTime());else if(cb(d))d=new ua(d.source,
x(d));else{a[c]||(a[c]=ka.isArray(d)?[]:{});ja.merge(a[c],b[c],h,e);continue}a[c]=d}return a},values:function(a,b){var h=[];u(a,function(e,c){h.push(c);b&&b.call(a,c)});return h},clone:function(a,b){var h;if(!l(a))return a;h=pb.call(a);if(Za(a,h)&&a.clone)return a.clone();if(Za(a,h)||cb(a,h))return new a.constructor(a);if(a instanceof K)h=new K;else if(Sa(a,h))h=[];else if(v(a,h))h={};else throw new TypeError("Clone must be a basic data type.");return ja.merge(h,a,b)},fromQueryString:function(a,b){var h=
ja.extended();a=a&&a.toString?a.toString():"";a.replace(/^.*?\?/,"").split("&").forEach(function(a){a=a.split("=");2===a.length&&fc(h,a[0],decodeURIComponent(a[1]),b)});return h},toQueryString:function(a,b){return pc(b,a)},tap:function(a,b){var h=b;Ua(b)||(h=function(){if(b)a[b]()});h.call(a,a);return a},has:function(a,b){return m(a,b)},select:function(a){return qc(a,arguments,!0)},reject:function(a){return qc(a,arguments,!1)}});(function(){b(ja,!1,!0,bb,function(a,b){var h="is"+b;jc.push(h);a[h]=
Ob[b]})})();(function(){d(ja,!1,function(){return 0===arguments.length},{extend:function(){var a=jc.concat(yc);"undefined"!==typeof Nb&&(a=a.concat(Nb));M(a,ja)}})})();M(yc,K);kb.prototype.toString=function(){return this.isValid()?this.start+".."+this.end:"Invalid Range"};d(kb,!0,!0,{isValid:function(){return Ub(this.start)&&Ub(this.end)&&typeof this.start===typeof this.end},span:function(){return this.isValid()?mb((va(this.end)?this.end.charCodeAt(0):this.end)-(va(this.start)?this.start.charCodeAt(0):
this.start))+1:NaN},contains:function(a){return null==a?!1:a.start&&a.end?a.start>=this.start&&a.start<=this.end&&a.end>=this.start&&a.end<=this.end:a>=this.start&&a<=this.end},every:function(a,b){var h,e=this.start,c=this.end,d=c<e,f=e,g=0,k=[];Ua(a)&&(b=a,a=null);a=a||1;Ma(e)?h=gc:va(e)?h=Hb:Za(e)&&(h=a,Ma(h)?a=h:(e=h.toLowerCase().match(/^(\d+)?\s?(\w+?)s?$/i),h=parseInt(e[1])||1,e=e[2].slice(0,1).toUpperCase()+e[2].slice(1),e.match(/hour|minute|second/i)?e+="s":"Year"===e?e="FullYear":"Day"===
e&&(e="Date"),a=[h,e]),h=Xa);for(d&&0<a&&(a*=-1);d?f>=c:f<=c;)k.push(f),b&&b(f,g),f=h(f,a),g++;return k},union:function(a){return new kb(this.start<a.start?this.start:a.start,this.end>a.end?this.end:a.end)},intersect:function(a){return a.start>this.end||a.end<this.start?new kb(NaN,NaN):new kb(this.start>a.start?this.start:a.start,this.end<a.end?this.end:a.end)},clone:function(a){return new kb(this.start,this.end)},clamp:function(a){var b=this.start,h=this.end,e=h<b?h:b,b=b>h?b:h;return Tb(a<e?e:a>
b?b:a)}});[$a,ra,ga].forEach(function(a){d(a,!1,!0,{range:function(b,h){a.create&&(b=a.create(b),h=a.create(h));return new kb(b,h)}})});d($a,!0,!0,{upto:function(a,b,h){return $a.range(this,a).every(h,b)},clamp:function(a,b){return(new kb(a,b)).clamp(this)},cap:function(a){return this.clamp(fa,a)}});d($a,!0,!0,{downto:$a.prototype.upto});d(ka,!1,function(a){return a instanceof kb},{create:function(a){return a.every()}});d(ua,!1,!0,{escape:function(a){return S(a)}});d(ua,!0,!0,{getFlags:function(){return x(this)},
setFlags:function(a){return ua(this.source,a)},addFlag:function(a){return this.setFlags(x(this,a))},removeFlag:function(a){return this.setFlags(x(this).replace(a,""))}});var zc,Ac;d(ra,!0,!1,{repeat:function(a){a=Lb(a);return y(this,a)}});d(ra,!0,function(a){return cb(a)||2<arguments.length},{startsWith:function(a){var b=arguments,h=b[1],b=b[2],e=this;h&&(e=e.slice(h));b===fa&&(b=!0);h=cb(a)?a.source.replace("^",""):S(a);return ua("^"+h,b?"":"i").test(e)},endsWith:function(a){var b=arguments,h=b[1],
b=b[2],e=this;h!==fa&&(e=e.slice(0,h));b===fa&&(b=!0);h=cb(a)?a.source.replace("$",""):S(a);return ua(h+"$",b?"":"i").test(e)}});d(ra,!0,!0,{escapeRegExp:function(){return S(this)},escapeURL:function(a){return a?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(a){return a?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&lt;/g,
"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/").replace(/&amp;/g,"&")},encodeBase64:function(){return zc(unescape(encodeURIComponent(this)))},decodeBase64:function(){return decodeURIComponent(escape(Ac(this)))},each:function(a,b){var h,e,c;Ua(a)?(b=a,a=/[\s\S]/g):a?va(a)?a=ua(S(a),"gi"):cb(a)&&(a=ua(a.source,x(a,"g"))):a=/[\s\S]/g;h=this.match(a)||[];if(b){e=0;for(c=h.length;e<c;e++)h[e]=b.call(this,h[e],e,h)||h[e]}return h},shift:function(a){var b="";
a=a||0;this.codes(function(h){b+=ra.fromCharCode(h+a)});return b},codes:function(a){var b=[],h,e;h=0;for(e=this.length;h<e;h++){var c=this.charCodeAt(h);b.push(c);a&&a.call(this,c,h)}return b},chars:function(a){return this.each(a)},words:function(a){return this.trim().each(/\S+/g,a)},lines:function(a){return this.trim().each(/^.*$/gm,a)},paragraphs:function(a){var b=this.trim().split(/[\r\n]{2,}/);return b=b.map(function(b){if(a)var h=a.call(b);return h?h:b})},isBlank:function(){return 0===this.trim().length},
has:function(a){return-1!==this.search(cb(a)?a:S(a))},add:function(a,b){b=b===fa?this.length:b;return this.slice(0,b)+a+this.slice(b)},remove:function(a){return this.replace(a,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s\u3000])+/g,function(a,b){return"\u3000"===b?b:" "})},at:function(){return U(this,arguments,!0)},from:function(a){return this.slice(ub(this,a,!0))},to:function(a){a===fa&&(a=this.length);return this.slice(0,
ub(this,a))},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(ra.Inflector&&ra.Inflector.acronymRegExp,function(a,b){return(0<b?"_":"")+a.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(a){return this.underscore().replace(/(^|_)([^_]+)/g,function(b,h,e,c){b=(b=ra.Inflector)&&b.acronyms[e];b=va(b)?b:void 0;c=!1!==a||0<c;return b?c?b:b.toLowerCase():
c?e.capitalize():e})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var a=this;n(0<arguments.length?arguments:[""],function(b){a=a.replace(ua("</?"+S(b)+"[^<>]*>","gi"),"")});return a},removeTags:function(){var a=this;n(0<arguments.length?arguments:["\\S+"],function(b){b=ua("<("+b+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi");a=a.replace(b,"")});return a},truncate:function(a,b,h){return hc(this,a,b,h)},truncateOnWord:function(a,b,h){return hc(this,a,b,h,!0)},pad:function(a,
b){var h,e;a=Lb(a);h=Ab(0,a-this.length)/2;e=Ja(h);h=za(h);return Bb(e,b)+this+Bb(h,b)},padLeft:function(a,b){a=Lb(a);return Bb(Ab(0,a-this.length),b)+this},padRight:function(a,b){a=Lb(a);return this+Bb(Ab(0,a-this.length),b)},first:function(a){a===fa&&(a=1);return this.substr(0,a)},last:function(a){a===fa&&(a=1);return this.substr(0>this.length-a?0:this.length-a)},toNumber:function(a){return I(this,a)},capitalize:function(a){var b;return this.toLowerCase().replace(a?/[^']/g:/^\S/,function(a){var h=
a.toUpperCase(),e;e=b?a:h;b=h!==a;return e})},assign:function(){var a={};n(arguments,function(b,h){l(b)?z(a,b):a[h+1]=b});return this.replace(/\{([^{]+?)\}/g,function(b,h){return m(a,h)?a[h]:b})}});d(ra,!0,!0,{insert:ra.prototype.add});(function(a){if(Mb.btoa)zc=Mb.btoa,Ac=Mb.atob;else{var b=/[^A-Za-z0-9\+\/\=]/g;zc=function(b){var h="",e,c,d,f,g,k,q=0;do e=b.charCodeAt(q++),c=b.charCodeAt(q++),d=b.charCodeAt(q++),f=e>>2,e=(e&3)<<4|c>>4,g=(c&15)<<2|d>>6,k=d&63,isNaN(c)?g=k=64:isNaN(d)&&(k=64),h=h+
a.charAt(f)+a.charAt(e)+a.charAt(g)+a.charAt(k);while(q<b.length);return h};Ac=function(h){var e="",c,d,f,g,k,q=0;if(h.match(b))throw Error("String contains invalid base64 characters");h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");do c=a.indexOf(h.charAt(q++)),d=a.indexOf(h.charAt(q++)),g=a.indexOf(h.charAt(q++)),k=a.indexOf(h.charAt(q++)),c=c<<2|d>>4,d=(d&15)<<4|g>>2,f=(g&3)<<6|k,e+=ra.fromCharCode(c),64!=g&&(e+=ra.fromCharCode(d)),64!=k&&(e+=ra.fromCharCode(f));while(q<h.length);return e}}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")})();
(function(c,r){function f(a){var b=a.length,e=h.type(a);return h.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===e||"function"!==e&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function d(a){var b=Fa[a]={};h.each(a.match(G)||[],function(a,h){b[h]=!0});return b}function b(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=h.expando+Math.random()}function k(a,b,h){if(h===r&&1===a.nodeType)if(h="data-"+b.replace(Da,"-$1").toLowerCase(),h=a.getAttribute(h),"string"===typeof h){try{h=
"true"===h?!0:"false"===h?!1:"null"===h?null:+h+""===h?+h:Ba.test(h)?JSON.parse(h):h}catch(e){}Z.set(a,b,h)}else h=r;return h}function a(){return!0}function e(){return!1}function g(){try{return P.activeElement}catch(a){}}function n(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function p(a,b,e){if(h.isFunction(b))return h.grep(a,function(a,h){return!!b.call(a,h,a)!==e});if(b.nodeType)return h.grep(a,function(a){return a===b!==e});if("string"===typeof b){if(hb.test(b))return h.filter(b,a,e);b=h.filter(b,
a)}return h.grep(a,function(a){return 0<=na.call(b,a)!==e})}function m(a,b){return h.nodeName(a,"table")&&h.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function l(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function t(a){var b=Wa.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function v(a,b){for(var h=a.length,e=0;e<h;e++)X.set(a[e],"globalEval",!b||X.get(b[e],"globalEval"))}
function u(a,b){var e,c,d,f;if(1===b.nodeType){if(X.hasData(a)&&(f=X.access(a),e=X.set(b,f),f=f.events))for(d in delete e.handle,e.events={},f){e=0;for(c=f[d].length;e<c;e++)h.event.add(b,d,f[d][e])}Z.hasData(a)&&(d=Z.access(a),d=h.extend({},d),Z.set(b,d))}}function w(a,b){var e=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return b===r||b&&h.nodeName(a,b)?h.merge([a],e):e}function z(a,b){if(b in a)return b;for(var h=b.charAt(0).toUpperCase()+
b.slice(1),e=b,c=Hb.length;c--;)if(b=Hb[c]+h,b in a)return b;return e}function s(a,b){a=b||a;return"none"===h.css(a,"display")||!h.contains(a.ownerDocument,a)}function K(a,b){for(var e,c,d,f=[],g=0,k=a.length;g<k;g++)if(c=a[g],c.style)if(f[g]=X.get(c,"olddisplay"),e=c.style.display,b)!f[g]&&"none"===e&&(c.style.display=""),""===c.style.display&&s(c)&&(f[g]=X.access(c,"olddisplay",I(c.nodeName)));else if(!f[g]&&(d=s(c),e&&"none"!==e||!d))X.set(c,"olddisplay",d?e:h.css(c,"display"));for(g=0;g<k;g++)if(c=
a[g],c.style&&(!b||"none"===c.style.display||""===c.style.display))c.style.display=b?f[g]||"":"none";return a}function F(a,b,h){return(a=pc.exec(b))?Math.max(0,a[1]-(h||0))+(a[2]||"px"):b}function H(a,b,e,c,d){b=e===(c?"border":"content")?4:"width"===b?1:0;for(var f=0;4>b;b+=2)"margin"===e&&(f+=h.css(a,e+Xa[b],!0,d)),c?("content"===e&&(f-=h.css(a,"padding"+Xa[b],!0,d)),"margin"!==e&&(f-=h.css(a,"border"+Xa[b]+"Width",!0,d))):(f+=h.css(a,"padding"+Xa[b],!0,d),"padding"!==e&&(f+=h.css(a,"border"+Xa[b]+
"Width",!0,d)));return f}function y(a,b,e){var d=!0,f="width"===b?a.offsetWidth:a.offsetHeight,g=c.getComputedStyle(a,null),k=h.support.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,g);if(0>=f||null==f){f=tb(a,b,g);if(0>f||null==f)f=a.style[b];if(Sb.test(f))return f;d=k&&(h.support.boxSizingReliable||f===a.style[b]);f=parseFloat(f)||0}return f+H(a,b,e||(k?"border":"content"),d,g)+"px"}function I(a){var b=P,e=kb[a];if(!e){e=L(a,b);if("none"===e||!e)Oa=(Oa||h("<iframe frameborder='0' width='0' height='0'/>").css("cssText",
"display:block !important")).appendTo(b.documentElement),b=(Oa[0].contentWindow||Oa[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),e=L(a,b),Oa.detach();kb[a]=e}return e}function L(a,b){var e=h(b.createElement(a)).appendTo(b.body),c=h.css(e[0],"display");e.remove();return c}function J(a,b,e,c){var d;if(h.isArray(b))h.each(b,function(b,h){e||Lb.test(a)?c(a,h):J(a+"["+("object"===typeof h?b:"")+"]",h,e,c)});else if(!e&&"object"===h.type(b))for(d in b)J(a+"["+d+"]",b[d],
e,c);else c(a,b)}function x(a){return function(b,e){"string"!==typeof b&&(e=b,b="*");var c,d=0,f=b.toLowerCase().match(G)||[];if(h.isFunction(e))for(;c=f[d++];)"+"===c[0]?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(e)):(a[c]=a[c]||[]).push(e)}}function S(a,b,e,c){function d(k){var q;f[k]=!0;h.each(a[k]||[],function(a,h){var k=h(b,e,c);if("string"===typeof k&&!g&&!f[k])return b.dataTypes.unshift(k),d(k),!1;if(g)return!(q=k)});return q}var f={},g=a===Pb;return d(b.dataTypes[0])||!f["*"]&&d("*")}function C(a,
b){var e,c,d=h.ajaxSettings.flatOptions||{};for(e in b)b[e]!==r&&((d[e]?a:c||(c={}))[e]=b[e]);c&&h.extend(!0,a,c);return a}function B(){setTimeout(function(){Sa=r});return Sa=h.now()}function N(a,b,h){for(var e,c=(za[b]||[]).concat(za["*"]),d=0,f=c.length;d<f;d++)if(e=c[d].call(h,b,a))return e}function D(a,b,e){var c,d=0,f=qb.length,g=h.Deferred().always(function(){delete k.elem}),k=function(){if(c)return!1;for(var b=Sa||B(),b=Math.max(0,q.startTime+q.duration-b),h=1-(b/q.duration||0),e=0,d=q.tweens.length;e<
d;e++)q.tweens[e].run(h);g.notifyWith(a,[q,h,b]);if(1>h&&d)return b;g.resolveWith(a,[q]);return!1},q=g.promise({elem:a,props:h.extend({},b),opts:h.extend(!0,{specialEasing:{}},e),originalProperties:b,originalOptions:e,startTime:Sa||B(),duration:e.duration,tweens:[],createTween:function(b,e){var c=h.Tween(a,q.opts,b,e,q.opts.specialEasing[b]||q.opts.easing);q.tweens.push(c);return c},stop:function(b){var h=0,e=b?q.tweens.length:0;if(c)return this;for(c=!0;h<e;h++)q.tweens[h].run(1);b?g.resolveWith(a,
[q,b]):g.rejectWith(a,[q,b]);return this}});e=q.props;for(la(e,q.opts.specialEasing);d<f;d++)if(b=qb[d].call(q,a,e,q.opts))return b;h.map(e,N,q);h.isFunction(q.opts.start)&&q.opts.start.call(a,q);h.fx.timer(h.extend(k,{elem:a,anim:q,queue:q.opts.queue}));return q.progress(q.opts.progress).done(q.opts.done,q.opts.complete).fail(q.opts.fail).always(q.opts.always)}function la(a,b){var e,c,d,f,g;for(e in a)if(c=h.camelCase(e),d=b[c],f=a[e],h.isArray(f)&&(d=f[1],f=a[e]=f[0]),e!==c&&(a[c]=f,delete a[e]),
(g=h.cssHooks[c])&&"expand"in g)for(e in f=g.expand(f),delete a[c],f)e in a||(a[e]=f[e],b[e]=d);else b[c]=d}function U(a,b,h,e,c){return new U.prototype.init(a,b,h,e,c)}function Y(a,b){var h,e={height:a},c=0;for(b=b?1:0;4>c;c+=2-b)h=Xa[c],e["margin"+h]=e["padding"+h]=a;b&&(e.opacity=e.width=a);return e}var M,O,Q=typeof r,W=c.location,P=c.document,ha=P.documentElement,oa=c.jQuery,wa=c.$,xa={},sa=[],ia=sa.concat,ma=sa.push,pa=sa.slice,na=sa.indexOf,qa=xa.toString,q=xa.hasOwnProperty,A="2.0.3".trim,
h=function(a,b){return new h.fn.init(a,b,M)},E=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,G=/\S+/g,ba=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ea=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ca=/^-ms-/,Ta=/-([\da-z])/gi,ta=function(a,b){return b.toUpperCase()},R=function(){P.removeEventListener("DOMContentLoaded",R,!1);c.removeEventListener("load",R,!1);h.ready()};h.fn=h.prototype={jquery:"2.0.3",constructor:h,init:function(a,b,e){var c;if(!a)return this;if("string"===typeof a){if((c="<"===a.charAt(0)&&">"===a.charAt(a.length-
1)&&3<=a.length?[null,a,null]:ba.exec(a))&&(c[1]||!b)){if(c[1]){if(b=b instanceof h?b[0]:b,h.merge(this,h.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:P,!0)),ea.test(c[1])&&h.isPlainObject(b))for(c in b)if(h.isFunction(this[c]))this[c](b[c]);else this.attr(c,b[c])}else{if((b=P.getElementById(c[2]))&&b.parentNode)this.length=1,this[0]=b;this.context=P;this.selector=a}return this}return!b||b.jquery?(b||e).find(a):this.constructor(b).find(a)}if(a.nodeType)return this.context=this[0]=a,this.length=
1,this;if(h.isFunction(a))return e.ready(a);a.selector!==r&&(this.selector=a.selector,this.context=a.context);return h.makeArray(a,this)},selector:"",length:0,toArray:function(){return pa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=h.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return h.each(this,a,b)},ready:function(a){h.ready.promise().done(a);return this},slice:function(){return this.pushStack(pa.apply(this,
arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(h.map(this,function(b,h){return a.call(b,h,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ma,sort:[].sort,splice:[].splice};h.fn.init.prototype=h.fn;h.extend=h.fn.extend=function(){var a,b,e,c,d,f=arguments[0]||{},g=1,q=arguments.length,k=!1;"boolean"===typeof f&&
(k=f,f=arguments[1]||{},g=2);"object"!==typeof f&&!h.isFunction(f)&&(f={});q===g&&(f=this,--g);for(;g<q;g++)if(null!=(a=arguments[g]))for(b in a)e=f[b],c=a[b],f!==c&&(k&&c&&(h.isPlainObject(c)||(d=h.isArray(c)))?(d?(d=!1,e=e&&h.isArray(e)?e:[]):e=e&&h.isPlainObject(e)?e:{},f[b]=h.extend(k,e,c)):c!==r&&(f[b]=c));return f};h.extend({expando:"jQuery"+("2.0.3"+Math.random()).replace(/\D/g,""),noConflict:function(a){c.$===h&&(c.$=wa);a&&c.jQuery===h&&(c.jQuery=oa);return h},isReady:!1,readyWait:1,holdReady:function(a){a?
h.readyWait++:h.ready(!0)},ready:function(a){if(!(!0===a?--h.readyWait:h.isReady))h.isReady=!0,!0!==a&&0<--h.readyWait||(O.resolveWith(P,[h]),h.fn.trigger&&h(P).trigger("ready").off("ready"))},isFunction:function(a){return"function"===h.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?xa[qa.call(a)]||"object":typeof a},
isPlainObject:function(a){if("object"!==h.type(a)||a.nodeType||h.isWindow(a))return!1;try{if(a.constructor&&!q.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,e){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(e=b,b=!1);b=b||P;var c=ea.exec(a);e=!e&&[];if(c)return[b.createElement(c[1])];c=h.buildFragment([a],b,e);e&&h(e).remove();return h.merge([],
c.childNodes)},parseJSON:JSON.parse,parseXML:function(a){var b,e;if(!a||"string"!==typeof a)return null;try{e=new DOMParser,b=e.parseFromString(a,"text/xml")}catch(c){b=r}(!b||b.getElementsByTagName("parsererror").length)&&h.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){var b;b=eval;if(a=h.trim(a))1===a.indexOf("use strict")?(b=P.createElement("script"),b.text=a,P.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(ca,"ms-").replace(Ta,
ta)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,h){var e,c=0,d=a.length;e=f(a);if(h)if(e)for(;c<d&&!(e=b.apply(a[c],h),!1===e);c++);else for(c in a){if(e=b.apply(a[c],h),!1===e)break}else if(e)for(;c<d&&!(e=b.call(a[c],c,a[c]),!1===e);c++);else for(c in a)if(e=b.call(a[c],c,a[c]),!1===e)break;return a},trim:function(a){return null==a?"":A.call(a)},makeArray:function(a,b){var e=b||[];null!=a&&(f(Object(a))?h.merge(e,"string"===typeof a?[a]:
a):ma.call(e,a));return e},inArray:function(a,b,h){return null==b?-1:na.call(b,a,h)},merge:function(a,b){var h=b.length,e=a.length,c=0;if("number"===typeof h)for(;c<h;c++)a[e++]=b[c];else for(;b[c]!==r;)a[e++]=b[c++];a.length=e;return a},grep:function(a,b,h){var e,c=[],d=0,f=a.length;for(h=!!h;d<f;d++)e=!!b(a[d],d),h!==e&&c.push(a[d]);return c},map:function(a,b,h){var e,c=0,d=a.length,g=[];if(f(a))for(;c<d;c++)e=b(a[c],c,h),null!=e&&(g[g.length]=e);else for(c in a)e=b(a[c],c,h),null!=e&&(g[g.length]=
e);return ia.apply([],g)},guid:1,proxy:function(a,b){var e,c;"string"===typeof b&&(e=a[b],b=a,a=e);if(!h.isFunction(a))return r;c=pa.call(arguments,2);e=function(){return a.apply(b||this,c.concat(pa.call(arguments)))};e.guid=a.guid=a.guid||h.guid++;return e},access:function(a,b,e,c,d,f,g){var q=0,k=a.length,l=null==e;if("object"===h.type(e))for(q in d=!0,e)h.access(a,b,q,e[q],!0,f,g);else if(c!==r&&(d=!0,h.isFunction(c)||(g=!0),l&&(g?(b.call(a,c),b=null):(l=b,b=function(a,b,e){return l.call(h(a),
e)})),b))for(;q<k;q++)b(a[q],e,g?c:c.call(a[q],q,b(a[q],e)));return d?a:l?b.call(a):k?b(a[0],e):f},now:Date.now,swap:function(a,b,h,e){var c,d={};for(c in b)d[c]=a.style[c],a.style[c]=b[c];h=h.apply(a,e||[]);for(c in b)a.style[c]=d[c];return h}});h.ready.promise=function(a){O||(O=h.Deferred(),"complete"===P.readyState?setTimeout(h.ready):(P.addEventListener("DOMContentLoaded",R,!1),c.addEventListener("load",R,!1)));return O.promise(a)};h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){xa["[object "+b+"]"]=b.toLowerCase()});M=h(P);(function(a,b){function e(a,b,h,c){var d,f,g,q,k;(b?b.ownerDocument||b:r)!==L&&N(b);b=b||L;h=h||[];if(!a||"string"!==typeof a)return h;if(1!==(q=b.nodeType)&&9!==q)return[];if(z&&!c){if(d=jb.exec(a))if(g=d[1])if(9===q)if((f=b.getElementById(g))&&f.parentNode){if(f.id===g)return h.push(f),h}else return h;else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&ea(b,f)&&f.id===g)return h.push(f),h}else{if(d[2])return Pa.apply(h,b.getElementsByTagName(a)),
h;if((g=d[3])&&B.getElementsByClassName&&b.getElementsByClassName)return Pa.apply(h,b.getElementsByClassName(g)),h}if(B.qsa&&(!ya||!ya.test(a))){f=d=J;g=b;k=9===q&&a;if(1===q&&"object"!==b.nodeName.toLowerCase()){q=p(a);(d=b.getAttribute("id"))?f=d.replace(O,"\\$&"):b.setAttribute("id",f);f="[id='"+f+"'] ";for(g=q.length;g--;)q[g]=f+A(q[g]);g=M.test(a)&&b.parentNode||b;k=q.join(",")}if(k)try{return Pa.apply(h,g.querySelectorAll(k)),h}catch(l){}finally{d||b.removeAttribute("id")}}}var n;a:{a=a.replace(eb,
"$1");f=p(a);if(!c&&1===f.length){d=f[0]=f[0].slice(0);if(2<d.length&&"ID"===(n=d[0]).type&&B.getById&&9===b.nodeType&&z&&w.relative[d[1].type]){b=(w.find.ID(n.matches[0].replace(Oa,Q),b)||[])[0];if(!b){n=h;break a}a=a.slice(d.shift().value.length)}for(q=Na.needsContext.test(a)?0:d.length;q--;){n=d[q];if(w.relative[g=n.type])break;if(g=w.find[g])if(c=g(n.matches[0].replace(Oa,Q),M.test(d[0].type)&&b.parentNode||b)){d.splice(q,1);a=c.length&&A(d);if(!a){Pa.apply(h,c);n=h;break a}break}}}T(a,f)(c,b,
!z,h,M.test(a));n=h}return n}function c(){function a(h,e){b.push(h+=" ")>w.cacheLength&&delete a[b.shift()];return a[h]=e}var b=[];return a}function d(a){a[J]=!0;return a}function f(a){var b=L.createElement("div");try{return!!a(b)}catch(h){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function g(a,b){for(var h=a.split("|"),e=a.length;e--;)w.attrHandle[h[e]]=b}function q(a,b){var h=b&&a,e=h&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||Ga)-(~a.sourceIndex||Ga);if(e)return e;if(h)for(;h=
h.nextSibling;)if(h===b)return-1;return a?1:-1}function k(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function l(a){return function(b){var h=b.nodeName.toLowerCase();return("input"===h||"button"===h)&&b.type===a}}function n(a){return d(function(b){b=+b;return d(function(h,e){for(var c,d=a([],h.length,b),f=d.length;f--;)if(h[c=d[f]])h[c]=!(e[c]=h[c])})})}function m(){}function p(a,b){var h,c,d,f,g,q,k;if(g=H[a+" "])return b?0:g.slice(0);g=a;q=[];for(k=w.preFilter;g;){if(!h||
(c=tb.exec(g)))c&&(g=g.slice(c[0].length)||g),q.push(d=[]);h=!1;if(c=fb.exec(g))h=c.shift(),d.push({value:h,type:c[0].replace(eb," ")}),g=g.slice(h.length);for(f in w.filter)if((c=Na[f].exec(g))&&(!k[f]||(c=k[f](c))))h=c.shift(),d.push({value:h,type:f,matches:c}),g=g.slice(h.length);if(!h)break}return b?g.length:g?e.error(a):H(a,q).slice(0)}function A(a){for(var b=0,h=a.length,e="";b<h;b++)e+=a[b].value;return e}function y(a,b,h){var e=b.dir,c=h&&"parentNode"===e,d=sb++;return b.first?function(b,
h,d){for(;b=b[e];)if(1===b.nodeType||c)return a(b,h,d)}:function(b,h,f){var g,q,k,l=ba+" "+d;if(f)for(;b=b[e];){if((1===b.nodeType||c)&&a(b,h,f))return!0}else for(;b=b[e];)if(1===b.nodeType||c)if(k=b[J]||(b[J]={}),(q=k[e])&&q[0]===l){if(!0===(g=q[1])||g===G)return!0===g}else if(q=k[e]=[l],q[1]=a(b,h,f)||G,!0===q[1])return!0}}function E(a){return 1<a.length?function(b,h,e){for(var c=a.length;c--;)if(!a[c](b,h,e))return!1;return!0}:a[0]}function C(a,b,h,e,c){for(var d,f=[],g=0,q=a.length,k=null!=b;g<
q;g++)if(d=a[g])if(!h||h(d,e,c))f.push(d),k&&b.push(g);return f}function u(a,b,h,c,f,g){c&&!c[J]&&(c=u(c));f&&!f[J]&&(f=u(f,g));return d(function(d,g,q,k){var l,n,m=[],p=[],A=g.length,y;if(!(y=d)){y=b||"*";for(var E=q.nodeType?[q]:q,Ja=[],u=0,x=E.length;u<x;u++)e(y,E[u],Ja);y=Ja}y=a&&(d||!b)?C(y,m,a,q,k):y;E=h?f||(d?a:A||c)?[]:g:y;h&&h(y,E,q,k);if(c){l=C(E,p);c(l,[],q,k);for(q=l.length;q--;)if(n=l[q])E[p[q]]=!(y[p[q]]=n)}if(d){if(f||a){if(f){l=[];for(q=E.length;q--;)if(n=E[q])l.push(y[q]=n);f(null,
E=[],l,k)}for(q=E.length;q--;)if((n=E[q])&&-1<(l=f?Ba.call(d,n):m[q]))d[l]=!(g[l]=n)}}else E=C(E===g?E.splice(A,E.length):E),f?f(null,g,E,k):Pa.apply(g,E)})}function x(a){var b,h,e,c=a.length,d=w.relative[a[0].type];h=d||w.relative[" "];for(var f=d?1:0,g=y(function(a){return a===b},h,!0),q=y(function(a){return-1<Ba.call(b,a)},h,!0),k=[function(a,h,e){return!d&&(e||h!==I)||((b=h).nodeType?g(a,h,e):q(a,h,e))}];f<c;f++)if(h=w.relative[a[f].type])k=[y(E(k),h)];else{h=w.filter[a[f].type].apply(null,a[f].matches);
if(h[J]){for(e=++f;e<c&&!w.relative[a[e].type];e++);return u(1<f&&E(k),1<f&&A(a.slice(0,f-1).concat({value:" "===a[f-2].type?"*":""})).replace(eb,"$1"),h,f<e&&x(a.slice(f,e)),e<c&&x(a=a.slice(e)),e<c&&A(a))}k.push(h)}return E(k)}function t(a,b){var h=0,c=0<b.length,f=0<a.length,g=function(d,g,q,k,l){var n,m,p=[],A=0,y="0",E=d&&[],Ja=null!=l,u=I,x=d||f&&w.find.TAG("*",l&&g.parentNode||g),t=ba+=null==u?1:Math.random()||0.1;Ja&&(I=g!==L&&g,G=h);for(;null!=(l=x[y]);y++){if(f&&l){for(n=0;m=a[n++];)if(m(l,
g,q)){k.push(l);break}Ja&&(ba=t,G=++h)}c&&((l=!m&&l)&&A--,d&&E.push(l))}A+=y;if(c&&y!==A){for(n=0;m=b[n++];)m(E,p,g,q);if(d){if(0<A)for(;y--;)!E[y]&&!p[y]&&(p[y]=Ca.call(k));p=C(p)}Pa.apply(k,p);Ja&&(!d&&0<p.length&&1<A+b.length)&&e.uniqueSort(k)}Ja&&(ba=t,I=u);return E};return c?d(g):g}var v,B,G,w,s,V,T,I,F,N,L,D,z,ya,K,S,ea,J="sizzle"+-new Date,r=a.document,ba=0,sb=0,R=c(),H=c(),ca=c(),la=!1,Wa=function(a,b){a===b&&(la=!0);return 0},Va=typeof b,Ga=-2147483648,ta={}.hasOwnProperty,Z=[],Ca=Z.pop,
X=Z.push,Pa=Z.push,U=Z.slice,Ba=Z.indexOf||function(a){for(var b=0,h=this.length;b<h;b++)if(this[b]===a)return b;return-1},Fa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ta="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Fa+")|)|)[\\x20\\t\\r\\n\\f]*\\]",gb=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Ta.replace(3,8)+")*)|.*)\\)|)",
eb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,tb=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,fb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,M=/[\x20\t\r\n\f]*[+~]/,Da=/=[\x20\t\r\n\f]*([^\]'"]*)[\x20\t\r\n\f]*\]/g,db=RegExp(gb),ob=RegExp("^"+Fa+"$"),Na={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Ta),PSEUDO:RegExp("^"+gb),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Ia=/^[^{]+\{\s*\[native \w/,jb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,hb=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,O=/'|\\/g,Oa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
Q=function(a,b,h){a="0x"+b-65536;return a!==a||h?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Pa.apply(Z=U.call(r.childNodes),r.childNodes),Z[r.childNodes.length].nodeType}catch(Kb){Pa={apply:Z.length?function(a,b){X.apply(a,U.call(b))}:function(a,b){for(var h=a.length,e=0;a[h++]=b[e++];);a.length=h-1}}}V=e.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};B=e.support={};N=e.setDocument=function(a){var b=a?a.ownerDocument||
a:r;a=b.defaultView;if(b===L||9!==b.nodeType||!b.documentElement)return L;L=b;D=b.documentElement;z=!V(b);a&&(a.attachEvent&&a!==a.top)&&a.attachEvent("onbeforeunload",function(){N()});B.attributes=f(function(a){a.className="i";return!a.getAttribute("className")});B.getElementsByTagName=f(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});B.getElementsByClassName=f(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className=
"i";return 2===a.getElementsByClassName("i").length});B.getById=f(function(a){D.appendChild(a).id=J;return!b.getElementsByName||!b.getElementsByName(J).length});B.getById?(w.find.ID=function(a,b){if(typeof b.getElementById!==Va&&z){var h=b.getElementById(a);return h&&h.parentNode?[h]:[]}},w.filter.ID=function(a){var b=a.replace(Oa,Q);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(Oa,Q);return function(a){return(a=typeof a.getAttributeNode!==
Va&&a.getAttributeNode("id"))&&a.value===b}});w.find.TAG=B.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==Va)return b.getElementsByTagName(a)}:function(a,b){var h,e=[],c=0,d=b.getElementsByTagName(a);if("*"===a){for(;h=d[c++];)1===h.nodeType&&e.push(h);return e}return d};w.find.CLASS=B.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==Va&&z)return b.getElementsByClassName(a)};K=[];ya=[];if(B.qsa=Ia.test(b.querySelectorAll))f(function(a){a.innerHTML=
"<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||ya.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||ya.push(":checked")}),f(function(a){var h=b.createElement("input");h.setAttribute("type","hidden");a.appendChild(h).setAttribute("t","");a.querySelectorAll("[t^='']").length&&ya.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
a.querySelectorAll(":enabled").length||ya.push(":enabled",":disabled");a.querySelectorAll("*,:x");ya.push(",.*:")});(B.matchesSelector=Ia.test(S=D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&f(function(a){B.disconnectedMatch=S.call(a,"div");S.call(a,"[s!='']:x");K.push("!=",gb)});ya=ya.length&&RegExp(ya.join("|"));K=K.length&&RegExp(K.join("|"));ea=Ia.test(D.contains)||D.compareDocumentPosition?function(a,b){var h=9===a.nodeType?a.documentElement:a,e=b&&
b.parentNode;return a===e||!(!e||!(1===e.nodeType&&(h.contains?h.contains(e):a.compareDocumentPosition&&a.compareDocumentPosition(e)&16)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Wa=D.compareDocumentPosition?function(a,h){if(a===h)return la=!0,0;var e=h.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(h);return e?e&1||!B.sortDetached&&h.compareDocumentPosition(a)===e?a===b||ea(r,a)?-1:h===b||ea(r,h)?1:F?Ba.call(F,a)-Ba.call(F,h):0:e&4?-1:1:
a.compareDocumentPosition?-1:1}:function(a,h){var e,c=0;e=a.parentNode;var d=h.parentNode,f=[a],g=[h];if(a===h)return la=!0,0;if(!e||!d)return a===b?-1:h===b?1:e?-1:d?1:F?Ba.call(F,a)-Ba.call(F,h):0;if(e===d)return q(a,h);for(e=a;e=e.parentNode;)f.unshift(e);for(e=h;e=e.parentNode;)g.unshift(e);for(;f[c]===g[c];)c++;return c?q(f[c],g[c]):f[c]===r?-1:g[c]===r?1:0};return b};e.matches=function(a,b){return e(a,null,null,b)};e.matchesSelector=function(a,b){(a.ownerDocument||a)!==L&&N(a);b=b.replace(Da,
"='$1']");if(B.matchesSelector&&z&&(!K||!K.test(b))&&(!ya||!ya.test(b)))try{var h=S.call(a,b);if(h||B.disconnectedMatch||a.document&&11!==a.document.nodeType)return h}catch(c){}return 0<e(b,L,null,[a]).length};e.contains=function(a,b){(a.ownerDocument||a)!==L&&N(a);return ea(a,b)};e.attr=function(a,h){(a.ownerDocument||a)!==L&&N(a);var e=w.attrHandle[h.toLowerCase()],e=e&&ta.call(w.attrHandle,h.toLowerCase())?e(a,h,!z):b;return e===b?B.attributes||!z?a.getAttribute(h):(e=a.getAttributeNode(h))&&e.specified?
e.value:null:e};e.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};e.uniqueSort=function(a){var b,h=[],e=0,c=0;la=!B.detectDuplicates;F=!B.sortStable&&a.slice(0);a.sort(Wa);if(la){for(;b=a[c++];)b===a[c]&&(e=h.push(c));for(;e--;)a.splice(h[e],1)}return a};s=e.getText=function(a){var b,h="",e=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)h+=s(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=
a[e];e++)h+=s(b);return h};w=e.selectors={cacheLength:50,createPseudo:d,match:Na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Oa,Q);a[3]=(a[4]||a[5]||"").replace(Oa,Q);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||e.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===
a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&e.error(a[0]);return a},PSEUDO:function(a){var h,e=!a[5]&&a[2];if(Na.CHILD.test(a[0]))return null;if(a[3]&&a[4]!==b)a[2]=a[4];else if(e&&db.test(e)&&(h=p(e,!0))&&(h=e.indexOf(")",e.length-h)-e.length))a[0]=a[0].slice(0,h),a[2]=e.slice(0,h);return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(Oa,Q).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=
R[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&R(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==Va&&a.getAttribute("class")||"")})},ATTR:function(a,b,h){return function(c){c=e.attr(c,a);if(null==c)return"!="===b;if(!b)return!0;c+="";return"="===b?c===h:"!="===b?c!==h:"^="===b?h&&0===c.indexOf(h):"*="===b?h&&-1<c.indexOf(h):"$="===b?h&&c.slice(-h.length)===h:"~="===b?-1<(" "+c+" ").indexOf(h):"|="===b?c===h||c.slice(0,
h.length+1)===h+"-":!1}},CHILD:function(a,b,h,e,c){var d="nth"!==a.slice(0,3),f="last"!==a.slice(-4),g="of-type"===b;return 1===e&&0===c?function(a){return!!a.parentNode}:function(b,h,q){var k,l,n,m,p;h=d!==f?"nextSibling":"previousSibling";var A=b.parentNode,y=g&&b.nodeName.toLowerCase();q=!q&&!g;if(A){if(d){for(;h;){for(l=b;l=l[h];)if(g?l.nodeName.toLowerCase()===y:1===l.nodeType)return!1;p=h="only"===a&&!p&&"nextSibling"}return!0}p=[f?A.firstChild:A.lastChild];if(f&&q){q=A[J]||(A[J]={});k=q[a]||
[];m=k[0]===ba&&k[1];n=k[0]===ba&&k[2];for(l=m&&A.childNodes[m];l=++m&&l&&l[h]||(n=m=0)||p.pop();)if(1===l.nodeType&&++n&&l===b){q[a]=[ba,m,n];break}}else if(q&&(k=(b[J]||(b[J]={}))[a])&&k[0]===ba)n=k[1];else for(;l=++m&&l&&l[h]||(n=m=0)||p.pop();)if((g?l.nodeName.toLowerCase()===y:1===l.nodeType)&&++n)if(q&&((l[J]||(l[J]={}))[a]=[ba,n]),l===b)break;n-=c;return n===e||0===n%e&&0<=n/e}}},PSEUDO:function(a,b){var h,c=w.pseudos[a]||w.setFilters[a.toLowerCase()]||e.error("unsupported pseudo: "+a);return c[J]?
c(b):1<c.length?(h=[a,a,"",b],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,h){for(var e,d=c(a,b),f=d.length;f--;)e=Ba.call(a,d[f]),a[e]=!(h[e]=d[f])}):function(a){return c(a,0,h)}):c}},pseudos:{not:d(function(a){var b=[],h=[],e=T(a.replace(eb,"$1"));return e[J]?d(function(a,b,h,c){c=e(a,null,c,[]);for(var d=a.length;d--;)if(h=c[d])a[d]=!(b[d]=h)}):function(a,c,d){b[0]=a;e(b,null,d,h);return!h.pop()}}),has:d(function(a){return function(b){return 0<e(a,b).length}}),contains:d(function(a){return function(b){return-1<
(b.textContent||b.innerText||s(b)).indexOf(a)}}),lang:d(function(a){ob.test(a||"")||e.error("unsupported lang: "+a);a=a.replace(Oa,Q).toLowerCase();return function(b){var h;do if(h=z?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return h=h.toLowerCase(),h===a||0===h.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var h=a.location&&a.location.hash;return h&&h.slice(1)===b.id},root:function(a){return a===D},focus:function(a){return a===L.activeElement&&
(!L.hasFocus||L.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},
header:function(a){return Y.test(a.nodeName)},input:function(a){return hb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:n(function(){return[0]}),last:n(function(a,b){return[b-1]}),eq:n(function(a,b,h){return[0>h?h+b:h]}),even:n(function(a,b){for(var h=0;h<b;h+=2)a.push(h);return a}),
odd:n(function(a,b){for(var h=1;h<b;h+=2)a.push(h);return a}),lt:n(function(a,b,h){for(b=0>h?h+b:h;0<=--b;)a.push(b);return a}),gt:n(function(a,b,h){for(h=0>h?h+b:h;++h<b;)a.push(h);return a})}};w.pseudos.nth=w.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[v]=k(v);for(v in{submit:!0,reset:!0})w.pseudos[v]=l(v);m.prototype=w.filters=w.pseudos;w.setFilters=new m;T=e.compile=function(a,b){var h,e=[],c=[],d=ca[a+" "];if(!d){b||(b=p(a));for(h=b.length;h--;)d=x(b[h]),
d[J]?e.push(d):c.push(d);d=ca(a,t(c,e))}return d};B.sortStable=J.split("").sort(Wa).join("")===J;B.detectDuplicates=la;N();B.sortDetached=f(function(a){return a.compareDocumentPosition(L.createElement("div"))&1});f(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,h){if(!h)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});(!B.attributes||!f(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");
return""===a.firstChild.getAttribute("value")}))&&g("value",function(a,b,h){if(!h&&"input"===a.nodeName.toLowerCase())return a.defaultValue});f(function(a){return null==a.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,h){var e;if(!h)return(e=a.getAttributeNode(b))&&e.specified?e.value:!0===a[b]?b.toLowerCase():null});h.find=e;h.expr=e.selectors;h.expr[":"]=h.expr.pseudos;h.unique=
e.uniqueSort;h.text=e.getText;h.isXMLDoc=e.isXML;h.contains=e.contains})(c);var Fa={};h.Callbacks=function(a){a="string"===typeof a?Fa[a]||d(a):h.extend({},a);var b,e,c,f,g,q,k=[],l=!a.once&&[],n=function(h){b=a.memory&&h;e=!0;q=f||0;f=0;g=k.length;for(c=!0;k&&q<g;q++)if(!1===k[q].apply(h[0],h[1])&&a.stopOnFalse){b=!1;break}c=!1;k&&(l?l.length&&n(l.shift()):b?k=[]:m.disable())},m={add:function(){if(k){var e=k.length;(function Db(b){h.each(b,function(b,e){var c=h.type(e);"function"===c?(!a.unique||
!m.has(e))&&k.push(e):e&&(e.length&&"string"!==c)&&Db(e)})})(arguments);c?g=k.length:b&&(f=e,n(b))}return this},remove:function(){k&&h.each(arguments,function(a,b){for(var e;-1<(e=h.inArray(b,k,e));)k.splice(e,1),c&&(e<=g&&g--,e<=q&&q--)});return this},has:function(a){return a?-1<h.inArray(a,k):!(!k||!k.length)},empty:function(){k=[];g=0;return this},disable:function(){k=l=b=r;return this},disabled:function(){return!k},lock:function(){l=r;b||m.disable();return this},locked:function(){return!l},fireWith:function(a,
b){if(k&&(!e||l))b=b||[],b=[a,b.slice?b.slice():b],c?l.push(b):n(b);return this},fire:function(){m.fireWith(this,arguments);return this},fired:function(){return!!e}};return m};h.extend({Deferred:function(a){var b=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],e="pending",c={state:function(){return e},always:function(){d.done(arguments).fail(arguments);return this},then:function(){var a=
arguments;return h.Deferred(function(e){h.each(b,function(b,f){var g=f[0],q=h.isFunction(a[b])&&a[b];d[f[1]](function(){var a=q&&q.apply(this,arguments);if(a&&h.isFunction(a.promise))a.promise().done(e.resolve).fail(e.reject).progress(e.notify);else e[g+"With"](this===c?e.promise():this,q?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?h.extend(a,c):c}},d={};c.pipe=c.then;h.each(b,function(a,h){var f=h[2],g=h[3];c[h[1]]=f.add;g&&f.add(function(){e=g},b[a^1][2].disable,b[2][2].lock);
d[h[0]]=function(){d[h[0]+"With"](this===d?c:this,arguments);return this};d[h[0]+"With"]=f.fireWith});c.promise(d);a&&a.call(d,d);return d},when:function(a){var b=0,e=pa.call(arguments),c=e.length,d=1!==c||a&&h.isFunction(a.promise)?c:0,f=1===d?a:h.Deferred(),g=function(a,b,h){return function(e){b[a]=this;h[a]=1<arguments.length?pa.call(arguments):e;h===q?f.notifyWith(b,h):--d||f.resolveWith(b,h)}},q,k,l;if(1<c){q=Array(c);k=Array(c);for(l=Array(c);b<c;b++)e[b]&&h.isFunction(e[b].promise)?e[b].promise().done(g(b,
l,e)).fail(f.reject).progress(g(b,k,q)):--d}d||f.resolveWith(l,e);return f.promise()}});h.support=function(a){var b=P.createElement("input"),e=P.createDocumentFragment(),d=P.createElement("div"),f=P.createElement("select"),g=f.appendChild(P.createElement("option"));if(!b.type)return a;b.type="checkbox";a.checkOn=""!==b.value;a.optSelected=g.selected;a.reliableMarginRight=!0;a.boxSizingReliable=!0;a.pixelPosition=!1;b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;f.disabled=!0;a.optDisabled=
!g.disabled;b=P.createElement("input");b.value="t";b.type="radio";a.radioValue="t"===b.value;b.setAttribute("checked","t");b.setAttribute("name","t");e.appendChild(b);a.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked;a.focusinBubbles="onfocusin"in c;d.style.backgroundClip="content-box";d.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===d.style.backgroundClip;h(function(){var b,e,f=P.getElementsByTagName("body")[0];f&&(b=P.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",
f.appendChild(b).appendChild(d),d.innerHTML="",d.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",h.swap(f,null!=f.style.zoom?{zoom:1}:{},function(){a.boxSizing=4===d.offsetWidth}),c.getComputedStyle&&(a.pixelPosition="1%"!==(c.getComputedStyle(d,null)||{}).top,a.boxSizingReliable="4px"===(c.getComputedStyle(d,null)||{width:"4px"}).width,e=d.appendChild(P.createElement("div")),
e.style.cssText=d.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",e.style.marginRight=e.style.width="0",d.style.width="1px",a.reliableMarginRight=!parseFloat((c.getComputedStyle(e,null)||{}).marginRight)),f.removeChild(b))});return a}({});var Z,X,Ba=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Da=/([A-Z])/g;b.uid=1;b.accepts=function(a){return a.nodeType?1===a.nodeType||9===a.nodeType:!0};b.prototype={key:function(a){if(!b.accepts(a))return 0;
var e={},c=a[this.expando];if(!c){c=b.uid++;try{e[this.expando]={value:c},Object.defineProperties(a,e)}catch(d){e[this.expando]=c,h.extend(a,e)}}this.cache[c]||(this.cache[c]={});return c},set:function(a,b,e){var c;a=this.key(a);var d=this.cache[a];if("string"===typeof b)d[b]=e;else if(h.isEmptyObject(d))h.extend(this.cache[a],b);else for(c in b)d[c]=b[c];return d},get:function(a,b){var h=this.cache[this.key(a)];return b===r?h:h[b]},access:function(a,b,e){if(b===r||b&&"string"===typeof b&&e===r)return e=
this.get(a,b),e!==r?e:this.get(a,h.camelCase(b));this.set(a,b,e);return e!==r?e:b},remove:function(a,b){var e,c;e=this.key(a);var d=this.cache[e];if(b===r)this.cache[e]={};else{h.isArray(b)?c=b.concat(b.map(h.camelCase)):(e=h.camelCase(b),b in d?c=[b,e]:(c=e,c=c in d?[c]:c.match(G)||[]));for(e=c.length;e--;)delete d[c[e]]}},hasData:function(a){return!h.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};Z=new b;X=new b;h.extend({acceptData:b.accepts,
hasData:function(a){return Z.hasData(a)||X.hasData(a)},data:function(a,b,h){return Z.access(a,b,h)},removeData:function(a,b){Z.remove(a,b)},_data:function(a,b,h){return X.access(a,b,h)},_removeData:function(a,b){X.remove(a,b)}});h.fn.extend({data:function(a,b){var e,c,d=this[0],f=0,g=null;if(a===r){if(this.length&&(g=Z.get(d),1===d.nodeType&&!X.get(d,"hasDataAttrs"))){for(e=d.attributes;f<e.length;f++)c=e[f].name,0===c.indexOf("data-")&&(c=h.camelCase(c.slice(5)),k(d,c,g[c]));X.set(d,"hasDataAttrs",
!0)}return g}return"object"===typeof a?this.each(function(){Z.set(this,a)}):h.access(this,function(b){var e,c=h.camelCase(a);if(d&&b===r){e=Z.get(d,a);if(e!==r)return e;e=Z.get(d,c);if(e!==r)return e;e=k(d,c,r);if(e!==r)return e}else this.each(function(){var h=Z.get(this,c);Z.set(this,c,b);-1!==a.indexOf("-")&&h!==r&&Z.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Z.remove(this,a)})}});h.extend({queue:function(a,b,e){var c;if(a)return b=(b||
"fx")+"queue",c=X.get(a,b),e&&(!c||h.isArray(e)?c=X.access(a,b,h.makeArray(e)):c.push(e)),c||[]},dequeue:function(a,b){b=b||"fx";var e=h.queue(a,b),c=e.length,d=e.shift(),f=h._queueHooks(a,b),g=function(){h.dequeue(a,b)};"inprogress"===d&&(d=e.shift(),c--);d&&("fx"===b&&e.unshift("inprogress"),delete f.stop,d.call(a,g,f));!c&&f&&f.empty.fire()},_queueHooks:function(a,b){var e=b+"queueHooks";return X.get(a,e)||X.access(a,e,{empty:h.Callbacks("once memory").add(function(){X.remove(a,[b+"queue",e])})})}});
h.fn.extend({queue:function(a,b){var e=2;"string"!==typeof a&&(b=a,a="fx",e--);return arguments.length<e?h.queue(this[0],a):b===r?this:this.each(function(){var e=h.queue(this,a,b);h._queueHooks(this,a);"fx"===a&&"inprogress"!==e[0]&&h.dequeue(this,a)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},delay:function(a,b){a=h.fx?h.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,h){var e=setTimeout(b,a);h.stop=function(){clearTimeout(e)}})},clearQueue:function(a){return this.queue(a||
"fx",[])},promise:function(a,b){var e,c=1,d=h.Deferred(),f=this,g=this.length,q=function(){--c||d.resolveWith(f,[f])};"string"!==typeof a&&(b=a,a=r);for(a=a||"fx";g--;)if((e=X.get(f[g],a+"queueHooks"))&&e.empty)c++,e.empty.add(q);q();return d.promise(b)}});var V,T=/[\t\r\n\f]/g,sb=/\r/g,Ga=/^(?:input|select|textarea|button)$/i;h.fn.extend({attr:function(a,b){return h.access(this,h.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,a)})},prop:function(a,
b){return h.access(this,h.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[h.propFix[a]||a]})},addClass:function(a){var b,e,c,d,f,g=0,q=this.length;b="string"===typeof a&&a;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(G)||[];g<q;g++)if(e=this[g],c=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(T," "):" ")){for(f=0;d=b[f++];)0>c.indexOf(" "+d+" ")&&(c+=d+" ");e.className=
h.trim(c)}return this},removeClass:function(a){var b,e,c,d,f,g=0,q=this.length;b=0===arguments.length||"string"===typeof a&&a;if(h.isFunction(a))return this.each(function(b){h(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(G)||[];g<q;g++)if(e=this[g],c=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(T," "):"")){for(f=0;d=b[f++];)for(;0<=c.indexOf(" "+d+" ");)c=c.replace(" "+d+" "," ");e.className=a?h.trim(c):""}return this},toggleClass:function(a,b){var e=typeof a;
return"boolean"===typeof b&&"string"===e?b?this.addClass(a):this.removeClass(a):h.isFunction(a)?this.each(function(e){h(this).toggleClass(a.call(this,e,this.className,b),b)}):this.each(function(){if("string"===e)for(var b,c=0,d=h(this),f=a.match(G)||[];b=f[c++];)d.hasClass(b)?d.removeClass(b):d.addClass(b);else if(e===Q||"boolean"===e)this.className&&X.set(this,"__className__",this.className),this.className=this.className||!1===a?"":X.get(this,"__className__")||""})},hasClass:function(a){a=" "+a+
" ";for(var b=0,h=this.length;b<h;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(T," ").indexOf(a))return!0;return!1},val:function(a){var b,e,c,d=this[0];if(arguments.length)return c=h.isFunction(a),this.each(function(e){if(1===this.nodeType&&(e=c?a.call(this,e,h(this).val()):a,null==e?e="":"number"===typeof e?e+="":h.isArray(e)&&(e=h.map(e,function(a){return null==a?"":a+""})),b=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],!b||!("set"in b)||b.set(this,e,"value")===
r))this.value=e});if(d){if((b=h.valHooks[d.type]||h.valHooks[d.nodeName.toLowerCase()])&&"get"in b&&(e=b.get(d,"value"))!==r)return e;e=d.value;return"string"===typeof e?e.replace(sb,""):null==e?"":e}}});h.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,e=a.options,c=a.selectedIndex,d=(a="select-one"===a.type||0>c)?null:[],f=a?c+1:e.length,g=0>c?f:a?c:0;g<f;g++)if(b=e[g],(b.selected||g===c)&&(h.support.optDisabled?
!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!h.nodeName(b.parentNode,"optgroup"))){b=h(b).val();if(a)return b;d.push(b)}return d},set:function(a,b){for(var e,c,d=a.options,f=h.makeArray(b),g=d.length;g--;)if(c=d[g],c.selected=0<=h.inArray(h(c).val(),f))e=!0;e||(a.selectedIndex=-1);return f}}},attr:function(a,b,e){var c,d,f=a.nodeType;if(a&&!(3===f||8===f||2===f)){if(typeof a.getAttribute===Q)return h.prop(a,b,e);if(1!==f||!h.isXMLDoc(a))b=b.toLowerCase(),c=h.attrHooks[b]||
(h.expr.match.bool.test(b)?V:void 0);if(e!==r)if(null===e)h.removeAttr(a,b);else{if(c&&"set"in c&&(d=c.set(a,e,b))!==r)return d;a.setAttribute(b,e+"");return e}else{if(c&&"get"in c&&null!==(d=c.get(a,b)))return d;d=h.find.attr(a,b);return null==d?r:d}}},removeAttr:function(a,b){var e,c,d=0,f=b&&b.match(G);if(f&&1===a.nodeType)for(;e=f[d++];)c=h.propFix[e]||e,h.expr.match.bool.test(e)&&(a[c]=!1),a.removeAttribute(e)},attrHooks:{type:{set:function(a,b){if(!h.support.radioValue&&"radio"===b&&h.nodeName(a,
"input")){var e=a.value;a.setAttribute("type",b);e&&(a.value=e);return b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,e){var c,d,f;f=a.nodeType;if(a&&!(3===f||8===f||2===f)){if(f=1!==f||!h.isXMLDoc(a))b=h.propFix[b]||b,d=h.propHooks[b];return e!==r?d&&"set"in d&&(c=d.set(a,e,b))!==r?c:a[b]=e:d&&"get"in d&&null!==(c=d.get(a,b))?c:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||Ga.test(a.nodeName)||a.href?a.tabIndex:-1}}}});V={set:function(a,b,e){!1===
b?h.removeAttr(a,e):a.setAttribute(e,e);return e}};h.each(h.expr.match.bool.source.match(/\w+/g),function(a,b){var e=h.expr.attrHandle[b]||h.find.attr;h.expr.attrHandle[b]=function(a,b,c){var d=h.expr.attrHandle[b];a=c?r:(h.expr.attrHandle[b]=r)!=e(a,b,c)?b.toLowerCase():null;h.expr.attrHandle[b]=d;return a}});h.support.optSelected||(h.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});h.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){h.propFix[this.toLowerCase()]=this});h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(a,b){if(h.isArray(b))return a.checked=0<=h.inArray(h(a).val(),b)}};h.support.checkOn||(h.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Pa=/^key/,gb=/^(?:mouse|contextmenu)|click/,Na=/^(?:focusinfocus|focusoutblur)$/,db=/^([^.]*)(?:\.(.+)|)$/;h.event={global:{},add:function(a,b,e,c,d){var f,g,q,k,l,n,m,p,A;if(l=X.get(a)){e.handler&&(f=e,e=
f.handler,d=f.selector);e.guid||(e.guid=h.guid++);if(!(k=l.events))k=l.events={};if(!(g=l.handle))g=l.handle=function(a){return typeof h!==Q&&(!a||h.event.triggered!==a.type)?h.event.dispatch.apply(g.elem,arguments):r},g.elem=a;b=(b||"").match(G)||[""];for(l=b.length;l--;)if(q=db.exec(b[l])||[],p=n=q[1],A=(q[2]||"").split(".").sort(),p){q=h.event.special[p]||{};p=(d?q.delegateType:q.bindType)||p;q=h.event.special[p]||{};n=h.extend({type:p,origType:n,data:c,handler:e,guid:e.guid,selector:d,needsContext:d&&
h.expr.match.needsContext.test(d),namespace:A.join(".")},f);if(!(m=k[p]))m=k[p]=[],m.delegateCount=0,(!q.setup||!1===q.setup.call(a,c,A,g))&&a.addEventListener&&a.addEventListener(p,g,!1);q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=e.guid));d?m.splice(m.delegateCount++,0,n):m.push(n);h.event.global[p]=!0}a=null}},remove:function(a,b,e,c,d){var f,g,q,k,l,n,m,p,A,y,E,C=X.hasData(a)&&X.get(a);if(C&&(k=C.events)){b=(b||"").match(G)||[""];for(l=b.length;l--;)if(q=db.exec(b[l])||[],A=E=q[1],
y=(q[2]||"").split(".").sort(),A){m=h.event.special[A]||{};A=(c?m.delegateType:m.bindType)||A;p=k[A]||[];q=q[2]&&RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=f=p.length;f--;)if(n=p[f],(d||E===n.origType)&&(!e||e.guid===n.guid)&&(!q||q.test(n.namespace))&&(!c||c===n.selector||"**"===c&&n.selector))p.splice(f,1),n.selector&&p.delegateCount--,m.remove&&m.remove.call(a,n);g&&!p.length&&((!m.teardown||!1===m.teardown.call(a,y,C.handle))&&h.removeEvent(a,A,C.handle),delete k[A])}else for(A in k)h.event.remove(a,
A+b[l],e,c,!0);h.isEmptyObject(k)&&(delete C.handle,X.remove(a,"events"))}},trigger:function(a,b,e,d){var f,g,k,l,n,m,p=[e||P],A=q.call(a,"type")?a.type:a;m=q.call(a,"namespace")?a.namespace.split("."):[];g=f=e=e||P;if(!(3===e.nodeType||8===e.nodeType)&&!Na.test(A+h.event.triggered))if(0<=A.indexOf(".")&&(m=A.split("."),A=m.shift(),m.sort()),l=0>A.indexOf(":")&&"on"+A,a=a[h.expando]?a:new h.Event(A,"object"===typeof a&&a),a.isTrigger=d?2:3,a.namespace=m.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+
m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=r,a.target||(a.target=e),b=null==b?[a]:h.makeArray(b,[a]),m=h.event.special[A]||{},d||!(m.trigger&&!1===m.trigger.apply(e,b))){if(!d&&!m.noBubble&&!h.isWindow(e)){k=m.delegateType||A;Na.test(k+A)||(g=g.parentNode);for(;g;g=g.parentNode)p.push(g),f=g;if(f===(e.ownerDocument||P))p.push(f.defaultView||f.parentWindow||c)}for(f=0;(g=p[f++])&&!a.isPropagationStopped();)a.type=1<f?k:m.bindType||A,(n=(X.get(g,"events")||{})[a.type]&&X.get(g,"handle"))&&n.apply(g,
b),(n=l&&g[l])&&(h.acceptData(g)&&n.apply&&!1===n.apply(g,b))&&a.preventDefault();a.type=A;if(!d&&!a.isDefaultPrevented()&&(!m._default||!1===m._default.apply(p.pop(),b))&&h.acceptData(e)&&l&&h.isFunction(e[A])&&!h.isWindow(e))(f=e[l])&&(e[l]=null),h.event.triggered=A,e[A](),h.event.triggered=r,f&&(e[l]=f);return a.result}},dispatch:function(a){a=h.event.fix(a);var b,e,c,d,f=[],g=pa.call(arguments);b=(X.get(this,"events")||{})[a.type]||[];var q=h.event.special[a.type]||{};g[0]=a;a.delegateTarget=
this;if(!(q.preDispatch&&!1===q.preDispatch.call(this,a))){f=h.event.handlers.call(this,a,b);for(b=0;(d=f[b++])&&!a.isPropagationStopped();){a.currentTarget=d.elem;for(e=0;(c=d.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(c.namespace))if(a.handleObj=c,a.data=c.data,c=((h.event.special[c.origType]||{}).handle||c.handler).apply(d.elem,g),c!==r&&!1===(a.result=c))a.preventDefault(),a.stopPropagation()}q.postDispatch&&q.postDispatch.call(this,a);return a.result}},
handlers:function(a,b){var e,c,d,f,g=[],q=b.delegateCount,k=a.target;if(q&&k.nodeType&&(!a.button||"click"!==a.type))for(;k!==this;k=k.parentNode||this)if(!0!==k.disabled||"click"!==a.type){c=[];for(e=0;e<q;e++)f=b[e],d=f.selector+" ",c[d]===r&&(c[d]=f.needsContext?0<=h(d,this).index(k):h.find(d,this,null,[k]).length),c[d]&&c.push(f);c.length&&g.push({elem:k,handlers:c})}q<b.length&&g.push({elem:this,handlers:b.slice(q)});return g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,h,c=b.button;null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||P,h=e.documentElement,e=e.body,a.pageX=b.clientX+(h&&h.scrollLeft||e&&e.scrollLeft||0)-(h&&h.clientLeft||e&&e.clientLeft||0),a.pageY=
b.clientY+(h&&h.scrollTop||e&&e.scrollTop||0)-(h&&h.clientTop||e&&e.clientTop||0));!a.which&&c!==r&&(a.which=c&1?1:c&2?3:c&4?2:0);return a}},fix:function(a){if(a[h.expando])return a;var b,e,c;b=a.type;var d=a,f=this.fixHooks[b];f||(this.fixHooks[b]=f=gb.test(b)?this.mouseHooks:Pa.test(b)?this.keyHooks:{});c=f.props?this.props.concat(f.props):this.props;a=new h.Event(d);for(b=c.length;b--;)e=c[b],a[e]=d[e];a.target||(a.target=P);3===a.target.nodeType&&(a.target=a.target.parentNode);return f.filter?
f.filter(a,d):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==g()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===g()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&h.nodeName(this,"input"))return this.click(),!1},_default:function(a){return h.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==r&&(a.originalEvent.returnValue=a.result)}}},
simulate:function(a,b,e,c){a=h.extend(new h.Event,e,{type:a,isSimulated:!0,originalEvent:{}});c?h.event.trigger(a,null,b):h.event.dispatch.call(b,a);a.isDefaultPrevented()&&e.preventDefault()}};h.removeEvent=function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e,!1)};h.Event=function(b,c){if(!(this instanceof h.Event))return new h.Event(b,c);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||b.getPreventDefault&&b.getPreventDefault()?a:e):this.type=
b;c&&h.extend(this,c);this.timeStamp=b&&b.timeStamp||h.now();this[h.expando]=!0};h.Event.prototype={isDefaultPrevented:e,isPropagationStopped:e,isImmediatePropagationStopped:e,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=a;b&&b.preventDefault&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=a;b&&b.stopPropagation&&b.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a;this.stopPropagation()}};
h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){h.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e,c=a.relatedTarget,d=a.handleObj;if(!c||c!==this&&!h.contains(this,c))a.type=d.origType,e=d.handler.apply(this,arguments),a.type=b;return e}}});h.support.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(a,b){var e=0,c=function(a){h.event.simulate(b,a.target,h.event.fix(a),!0)};h.event.special[b]={setup:function(){0===e++&&P.addEventListener(a,c,
!0)},teardown:function(){0===--e&&P.removeEventListener(a,c,!0)}}});h.fn.extend({on:function(a,b,c,d,f){var g,q;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=r);for(q in a)this.on(q,b,c,a[q],f);return this}null==c&&null==d?(d=b,c=b=r):null==d&&("string"===typeof b?(d=c,c=r):(d=c,c=b,b=r));if(!1===d)d=e;else if(!d)return this;1===f&&(g=d,d=function(a){h().off(a);return g.apply(this,arguments)},d.guid=g.guid||(g.guid=h.guid++));return this.each(function(){h.event.add(this,a,d,c,b)})},one:function(a,
b,e,h){return this.on(a,b,e,h,1)},off:function(a,b,c){var d;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,h(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"===typeof a){for(d in a)this.off(d,b,a[d]);return this}if(!1===b||"function"===typeof b)c=b,b=r;!1===c&&(c=e);return this.each(function(){h.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){h.event.trigger(a,b,this)})},triggerHandler:function(a,
b){var e=this[0];if(e)return h.event.trigger(a,b,e,!0)}});var hb=/^.[^:#\[\.,]*$/,eb=/^(?:parents|prev(?:Until|All))/,ob=h.expr.match.needsContext,ib={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({find:function(a){var b,e=[],c=this,d=c.length;if("string"!==typeof a)return this.pushStack(h(a).filter(function(){for(b=0;b<d;b++)if(h.contains(c[b],this))return!0}));for(b=0;b<d;b++)h.find(a,c[b],e);e=this.pushStack(1<d?h.unique(e):e);e.selector=this.selector?this.selector+" "+a:a;return e},has:function(a){var b=
h(a,this),e=b.length;return this.filter(function(){for(var a=0;a<e;a++)if(h.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(p(this,a||[],!0))},filter:function(a){return this.pushStack(p(this,a||[],!1))},is:function(a){return!!p(this,"string"===typeof a&&ob.test(a)?h(a):a||[],!1).length},closest:function(a,b){for(var e,c=0,d=this.length,f=[],g=ob.test(a)||"string"!==typeof a?h(a,b||this.context):0;c<d;c++)for(e=this[c];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(g?-1<g.index(e):
1===e.nodeType&&h.find.matchesSelector(e,a))){f.push(e);break}return this.pushStack(1<f.length?h.unique(f):f)},index:function(a){return!a?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof a?na.call(h(a),this[0]):na.call(this,a.jquery?a[0]:a)},add:function(a,b){var e="string"===typeof a?h(a,b):h.makeArray(a&&a.nodeType?[a]:a),e=h.merge(this.get(),e);return this.pushStack(h.unique(e))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});
h.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return h.dir(a,"parentNode")},parentsUntil:function(a,b,e){return h.dir(a,"parentNode",e)},next:function(a){return n(a,"nextSibling")},prev:function(a){return n(a,"previousSibling")},nextAll:function(a){return h.dir(a,"nextSibling")},prevAll:function(a){return h.dir(a,"previousSibling")},nextUntil:function(a,b,e){return h.dir(a,"nextSibling",e)},prevUntil:function(a,b,e){return h.dir(a,"previousSibling",
e)},siblings:function(a){return h.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return h.sibling(a.firstChild)},contents:function(a){return a.contentDocument||h.merge([],a.childNodes)}},function(a,b){h.fn[a]=function(e,c){var d=h.map(this,b,e);"Until"!==a.slice(-5)&&(c=e);c&&"string"===typeof c&&(d=h.filter(c,d));1<this.length&&(ib[a]||h.unique(d),eb.test(a)&&d.reverse());return this.pushStack(d)}});h.extend({filter:function(a,b,e){var c=b[0];e&&(a=":not("+a+")");return 1===b.length&&
1===c.nodeType?h.find.matchesSelector(c,a)?[c]:[]:h.find.matches(a,h.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,b,e){for(var c=[],d=e!==r;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(d&&h(a).is(e))break;c.push(a)}return c},sibling:function(a,b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&e.push(a);return e}});var fb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ia=/<([\w:]+)/,Qa=/<|&#?\w+;/,Kb=/<(?:script|style|link)/i,Ra=/^(?:checkbox|radio)$/i,
jb=/checked\s*(?:[^=]|=\s*.checked.)/i,ya=/^$|\/(?:java|ecma)script/i,Wa=/^true\/(.*)/,Va=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ca={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ca.optgroup=Ca.option;Ca.tbody=Ca.tfoot=Ca.colgroup=Ca.caption=Ca.thead;Ca.th=Ca.td;h.fn.extend({text:function(a){return h.access(this,
function(a){return a===r?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&m(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var e,c=a?h.filter(a,this):this,d=0;null!=(e=c[d]);d++)!b&&1===e.nodeType&&h.cleanData(w(e)),e.parentNode&&(b&&h.contains(e.ownerDocument,e)&&v(w(e,"script")),e.parentNode.removeChild(e));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(h.cleanData(w(a,
!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return h.clone(this,a,b)})},html:function(a){return h.access(this,function(a){var b=this[0]||{},e=0,c=this.length;if(a===r&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Kb.test(a)&&!Ca[(Ia.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(fb,"<$1></$2>");try{for(;e<c;e++)b=this[e]||{},1===b.nodeType&&(h.cleanData(w(b,!1)),b.innerHTML=a);b=0}catch(d){}}b&&this.empty().append(a)},
null,a,arguments.length)},replaceWith:function(){var a=h.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;this.domManip(arguments,function(e){var c=a[b++],d=a[b++];d&&(c&&c.parentNode!==d&&(c=this.nextSibling),h(this).remove(),d.insertBefore(e,c))},!0);return b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,e){a=ia.apply([],a);var c,d,f,g,q=0,k=this.length,n=this,m=k-1,p=a[0],A=h.isFunction(p);if(A||!(1>=k||"string"!==typeof p||h.support.checkClone||
!jb.test(p)))return this.each(function(h){var c=n.eq(h);A&&(a[0]=p.call(this,h,c.html()));c.domManip(a,b,e)});if(k&&(c=h.buildFragment(a,this[0].ownerDocument,!1,!e&&this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){d=h.map(w(c,"script"),l);for(f=d.length;q<k;q++)g=c,q!==m&&(g=h.clone(g,!0,!0),f&&h.merge(d,w(g,"script"))),b.call(this[q],g,q);if(f){c=d[d.length-1].ownerDocument;h.map(d,t);for(q=0;q<f;q++)if(g=d[q],ya.test(g.type||"")&&!X.access(g,"globalEval")&&h.contains(c,g))g.src?h._evalUrl(g.src):
h.globalEval(g.textContent.replace(Va,""))}}return this}});h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){h.fn[a]=function(a){for(var e=[],c=h(a),d=c.length-1,f=0;f<=d;f++)a=f===d?this:this.clone(!0),h(c[f])[b](a),ma.apply(e,a.get());return this.pushStack(e)}});h.extend({clone:function(a,b,e){var c,d,f,g,q=a.cloneNode(!0),k=h.contains(a.ownerDocument,a);if(!h.support.noCloneChecked&&(1===a.nodeType||11===a.nodeType)&&
!h.isXMLDoc(a)){g=w(q);f=w(a);c=0;for(d=f.length;c<d;c++){var l=f[c],n=g[c],m=n.nodeName.toLowerCase();if("input"===m&&Ra.test(l.type))n.checked=l.checked;else if("input"===m||"textarea"===m)n.defaultValue=l.defaultValue}}if(b)if(e){f=f||w(a);g=g||w(q);c=0;for(d=f.length;c<d;c++)u(f[c],g[c])}else u(a,q);g=w(q,"script");0<g.length&&v(g,!k&&w(a,"script"));return q},buildFragment:function(a,b,e,c){for(var d,f,g,q=0,k=a.length,l=b.createDocumentFragment(),n=[];q<k;q++)if((d=a[q])||0===d)if("object"===
h.type(d))h.merge(n,d.nodeType?[d]:d);else if(Qa.test(d)){f=f||l.appendChild(b.createElement("div"));g=(Ia.exec(d)||["",""])[1].toLowerCase();g=Ca[g]||Ca._default;f.innerHTML=g[1]+d.replace(fb,"<$1></$2>")+g[2];for(g=g[0];g--;)f=f.lastChild;h.merge(n,f.childNodes);f=l.firstChild;f.textContent=""}else n.push(b.createTextNode(d));l.textContent="";for(q=0;d=n[q++];)if(!(c&&-1!==h.inArray(d,c))&&(a=h.contains(d.ownerDocument,d),f=w(l.appendChild(d),"script"),a&&v(f),e))for(g=0;d=f[g++];)ya.test(d.type||
"")&&e.push(d);return l},cleanData:function(a){for(var e,c,d,f,g,q,k=h.event.special,l=0;(c=a[l])!==r;l++){if(b.accepts(c)&&(g=c[X.expando])&&(e=X.cache[g])){d=Object.keys(e.events||{});if(d.length)for(q=0;(f=d[q])!==r;q++)k[f]?h.event.remove(c,f):h.removeEvent(c,f,e.handle);X.cache[g]&&delete X.cache[g]}delete Z.cache[c[Z.expando]]}},_evalUrl:function(a){return h.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});h.fn.extend({wrapAll:function(a){var b;if(h.isFunction(a))return this.each(function(b){h(this).wrapAll(a.call(this,
b))});this[0]&&(b=h(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return h.isFunction(a)?this.each(function(b){h(this).wrapInner(a.call(this,b))}):this.each(function(){var b=h(this),e=b.contents();e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(e){h(this).wrapAll(b?a.call(this,
e):a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}});var tb,Oa,ec=/^(none|table(?!-c[ea]).+)/,fc=/^margin/,pc=RegExp("^("+E+")(.*)$","i"),Sb=RegExp("^("+E+")(?!px)[a-z%]+$","i"),qc=RegExp("^([+-])=("+E+")","i"),kb={BODY:"block"},Tb={position:"absolute",visibility:"hidden",display:"block"},Ub={letterSpacing:0,fontWeight:400},Xa=["Top","Right","Bottom","Left"],Hb=["Webkit","O","Moz","ms"];h.fn.extend({css:function(a,
b){return h.access(this,function(a,b,e){var d,f={},g=0;if(h.isArray(b)){e=c.getComputedStyle(a,null);for(d=b.length;g<d;g++)f[b[g]]=h.css(a,b[g],!1,e);return f}return e!==r?h.style(a,b,e):h.css(a,b)},a,b,1<arguments.length)},show:function(){return K(this,!0)},hide:function(){return K(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){s(this)?h(this).show():h(this).hide()})}});h.extend({cssHooks:{opacity:{get:function(a,b){if(b){var e=tb(a,"opacity");
return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,e,c){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var d,f,g,q=h.camelCase(b),k=a.style;b=h.cssProps[q]||(h.cssProps[q]=z(k,q));g=h.cssHooks[b]||h.cssHooks[q];if(e!==r){f=typeof e;if("string"===f&&(d=qc.exec(e)))e=(d[1]+1)*d[2]+parseFloat(h.css(a,b)),f="number";if(!(null==e||"number"===f&&isNaN(e)))if("number"===
f&&!h.cssNumber[q]&&(e+="px"),!h.support.clearCloneStyle&&(""===e&&0===b.indexOf("background"))&&(k[b]="inherit"),!g||!("set"in g)||(e=g.set(a,e,c))!==r)k[b]=e}else return g&&"get"in g&&(d=g.get(a,!1,c))!==r?d:k[b]}},css:function(a,b,e,c){var d,f;f=h.camelCase(b);b=h.cssProps[f]||(h.cssProps[f]=z(a.style,f));(f=h.cssHooks[b]||h.cssHooks[f])&&"get"in f&&(d=f.get(a,!0,e));d===r&&(d=tb(a,b,c));"normal"===d&&b in Ub&&(d=Ub[b]);return""===e||e?(a=parseFloat(d),!0===e||h.isNumeric(a)?a||0:d):d}});tb=function(a,
b,e){var d,f=(e=e||c.getComputedStyle(a,null))?e.getPropertyValue(b)||e[b]:r,g=a.style;e&&(""===f&&!h.contains(a.ownerDocument,a)&&(f=h.style(a,b)),Sb.test(f)&&fc.test(b)&&(a=g.width,b=g.minWidth,d=g.maxWidth,g.minWidth=g.maxWidth=g.width=f,f=e.width,g.width=a,g.minWidth=b,g.maxWidth=d));return f};h.each(["height","width"],function(a,b){h.cssHooks[b]={get:function(a,e,c){if(e)return 0===a.offsetWidth&&ec.test(h.css(a,"display"))?h.swap(a,Tb,function(){return y(a,b,c)}):y(a,b,c)},set:function(a,e,
d){var f=d&&c.getComputedStyle(a,null);return F(a,e,d?H(a,b,d,h.support.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,f),f):0)}}});h(function(){h.support.reliableMarginRight||(h.cssHooks.marginRight={get:function(a,b){if(b)return h.swap(a,{display:"inline-block"},tb,[a,"marginRight"])}});!h.support.pixelPosition&&h.fn.position&&h.each(["top","left"],function(a,b){h.cssHooks[b]={get:function(a,e){if(e)return e=tb(a,b),Sb.test(e)?h(a).position()[b]+"px":e}}})});h.expr&&h.expr.filters&&(h.expr.filters.hidden=
function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight},h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)});h.each({margin:"",padding:"",border:"Width"},function(a,b){h.cssHooks[a+b]={expand:function(e){var h=0,c={};for(e="string"===typeof e?e.split(" "):[e];4>h;h++)c[a+Xa[h]+b]=e[h]||e[h-2]||e[0];return c}};fc.test(a)||(h.cssHooks[a+b].set=F)});var gc=/%20/g,Lb=/\[\]$/,Bb=/\r?\n/g,hc=/^(?:submit|button|image|reset|file)$/i,vb=/^(?:input|select|textarea|keygen)/i;h.fn.extend({serialize:function(){return h.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=h.prop(this,"elements");return a?h.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!h(this).is(":disabled")&&vb.test(this.nodeName)&&!hc.test(a)&&(this.checked||!Ra.test(a))}).map(function(a,b){var e=h(this).val();return null==e?null:h.isArray(e)?h.map(e,function(a){return{name:b.name,value:a.replace(Bb,"\r\n")}}):{name:b.name,value:e.replace(Bb,"\r\n")}}).get()}});h.param=function(a,b){var e,c=[],d=function(a,b){b=
h.isFunction(b)?b():null==b?"":b;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===r&&(b=h.ajaxSettings&&h.ajaxSettings.traditional);if(h.isArray(a)||a.jquery&&!h.isPlainObject(a))h.each(a,function(){d(this.name,this.value)});else for(e in a)J(e,a[e],b,d);return c.join("&").replace(gc,"+")};h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){h.fn[b]=function(a,e){return 0<arguments.length?this.on(b,null,a,e):this.trigger(b)}});h.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,e,h){return this.on(b,a,e,h)},undelegate:function(a,b,e){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",e)}});var ub,ja,ka=h.now(),ua=/\?/,ga=/#.*$/,ra=/([?&])_=[^&]*/,$a=/^(.*?):[ \t]*([^\r\n]*)$/mg,
ab=/^(?:GET|HEAD)$/,fa=/^\/\//,Mb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,pb=h.fn.load,kc={},Pb={},Xb="*/".concat("*");try{ja=W.href}catch(Dc){ja=P.createElement("a"),ja.href="",ja=ja.href}ub=Mb.exec(ja.toLowerCase())||[];h.fn.load=function(a,b,e){if("string"!==typeof a&&pb)return pb.apply(this,arguments);var c,d,f,g=this,q=a.indexOf(" ");0<=q&&(c=a.slice(q),a=a.slice(0,q));h.isFunction(b)?(e=b,b=r):b&&"object"===typeof b&&(d="POST");0<g.length&&h.ajax({url:a,type:d,dataType:"html",data:b}).done(function(a){f=
arguments;g.html(c?h("<div>").append(h.parseHTML(a)).find(c):a)}).complete(e&&function(a,b){g.each(e,f||[a.responseText,b,a])});return this};h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){h.fn[b]=function(a){return this.on(b,a)}});h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ja,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ub[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":Xb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?C(C(a,h.ajaxSettings),b):C(h.ajaxSettings,a)},ajaxPrefilter:x(kc),ajaxTransport:x(Pb),ajax:function(a,
b){function e(a,b,g,k){var n,u,x,v;v=b;if(2!==t){t=2;q&&clearTimeout(q);c=r;f=k||"";B.readyState=0<a?4:0;k=200<=a&&300>a||304===a;if(g){x=m;for(var w=B,G,s,V,T,I=x.contents,F=x.dataTypes;"*"===F[0];)F.shift(),G===r&&(G=x.mimeType||w.getResponseHeader("Content-Type"));if(G)for(s in I)if(I[s]&&I[s].test(G)){F.unshift(s);break}if(F[0]in g)V=F[0];else{for(s in g){if(!F[0]||x.converters[s+" "+F[0]]){V=s;break}T||(T=s)}V=V||T}V?(V!==F[0]&&F.unshift(V),x=g[V]):x=void 0}a:{g=m;G=x;s=B;V=k;var L,N,D,w={},
I=g.dataTypes.slice();if(I[1])for(N in g.converters)w[N.toLowerCase()]=g.converters[N];for(T=I.shift();T;)if(g.responseFields[T]&&(s[g.responseFields[T]]=G),!D&&(V&&g.dataFilter)&&(G=g.dataFilter(G,g.dataType)),D=T,T=I.shift())if("*"===T)T=D;else if("*"!==D&&D!==T){N=w[D+" "+T]||w["* "+T];if(!N)for(L in w)if(x=L.split(" "),x[1]===T&&(N=w[D+" "+x[0]]||w["* "+x[0]])){!0===N?N=w[L]:!0!==w[L]&&(T=x[0],I.unshift(x[1]));break}if(!0!==N)if(N&&g["throws"])G=N(G);else try{G=N(G)}catch(z){x={state:"parsererror",
error:N?z:"No conversion from "+D+" to "+T};break a}}x={state:"success",data:G}}if(k)m.ifModified&&((v=B.getResponseHeader("Last-Modified"))&&(h.lastModified[d]=v),(v=B.getResponseHeader("etag"))&&(h.etag[d]=v)),204===a||"HEAD"===m.type?v="nocontent":304===a?v="notmodified":(v=x.state,n=x.data,u=x.error,k=!u);else if(u=v,a||!v)v="error",0>a&&(a=0);B.status=a;B.statusText=(b||v)+"";k?y.resolveWith(p,[n,v,B]):y.rejectWith(p,[B,v,u]);B.statusCode(C);C=r;l&&A.trigger(k?"ajaxSuccess":"ajaxError",[B,m,
k?n:u]);E.fireWith(p,[B,v]);l&&(A.trigger("ajaxComplete",[B,m]),--h.active||h.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=r);b=b||{};var c,d,f,g,q,k,l,n,m=h.ajaxSetup({},b),p=m.context||m,A=m.context&&(p.nodeType||p.jquery)?h(p):h.event,y=h.Deferred(),E=h.Callbacks("once memory"),C=m.statusCode||{},u={},x={},t=0,v="canceled",B={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=$a.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},
getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var e=a.toLowerCase();t||(a=x[e]=x[e]||a,u[a]=b);return this},overrideMimeType:function(a){t||(m.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)C[b]=[C[b],a[b]];else B.always(a[B.status]);return this},abort:function(a){a=a||v;c&&c.abort(a);e(0,a);return this}};y.promise(B).complete=E.add;B.success=B.done;B.error=B.fail;m.url=((a||m.url||ja)+"").replace(ga,"").replace(fa,ub[1]+"//");m.type=
b.method||b.type||m.method||m.type;m.dataTypes=h.trim(m.dataType||"*").toLowerCase().match(G)||[""];null==m.crossDomain&&(k=Mb.exec(m.url.toLowerCase()),m.crossDomain=!(!k||!(k[1]!==ub[1]||k[2]!==ub[2]||(k[3]||("http:"===k[1]?"80":"443"))!==(ub[3]||("http:"===ub[1]?"80":"443")))));m.data&&(m.processData&&"string"!==typeof m.data)&&(m.data=h.param(m.data,m.traditional));S(kc,m,b,B);if(2===t)return B;(l=m.global)&&0===h.active++&&h.event.trigger("ajaxStart");m.type=m.type.toUpperCase();m.hasContent=
!ab.test(m.type);d=m.url;m.hasContent||(m.data&&(d=m.url+=(ua.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=ra.test(d)?d.replace(ra,"$1_="+ka++):d+(ua.test(d)?"&":"?")+"_="+ka++));m.ifModified&&(h.lastModified[d]&&B.setRequestHeader("If-Modified-Since",h.lastModified[d]),h.etag[d]&&B.setRequestHeader("If-None-Match",h.etag[d]));(m.data&&m.hasContent&&!1!==m.contentType||b.contentType)&&B.setRequestHeader("Content-Type",m.contentType);B.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?
m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Xb+"; q=0.01":""):m.accepts["*"]);for(n in m.headers)B.setRequestHeader(n,m.headers[n]);if(m.beforeSend&&(!1===m.beforeSend.call(p,B,m)||2===t))return B.abort();v="abort";for(n in{success:1,error:1,complete:1})B[n](m[n]);if(c=S(Pb,m,b,B)){B.readyState=1;l&&A.trigger("ajaxSend",[B,m]);m.async&&0<m.timeout&&(q=setTimeout(function(){B.abort("timeout")},m.timeout));try{t=1,c.send(u,e)}catch(w){if(2>t)e(-1,w);else throw w;}}else e(-1,"No Transport");
return B},getJSON:function(a,b,e){return h.get(a,b,e,"json")},getScript:function(a,b){return h.get(a,r,b,"script")}});h.each(["get","post"],function(a,b){h[b]=function(a,e,c,d){h.isFunction(e)&&(d=d||c,c=e,e=r);return h.ajax({url:a,type:b,dataType:d,data:e,success:c})}});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){h.globalEval(a);return a}}});
h.ajaxPrefilter("script",function(a){a.cache===r&&(a.cache=!1);a.crossDomain&&(a.type="GET")});h.ajaxTransport("script",function(a){if(a.crossDomain){var b,e;return{send:function(c,d){b=h("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",e=function(a){b.remove();e=null;a&&d("error"===a.type?404:200,a.type)});P.head.appendChild(b[0])},abort:function(){e&&e()}}}});var Ob=[],Yb=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ob.pop()||h.expando+
"_"+ka++;this[a]=!0;return a}});h.ajaxPrefilter("json jsonp",function(a,b,e){var d,f,g,q=!1!==a.jsonp&&(Yb.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yb.test(a.data)&&"data");if(q||"jsonp"===a.dataTypes[0])return d=a.jsonpCallback=h.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,q?a[q]=a[q].replace(Yb,"$1"+d):!1!==a.jsonp&&(a.url+=(ua.test(a.url)?"&":"?")+a.jsonp+"="+d),a.converters["script json"]=function(){g||h.error(d+
" was not called");return g[0]},a.dataTypes[0]="json",f=c[d],c[d]=function(){g=arguments},e.always(function(){c[d]=f;a[d]&&(a.jsonpCallback=b.jsonpCallback,Ob.push(d));g&&h.isFunction(f)&&f(g[0]);g=f=r}),"script"});h.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var bb=h.ajaxSettings.xhr(),xb={0:200,1223:204},Ma=0,va={};if(c.ActiveXObject)h(c).on("unload",function(){for(var a in va)va[a]();va=r});h.support.cors=!!bb&&"withCredentials"in bb;h.support.ajax=bb=!!bb;h.ajaxTransport(function(a){var b;
if(h.support.cors||bb&&!a.crossDomain)return{send:function(e,h){var c,d,f=a.xhr();f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(c in a.xhrFields)f[c]=a.xhrFields[c];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);!a.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");for(c in e)f.setRequestHeader(c,e[c]);b=function(a){return function(){b&&(delete va[d],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?h(f.status||404,f.statusText):
h(xb[f.status]||f.status,f.statusText,"string"===typeof f.responseText?{text:f.responseText}:r,f.getAllResponseHeaders()))}};f.onload=b();f.onerror=b("error");b=va[d=Ma++]=b("abort");f.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}});var Sa,Za,cb=/^(?:toggle|show|hide)$/,Ua=RegExp("^(?:([+-])=|)("+E+")([a-z%]*)$","i"),mb=/queueHooks$/,qb=[function(a,b,e){var c,d,f,g,q,k=this,l={},n=a.style,m=a.nodeType&&s(a),p=X.get(a,"fxshow");e.queue||(g=h._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=
0,q=g.empty.fire,g.empty.fire=function(){g.unqueued||q()}),g.unqueued++,k.always(function(){k.always(function(){g.unqueued--;h.queue(a,"fx").length||g.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))e.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===h.css(a,"display")&&"none"===h.css(a,"float")&&(n.display="inline-block");e.overflow&&(n.overflow="hidden",k.always(function(){n.overflow=e.overflow[0];n.overflowX=e.overflow[1];n.overflowY=e.overflow[2]}));for(c in b)if(d=b[c],
cb.exec(d)){delete b[c];f=f||"toggle"===d;if(d===(m?"hide":"show"))if("show"===d&&p&&p[c]!==r)m=!0;else continue;l[c]=p&&p[c]||h.style(a,c)}if(!h.isEmptyObject(l))for(c in p?"hidden"in p&&(m=p.hidden):p=X.access(a,"fxshow",{}),f&&(p.hidden=!m),m?h(a).show():k.done(function(){h(a).hide()}),k.done(function(){var b;X.remove(a,"fxshow");for(b in l)h.style(a,b,l[b])}),l)b=N(m?p[c]:0,c,k),c in p||(p[c]=b.start,m&&(b.end=b.start,b.start="width"===c||"height"===c?1:0))}],za={"*":[function(a,b){var e=this.createTween(a,
b),c=e.cur(),d=Ua.exec(b),f=d&&d[3]||(h.cssNumber[a]?"":"px"),g=(h.cssNumber[a]||"px"!==f&&+c)&&Ua.exec(h.css(e.elem,a)),q=1,k=20;if(g&&g[3]!==f){f=f||g[3];d=d||[];g=+c||1;do q=q||".5",g/=q,h.style(e.elem,a,g+f);while(q!==(q=e.cur()/c)&&1!==q&&--k)}d&&(g=e.start=+g||+c||0,e.unit=f,e.end=d[1]?g+(d[1]+1)*d[2]:+d[2]);return e}]};h.Animation=h.extend(D,{tweener:function(a,b){h.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var e,c=0,d=a.length;c<d;c++)e=a[c],za[e]=za[e]||[],za[e].unshift(b)},prefilter:function(a,
b){b?qb.unshift(a):qb.push(a)}});h.Tween=U;U.prototype={constructor:U,init:function(a,b,e,c,d,f){this.elem=a;this.prop=e;this.easing=d||"swing";this.options=b;this.start=this.now=this.cur();this.end=c;this.unit=f||(h.cssNumber[e]?"":"px")},cur:function(){var a=U.propHooks[this.prop];return a&&a.get?a.get(this):U.propHooks._default.get(this)},run:function(a){var b,e=U.propHooks[this.prop];this.pos=this.options.duration?b=h.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=
a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);e&&e.set?e.set(this):U.propHooks._default.set(this);return this}};U.prototype.init.prototype=U.prototype;U.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=h.css(a.elem,a.prop,"");return!a||"auto"===a?0:a},set:function(a){if(h.fx.step[a.prop])h.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[h.cssProps[a.prop]]||
h.cssHooks[a.prop])?h.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};h.each(["toggle","show","hide"],function(a,b){var e=h.fn[b];h.fn[b]=function(a,h,c){return null==a||"boolean"===typeof a?e.apply(this,arguments):this.animate(Y(b,!0),a,h,c)}});h.fn.extend({fadeTo:function(a,b,e,h){return this.filter(s).css("opacity",0).show().end().animate({opacity:b},a,e,h)},animate:function(a,
b,e,c){var d=h.isEmptyObject(a),f=h.speed(b,e,c);b=function(){var b=D(this,h.extend({},a),f);(d||X.get(this,"finish"))&&b.stop(!0)};b.finish=b;return d||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,b,e){var c=function(a){var b=a.stop;delete a.stop;b(e)};"string"!==typeof a&&(e=b,b=a,a=r);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,d=null!=a&&a+"queueHooks",f=h.timers,g=X.get(this);if(d)g[d]&&g[d].stop&&c(g[d]);else for(d in g)g[d]&&(g[d].stop&&mb.test(d))&&
c(g[d]);for(d=f.length;d--;)if(f[d].elem===this&&(null==a||f[d].queue===a))f[d].anim.stop(e),b=!1,f.splice(d,1);(b||!e)&&h.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,e=X.get(this),c=e[a+"queue"];b=e[a+"queueHooks"];var d=h.timers,f=c?c.length:0;e.finish=!0;h.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=d.length;b--;)d[b].elem===this&&d[b].queue===a&&(d[b].anim.stop(!0),d.splice(b,1));for(b=0;b<f;b++)c[b]&&c[b].finish&&c[b].finish.call(this);
delete e.finish})}});h.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){h.fn[a]=function(a,e,h){return this.animate(b,a,e,h)}});h.speed=function(a,b,e){var c=a&&"object"===typeof a?h.extend({},a):{complete:e||!e&&b||h.isFunction(a)&&a,duration:a,easing:e&&b||b&&!h.isFunction(b)&&b};c.duration=h.fx.off?0:"number"===typeof c.duration?c.duration:c.duration in h.fx.speeds?h.fx.speeds[c.duration]:
h.fx.speeds._default;if(null==c.queue||!0===c.queue)c.queue="fx";c.old=c.complete;c.complete=function(){h.isFunction(c.old)&&c.old.call(this);c.queue&&h.dequeue(this,c.queue)};return c};h.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};h.timers=[];h.fx=U.prototype.init;h.fx.tick=function(){var a,b=h.timers,e=0;for(Sa=h.now();e<b.length;e++)a=b[e],!a()&&b[e]===a&&b.splice(e--,1);b.length||h.fx.stop();Sa=r};h.fx.timer=function(a){a()&&h.timers.push(a)&&h.fx.start()};
h.fx.interval=13;h.fx.start=function(){Za||(Za=setInterval(h.fx.tick,h.fx.interval))};h.fx.stop=function(){clearInterval(Za);Za=null};h.fx.speeds={slow:600,fast:200,_default:400};h.fx.step={};h.expr&&h.expr.filters&&(h.expr.filters.animated=function(a){return h.grep(h.timers,function(b){return a===b.elem}).length});h.fn.offset=function(a){if(arguments.length)return a===r?this:this.each(function(b){h.offset.setOffset(this,a,b)});var b,e;e=this[0];var c={top:0,left:0},d=e&&e.ownerDocument;if(d){b=d.documentElement;
if(!h.contains(b,e))return c;typeof e.getBoundingClientRect!==Q&&(c=e.getBoundingClientRect());e=h.isWindow(d)?d:9===d.nodeType&&d.defaultView;return{top:c.top+e.pageYOffset-b.clientTop,left:c.left+e.pageXOffset-b.clientLeft}}};h.offset={setOffset:function(a,b,e){var c,d,f,g=h.css(a,"position"),q=h(a),k={};"static"===g&&(a.style.position="relative");f=q.offset();d=h.css(a,"top");c=h.css(a,"left");("absolute"===g||"fixed"===g)&&-1<(d+c).indexOf("auto")?(c=q.position(),d=c.top,c=c.left):(d=parseFloat(d)||
0,c=parseFloat(c)||0);h.isFunction(b)&&(b=b.call(a,e,f));null!=b.top&&(k.top=b.top-f.top+d);null!=b.left&&(k.left=b.left-f.left+c);"using"in b?b.using.call(a,k):q.css(k)}};h.fn.extend({position:function(){if(this[0]){var a,b,e=this[0],c={top:0,left:0};"fixed"===h.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),h.nodeName(a[0],"html")||(c=a.offset()),c.top+=h.css(a[0],"borderTopWidth",!0),c.left+=h.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-h.css(e,
"marginTop",!0),left:b.left-c.left-h.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ha;a&&!h.nodeName(a,"html")&&"static"===h.css(a,"position");)a=a.offsetParent;return a||ha})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e="pageYOffset"===b;h.fn[a]=function(d){return h.access(this,function(a,d,f){var g=h.isWindow(a)?a:9===a.nodeType&&a.defaultView;if(f===r)return g?g[b]:a[d];g?g.scrollTo(!e?f:c.pageXOffset,
e?f:c.pageYOffset):a[d]=f},a,d,arguments.length,null)}});h.each({Height:"height",Width:"width"},function(a,b){h.each({padding:"inner"+a,content:b,"":"outer"+a},function(e,c){h.fn[c]=function(c,d){var f=arguments.length&&(e||"boolean"!==typeof c),g=e||(!0===c||!0===d?"margin":"border");return h.access(this,function(b,e,c){return h.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+
a])):c===r?h.css(b,e,g):h.style(b,e,c,g)},b,f?c:r,f,null)}})});h.fn.size=function(){return this.length};h.fn.andSelf=h.fn.addBack;"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=h:"function"===typeof define&&define.amd&&define("jquery",[],function(){return h});"object"===typeof c&&"object"===typeof c.document&&(c.jQuery=c.$=h)})(window);
(function(c,r){function f(a,b){var f,k;f=a.nodeName.toLowerCase();if("area"===f){f=a.parentNode;k=f.name;if(!a.href||!k||"map"!==f.nodeName.toLowerCase())return!1;f=c("img[usemap=#"+k+"]")[0];return!!f&&d(f)}return(/input|select|textarea|button|object/.test(f)?!a.disabled:"a"===f?a.href||b:b)&&d(a)}function d(a){return c.expr.filters.visible(a)&&!c(a).parents().addBack().filter(function(){return"hidden"===c.css(this,"visibility")}).length}var b=0,k=/^ui-id-\d+$/;c.ui=c.ui||{};c.extend(c.ui,{version:"1.10.3",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({focus:function(a){return function(b,d){return"number"===typeof b?this.each(function(){var a=this;setTimeout(function(){c(a).focus();d&&d.call(a)},b)}):a.apply(this,arguments)}}(c.fn.focus),scrollParent:function(){var a;a=
c.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.css(this,"position"))&&/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):
a},zIndex:function(a){if(a!==r)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)return b;a=a.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})},removeUniqueId:function(){return this.each(function(){k.test(this.id)&&c(this).removeAttr("id")})}});c.extend(c.expr[":"],{data:c.expr.createPseudo?
c.expr.createPseudo(function(a){return function(b){return!!c.data(b,a)}}):function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){return f(a,!isNaN(c.attr(a,"tabindex")))},tabbable:function(a){var b=c.attr(a,"tabindex"),d=isNaN(b);return(d||0<=b)&&f(a,!d)}});c("<a>").outerWidth(1).jquery||c.each(["Width","Height"],function(a,b){function d(a,b,e,g){c.each(f,function(){b-=parseFloat(c.css(a,"padding"+this))||0;e&&(b-=parseFloat(c.css(a,"border"+this+"Width"))||0);g&&(b-=parseFloat(c.css(a,"margin"+
this))||0)});return b}var f="Width"===b?["Left","Right"]:["Top","Bottom"],k=b.toLowerCase(),m={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(a){return a===r?m["inner"+b].call(this):this.each(function(){c(this).css(k,d(this,a)+"px")})};c.fn["outer"+b]=function(a,f){return"number"!==typeof a?m["outer"+b].call(this,a):this.each(function(){c(this).css(k,d(this,a,!0,f)+"px")})}});c.fn.addBack||(c.fn.addBack=function(a){return this.add(null==
a?this.prevObject:this.prevObject.filter(a))});c("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(c.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,c.camelCase(b)):a.call(this)}}(c.fn.removeData));c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.support.selectstart="onselectstart"in document.createElement("div");c.fn.extend({disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.extend(c.ui,{plugin:{add:function(a,b,d){var f;a=c.ui[a].prototype;for(f in d)a.plugins[f]=a.plugins[f]||[],a.plugins[f].push([b,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<d.length;b++)a.options[d[b][0]]&&d[b][1].apply(a.element,c)}},hasScroll:function(a,b){if("hidden"===c(a).css("overflow"))return!1;var d=
b&&"left"===b?"scrollLeft":"scrollTop",f=!1;if(0<a[d])return!0;a[d]=1;f=0<a[d];a[d]=0;return f}})})(jQuery);
(function(c,r){var f=0,d=Array.prototype.slice,b=c.cleanData;c.cleanData=function(d){for(var a=0,e;null!=(e=d[a]);a++)try{c(e).triggerHandler("remove")}catch(f){}b(d)};c.widget=function(b,a,e){var d,f,p,m,l={},t=b.split(".")[0];b=b.split(".")[1];d=t+"-"+b;e||(e=a,a=c.Widget);c.expr[":"][d.toLowerCase()]=function(a){return!!c.data(a,d)};c[t]=c[t]||{};f=c[t][b];p=c[t][b]=function(a,b){if(!this._createWidget)return new p(a,b);arguments.length&&this._createWidget(a,b)};c.extend(p,f,{version:e.version,
_proto:c.extend({},e),_childConstructors:[]});m=new a;m.options=c.widget.extend({},m.options);c.each(e,function(b,e){c.isFunction(e)?l[b]=function(){var c=function(){return a.prototype[b].apply(this,arguments)},d=function(e){return a.prototype[b].apply(this,e)};return function(){var a=this._super,b=this._superApply,f;this._super=c;this._superApply=d;f=e.apply(this,arguments);this._super=a;this._superApply=b;return f}}():l[b]=e});p.prototype=c.widget.extend(m,{widgetEventPrefix:f?m.widgetEventPrefix:
b},l,{constructor:p,namespace:t,widgetName:b,widgetFullName:d});f?(c.each(f._childConstructors,function(a,b){var e=b.prototype;c.widget(e.namespace+"."+e.widgetName,p,b._proto)}),delete f._childConstructors):a._childConstructors.push(p);c.widget.bridge(b,p)};c.widget.extend=function(b){for(var a=d.call(arguments,1),e=0,f=a.length,n,p;e<f;e++)for(n in a[e])p=a[e][n],a[e].hasOwnProperty(n)&&p!==r&&(c.isPlainObject(p)?b[n]=c.isPlainObject(b[n])?c.widget.extend({},b[n],p):c.widget.extend({},p):b[n]=p);
return b};c.widget.bridge=function(b,a){var e=a.prototype.widgetFullName||b;c.fn[b]=function(f){var n="string"===typeof f,p=d.call(arguments,1),m=this;f=!n&&p.length?c.widget.extend.apply(null,[f].concat(p)):f;n?this.each(function(){var a,d=c.data(this,e);if(!d)return c.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'");if(!c.isFunction(d[f])||"_"===f.charAt(0))return c.error("no such method '"+f+"' for "+b+" widget instance");a=d[f].apply(d,p);if(a!==
d&&a!==r)return m=a&&a.jquery?m.pushStack(a.get()):a,!1}):this.each(function(){var b=c.data(this,e);b?b.option(f||{})._init():c.data(this,e,new a(f,this))});return m}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,a){a=c(a||this.defaultElement||this)[0];this.element=c(a);this.uuid=f++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=c.widget.extend({},
this.options,this._getCreateOptions(),b);this.bindings=c();this.hoverable=c();this.focusable=c();a!==this&&(c.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===a&&this.destroy()}}),this.document=c(a.style?a.ownerDocument:a.document||a),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,
_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},
option:function(b,a){var e=b,d,f,p;if(0===arguments.length)return c.widget.extend({},this.options);if("string"===typeof b)if(e={},d=b.split("."),b=d.shift(),d.length){f=e[b]=c.widget.extend({},this.options[b]);for(p=0;p<d.length-1;p++)f[d[p]]=f[d[p]]||{},f=f[d[p]];b=d.pop();if(a===r)return f[b]===r?null:f[b];f[b]=a}else{if(a===r)return this.options[b]===r?null:this.options[b];e[b]=a}this._setOptions(e);return this},_setOptions:function(b){for(var a in b)this._setOption(a,b[a]);return this},_setOption:function(b,
a){this.options[b]=a;"disabled"===b&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!a).attr("aria-disabled",a),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,a,e){var d,f=this;"boolean"!==typeof b&&(e=a,a=b,b=!1);e?(a=d=c(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,d=
this.widget());c.each(e,function(e,m){function l(){if(b||!(!0===f.options.disabled||c(this).hasClass("ui-state-disabled")))return("string"===typeof m?f[m]:m).apply(f,arguments)}"string"!==typeof m&&(l.guid=m.guid=m.guid||l.guid||c.guid++);var t=e.match(/^(\w+)\s*(.*)$/),v=t[1]+f.eventNamespace;(t=t[2])?d.delegate(t,v,l):a.bind(v,l)})},_off:function(b,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(a).undelegate(a)},_delay:function(b,a){var e=this;return setTimeout(function(){return("string"===
typeof b?e[b]:b).apply(e,arguments)},a||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(a){c(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){c(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(a){c(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){c(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,a,e){var d,
f=this.options[b];e=e||{};a=c.Event(a);a.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();a.target=this.element[0];if(b=a.originalEvent)for(d in b)d in a||(a[d]=b[d]);this.element.trigger(a,e);return!(c.isFunction(f)&&!1===f.apply(this.element[0],[a].concat(e))||a.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(b,a){c.Widget.prototype["_"+b]=function(e,d,f){"string"===typeof d&&(d={effect:d});var p,m=!d?b:!0===d||"number"===typeof d?a:d.effect||a;d=
d||{};"number"===typeof d&&(d={duration:d});p=!c.isEmptyObject(d);d.complete=f;d.delay&&e.delay(d.delay);if(p&&c.effects&&c.effects.effect[m])e[b](d);else if(m!==b&&e[m])e[m](d.duration,d.easing,f);else e.queue(function(a){c(this)[b]();f&&f.call(e[0]);a()})}})})(jQuery);
(function(c,r){var f=!1;c(document).mouseup(function(){f=!1});c.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(b){return d._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===c.data(b.target,d.widgetName+".preventClickEvent"))return c.removeData(b.target,d.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!f){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var b=this,k=1===d.which,a="string"===typeof this.options.cancel&&d.target.nodeName?c(d.target).closest(this.options.cancel).length:!1;if(!k||a||!this._mouseCapture(d))return!0;this.mouseDelayMet=
!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=!1!==this._mouseStart(d),!this._mouseStarted))return d.preventDefault(),!0;!0===c.data(d.target,this.widgetName+".preventClickEvent")&&c.removeData(d.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return b._mouseMove(a)};this._mouseUpDelegate=function(a){return b._mouseUp(a)};
c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);d.preventDefault();return f=!0}},_mouseMove:function(d){if(c.ui.ie&&(!document.documentMode||9>document.documentMode)&&!d.button)return this._mouseUp(d);if(this._mouseStarted)return this._mouseDrag(d),d.preventDefault();this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,d))?this._mouseDrag(d):this._mouseUp(d));
return!this._mouseStarted},_mouseUp:function(d){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,d.target===this._mouseDownEvent.target&&c.data(d.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(d));return!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(c,r){c.widget("ui.draggable",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&
!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(f){var d=this.options;if(this.helper||d.disabled||0<c(f.target).closest(".ui-resizable-handle").length)return!1;
this.handle=this._getHandle(f);if(!this.handle)return!1;c(!0===d.iframeFix?"iframe":d.iframeFix).each(function(){c("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")});return!0},_mouseStart:function(f){var d=this.options;this.helper=this._createHelper(f);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
c.ui.ddmanager&&(c.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=!1;c.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(f);this.originalPageX=f.pageX;this.originalPageY=f.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this._setContainment();if(!1===this._trigger("start",f))return this._clear(),!1;this._cacheHelperProportions();c.ui.ddmanager&&!d.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,f);this._mouseDrag(f,!0);c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,f);return!0},
_mouseDrag:function(f,d){"fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(f);this.positionAbs=this._convertPositionTo("absolute");if(!d){var b=this._uiHash();if(!1===this._trigger("drag",f,b))return this._mouseUp({}),!1;this.position=b.position}if(!this.options.axis||"y"!==this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!==this.options.axis)this.helper[0].style.top=this.position.top+
"px";c.ui.ddmanager&&c.ui.ddmanager.drag(this,f);return!1},_mouseStop:function(f){var d=this,b=!1;c.ui.ddmanager&&!this.options.dropBehaviour&&(b=c.ui.ddmanager.drop(this,f));this.dropped&&(b=this.dropped,this.dropped=!1);if("original"===this.options.helper&&!c.contains(this.element[0].ownerDocument,this.element[0]))return!1;"invalid"===this.options.revert&&!b||"valid"===this.options.revert&&b||!0===this.options.revert||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)?c(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==d._trigger("stop",f)&&d._clear()}):!1!==this._trigger("stop",f)&&this._clear();return!1},_mouseUp:function(f){c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,f);return c.ui.mouse.prototype._mouseUp.call(this,f)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(f){return this.options.handle?
!!c(f.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(f){var d=this.options;f=c.isFunction(d.helper)?c(d.helper.apply(this.element[0],[f])):"clone"===d.helper?this.element.clone().removeAttr("id"):this.element;f.parents("body").length||f.appendTo("parent"===d.appendTo?this.element[0].parentNode:d.appendTo);f[0]!==this.element[0]&&!/(fixed|absolute)/.test(f.css("position"))&&f.css("position","absolute");return f},_adjustOffsetFromHelper:function(f){"string"===
typeof f&&(f=f.split(" "));c.isArray(f)&&(f={left:+f[0],top:+f[1]||0});"left"in f&&(this.offset.click.left=f.left+this.margins.left);"right"in f&&(this.offset.click.left=this.helperProportions.width-f.right+this.margins.left);"top"in f&&(this.offset.click.top=f.top+this.margins.top);"bottom"in f&&(this.offset.click.top=this.helperProportions.height-f.bottom+this.margins.top)},_getParentOffset:function(){var f=this.offsetParent.offset();"absolute"===this.cssPosition&&(this.scrollParent[0]!==document&&
c.contains(this.scrollParent[0],this.offsetParent[0]))&&(f.left+=this.scrollParent.scrollLeft(),f.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&c.ui.ie)f={top:0,left:0};return{top:f.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:f.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var c=
this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,d,b;f=this.options;if(f.containment)if("window"===f.containment)this.containment=[c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,c(window).scrollLeft()+c(window).width()-this.helperProportions.width-this.margins.left,c(window).scrollTop()+(c(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];else if("document"===f.containment)this.containment=[0,0,c(document).width()-this.helperProportions.width-this.margins.left,(c(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(f.containment.constructor===Array)this.containment=f.containment;else{if("parent"===f.containment&&(f.containment=this.helper[0].parentNode),d=c(f.containment),b=d[0])f="hidden"!==d.css("overflow"),this.containment=[(parseInt(d.css("borderLeftWidth"),
10)||0)+(parseInt(d.css("paddingLeft"),10)||0),(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("paddingTop"),10)||0),(f?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d.css("borderRightWidth"),10)||0)-(parseInt(d.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d.css("borderBottomWidth"),10)||0)-(parseInt(d.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=d}else this.containment=null},_convertPositionTo:function(f,d){d||(d=this.position);var b="absolute"===f?1:-1,k="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;this.offset.scroll||(this.offset.scroll={top:k.scrollTop(),left:k.scrollLeft()});return{top:d.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():this.offset.scroll.top)*b,left:d.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*b}},_generatePosition:function(f){var d,b,k,a=this.options,e="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;k=f.pageX;b=f.pageY;this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),
left:e.scrollLeft()});this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),d=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):d=this.containment,f.pageX-this.offset.click.left<d[0]&&(k=d[0]+this.offset.click.left),f.pageY-this.offset.click.top<d[1]&&(b=d[1]+this.offset.click.top),f.pageX-this.offset.click.left>d[2]&&(k=d[2]+this.offset.click.left),f.pageY-this.offset.click.top>d[3]&&(b=d[3]+
this.offset.click.top)),a.grid&&(b=a.grid[1]?this.originalPageY+Math.round((b-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,b=d?b-this.offset.click.top>=d[1]||b-this.offset.click.top>d[3]?b:b-this.offset.click.top>=d[1]?b-a.grid[1]:b+a.grid[1]:b,k=a.grid[0]?this.originalPageX+Math.round((k-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,k=d?k-this.offset.click.left>=d[0]||k-this.offset.click.left>d[2]?k:k-this.offset.click.left>=d[0]?k-a.grid[0]:k+a.grid[0]:k));return{top:b-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(f,d,b){b=b||this._uiHash();c.ui.plugin.call(this,f,[d,b]);"drag"===f&&(this.positionAbs=this._convertPositionTo("absolute"));return c.Widget.prototype._trigger.call(this,f,d,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.ui.plugin.add("draggable","connectToSortable",{start:function(f,d){var b=c(this).data("ui-draggable"),k=b.options,a=c.extend({},d,{item:b.element});b.sortables=
[];c(k.connectToSortable).each(function(){var e=c.data(this,"ui-sortable");e&&!e.options.disabled&&(b.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",f,a))})},stop:function(f,d){var b=c(this).data("ui-draggable"),k=c.extend({},d,{item:b.element});c.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(f),this.instance.options.helper=this.instance.options._helper,"original"===b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",f,k))})},drag:function(f,d){var b=c(this).data("ui-draggable"),k=this;c.each(b.sortables,function(){var a=!1,e=this;this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(a=!0,c.each(b.sortables,function(){this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this!==e&&(this.instance._intersectsWith(this.instance.containerCache)&&c.contains(e.instance.element[0],this.instance.element[0]))&&(a=!1);return a}));a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=c(k).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return d.helper[0]},f.target=this.instance.currentItem[0],this.instance._mouseCapture(f,!0),this.instance._mouseStart(f,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",f),b.dropped=
this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(f)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",f,this.instance._uiHash(this.instance)),this.instance._mouseStop(f,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
b._trigger("fromSortable",f),b.dropped=!1)})}});c.ui.plugin.add("draggable","cursor",{start:function(){var f=c("body"),d=c(this).data("ui-draggable").options;f.css("cursor")&&(d._cursor=f.css("cursor"));f.css("cursor",d.cursor)},stop:function(){var f=c(this).data("ui-draggable").options;f._cursor&&c("body").css("cursor",f._cursor)}});c.ui.plugin.add("draggable","opacity",{start:function(f,d){var b=c(d.helper),k=c(this).data("ui-draggable").options;b.css("opacity")&&(k._opacity=b.css("opacity"));b.css("opacity",
k.opacity)},stop:function(f,d){var b=c(this).data("ui-draggable").options;b._opacity&&c(d.helper).css("opacity",b._opacity)}});c.ui.plugin.add("draggable","scroll",{start:function(){var f=c(this).data("ui-draggable");f.scrollParent[0]!==document&&"HTML"!==f.scrollParent[0].tagName&&(f.overflowOffset=f.scrollParent.offset())},drag:function(f){var d=c(this).data("ui-draggable"),b=d.options,k=!1;if(d.scrollParent[0]!==document&&"HTML"!==d.scrollParent[0].tagName){if(!b.axis||"x"!==b.axis)d.overflowOffset.top+
d.scrollParent[0].offsetHeight-f.pageY<b.scrollSensitivity?d.scrollParent[0].scrollTop=k=d.scrollParent[0].scrollTop+b.scrollSpeed:f.pageY-d.overflowOffset.top<b.scrollSensitivity&&(d.scrollParent[0].scrollTop=k=d.scrollParent[0].scrollTop-b.scrollSpeed);if(!b.axis||"y"!==b.axis)d.overflowOffset.left+d.scrollParent[0].offsetWidth-f.pageX<b.scrollSensitivity?d.scrollParent[0].scrollLeft=k=d.scrollParent[0].scrollLeft+b.scrollSpeed:f.pageX-d.overflowOffset.left<b.scrollSensitivity&&(d.scrollParent[0].scrollLeft=
k=d.scrollParent[0].scrollLeft-b.scrollSpeed)}else{if(!b.axis||"x"!==b.axis)f.pageY-c(document).scrollTop()<b.scrollSensitivity?k=c(document).scrollTop(c(document).scrollTop()-b.scrollSpeed):c(window).height()-(f.pageY-c(document).scrollTop())<b.scrollSensitivity&&(k=c(document).scrollTop(c(document).scrollTop()+b.scrollSpeed));if(!b.axis||"y"!==b.axis)f.pageX-c(document).scrollLeft()<b.scrollSensitivity?k=c(document).scrollLeft(c(document).scrollLeft()-b.scrollSpeed):c(window).width()-(f.pageX-c(document).scrollLeft())<
b.scrollSensitivity&&(k=c(document).scrollLeft(c(document).scrollLeft()+b.scrollSpeed))}!1!==k&&(c.ui.ddmanager&&!b.dropBehaviour)&&c.ui.ddmanager.prepareOffsets(d,f)}});c.ui.plugin.add("draggable","snap",{start:function(){var f=c(this).data("ui-draggable"),d=f.options;f.snapElements=[];c(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var b=c(this),d=b.offset();this!==f.element[0]&&f.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),
top:d.top,left:d.left})})},drag:function(f,d){var b,k,a,e,g,n,p,m,l,t,v=c(this).data("ui-draggable"),u=v.options,w=u.snapTolerance,z=d.offset.left,s=z+v.helperProportions.width,K=d.offset.top,F=K+v.helperProportions.height;for(l=v.snapElements.length-1;0<=l;l--)g=v.snapElements[l].left,n=g+v.snapElements[l].width,p=v.snapElements[l].top,m=p+v.snapElements[l].height,s<g-w||z>n+w||F<p-w||K>m+w||!c.contains(v.snapElements[l].item.ownerDocument,v.snapElements[l].item)?(v.snapElements[l].snapping&&v.options.snap.release&&
v.options.snap.release.call(v.element,f,c.extend(v._uiHash(),{snapItem:v.snapElements[l].item})),v.snapElements[l].snapping=!1):("inner"!==u.snapMode&&(b=Math.abs(p-F)<=w,k=Math.abs(m-K)<=w,a=Math.abs(g-s)<=w,e=Math.abs(n-z)<=w,b&&(d.position.top=v._convertPositionTo("relative",{top:p-v.helperProportions.height,left:0}).top-v.margins.top),k&&(d.position.top=v._convertPositionTo("relative",{top:m,left:0}).top-v.margins.top),a&&(d.position.left=v._convertPositionTo("relative",{top:0,left:g-v.helperProportions.width}).left-
v.margins.left),e&&(d.position.left=v._convertPositionTo("relative",{top:0,left:n}).left-v.margins.left)),t=b||k||a||e,"outer"!==u.snapMode&&(b=Math.abs(p-K)<=w,k=Math.abs(m-F)<=w,a=Math.abs(g-z)<=w,e=Math.abs(n-s)<=w,b&&(d.position.top=v._convertPositionTo("relative",{top:p,left:0}).top-v.margins.top),k&&(d.position.top=v._convertPositionTo("relative",{top:m-v.helperProportions.height,left:0}).top-v.margins.top),a&&(d.position.left=v._convertPositionTo("relative",{top:0,left:g}).left-v.margins.left),
e&&(d.position.left=v._convertPositionTo("relative",{top:0,left:n-v.helperProportions.width}).left-v.margins.left)),!v.snapElements[l].snapping&&(b||k||a||e||t)&&v.options.snap.snap&&v.options.snap.snap.call(v.element,f,c.extend(v._uiHash(),{snapItem:v.snapElements[l].item})),v.snapElements[l].snapping=b||k||a||e||t)}});c.ui.plugin.add("draggable","stack",{start:function(){var f,d=this.data("ui-draggable").options,d=c.makeArray(c(d.stack)).sort(function(b,d){return(parseInt(c(b).css("zIndex"),10)||
0)-(parseInt(c(d).css("zIndex"),10)||0)});d.length&&(f=parseInt(c(d[0]).css("zIndex"),10)||0,c(d).each(function(b){c(this).css("zIndex",f+b)}),this.css("zIndex",f+d.length))}});c.ui.plugin.add("draggable","zIndex",{start:function(f,d){var b=c(d.helper),k=c(this).data("ui-draggable").options;b.css("zIndex")&&(k._zIndex=b.css("zIndex"));b.css("zIndex",k.zIndex)},stop:function(f,d){var b=c(this).data("ui-draggable").options;b._zIndex&&c(d.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(c,r){c.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var f=this.options,d=f.accept;this.isover=!1;this.isout=!0;this.accept=c.isFunction(d)?d:function(b){return b.is(d)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};c.ui.ddmanager.droppables[f.scope]=
c.ui.ddmanager.droppables[f.scope]||[];c.ui.ddmanager.droppables[f.scope].push(this);f.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var f=0,d=c.ui.ddmanager.droppables[this.options.scope];f<d.length;f++)d[f]===this&&d.splice(f,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(f,d){"accept"===f&&(this.accept=c.isFunction(d)?d:function(b){return b.is(d)});c.Widget.prototype._setOption.apply(this,arguments)},_activate:function(f){var d=
c.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);d&&this._trigger("activate",f,this.ui(d))},_deactivate:function(f){var d=c.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);d&&this._trigger("deactivate",f,this.ui(d))},_over:function(f){var d=c.ui.ddmanager.current;if(d&&(d.currentItem||d.element)[0]!==this.element[0])if(this.accept.call(this.element[0],d.currentItem||d.element))this.options.hoverClass&&
this.element.addClass(this.options.hoverClass),this._trigger("over",f,this.ui(d))},_out:function(f){var d=c.ui.ddmanager.current;if(d&&(d.currentItem||d.element)[0]!==this.element[0])if(this.accept.call(this.element[0],d.currentItem||d.element))this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",f,this.ui(d))},_drop:function(f,d){var b=d||c.ui.ddmanager.current,k=!1;if(!b||(b.currentItem||b.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var a=
c.data(this,"ui-droppable");if(a.options.greedy&&!a.options.disabled&&a.options.scope===b.options.scope&&a.accept.call(a.element[0],b.currentItem||b.element)&&c.ui.intersect(b,c.extend(a,{offset:a.element.offset()}),a.options.tolerance))return k=!0,!1});return k?!1:this.accept.call(this.element[0],b.currentItem||b.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",f,
this.ui(b)),this.element):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}});c.ui.intersect=function(c,d,b){if(!d.offset)return!1;var k=(c.positionAbs||c.position.absolute).left,a=k+c.helperProportions.width,e=(c.positionAbs||c.position.absolute).top,g=e+c.helperProportions.height,n=d.offset.left,p=n+d.proportions.width,m=d.offset.top,l=m+d.proportions.height;switch(b){case "fit":return n<=k&&a<=p&&m<=e&&g<=l;case "intersect":return n<
k+c.helperProportions.width/2&&a-c.helperProportions.width/2<p&&m<e+c.helperProportions.height/2&&g-c.helperProportions.height/2<l;case "pointer":return b=(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,c=(c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,c>m&&c<m+d.proportions.height&&b>n&&b<n+d.proportions.width;case "touch":return(e>=m&&e<=l||g>=m&&g<=l||e<m&&g>l)&&(k>=n&&k<=p||a>=n&&a<=p||k<n&&a>p);default:return!1}};c.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(f,d){var b,k,a=c.ui.ddmanager.droppables[f.options.scope]||[],e=d?d.type:null,g=(f.currentItem||f.element).find(":data(ui-droppable)").addBack();b=0;a:for(;b<a.length;b++)if(!(a[b].options.disabled||f&&!a[b].accept.call(a[b].element[0],f.currentItem||f.element))){for(k=0;k<g.length;k++)if(g[k]===a[b].element[0]){a[b].proportions.height=0;continue a}a[b].visible="none"!==a[b].element.css("display");a[b].visible&&("mousedown"===e&&a[b]._activate.call(a[b],
d),a[b].offset=a[b].element.offset(),a[b].proportions={width:a[b].element[0].offsetWidth,height:a[b].element[0].offsetHeight})}},drop:function(f,d){var b=!1;c.each((c.ui.ddmanager.droppables[f.options.scope]||[]).slice(),function(){if(this.options&&(!this.options.disabled&&(this.visible&&c.ui.intersect(f,this,this.options.tolerance))&&(b=this._drop.call(this,d)||b),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],f.currentItem||f.element)))this.isout=!0,this.isover=!1,this._deactivate.call(this,
d)});return b},dragStart:function(f,d){f.element.parentsUntil("body").bind("scroll.droppable",function(){f.options.refreshPositions||c.ui.ddmanager.prepareOffsets(f,d)})},drag:function(f,d){f.options.refreshPositions&&c.ui.ddmanager.prepareOffsets(f,d);c.each(c.ui.ddmanager.droppables[f.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var b,k,a;a=c.ui.intersect(f,this,this.options.tolerance);var e=!a&&this.isover?"isout":a&&!this.isover?"isover":null;e&&(this.options.greedy&&
(k=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return c.data(this,"ui-droppable").options.scope===k}),a.length&&(b=c.data(a[0],"ui-droppable"),b.greedyChild="isover"===e)),b&&"isover"===e&&(b.isover=!1,b.isout=!0,b._out.call(b,d)),this[e]=!0,this["isout"===e?"isover":"isout"]=!1,this["isover"===e?"_over":"_out"].call(this,d),b&&"isout"===e&&(b.isout=!1,b.isover=!0,b._over.call(b,d)))}})},dragStop:function(f,d){f.element.parentsUntil("body").unbind("scroll.droppable");
f.options.refreshPositions||c.ui.ddmanager.prepareOffsets(f,d)}}})(jQuery);
(function(c,r){function f(b){return parseInt(b,10)||0}function d(b){return!isNaN(parseInt(b,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,d,a,e,f,n=this,p=this.options;this.element.addClass("ui-resizable");
c.extend(this,{_aspectRatio:!!p.aspectRatio,aspectRatio:p.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:p.helper||p.ghost||p.animate?p.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=p.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});
if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");b=this.handles.split(",");this.handles={};for(d=0;d<b.length;d++)a=c.trim(b[d]),f="ui-resizable-"+a,e=c("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:p.zIndex}),"se"===a&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(e)}this._renderAxis=function(a){var b,e,d;a=a||this.element;for(b in this.handles)this.handles[b].constructor===
String&&(this.handles[b]=c(this.handles[b],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(e=c(this.handles[b],this.element),d=/sw|ne|nw|se|n|s/.test(b)?e.outerHeight():e.outerWidth(),e=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),a.css(e,d),this._proportionallyResize()),c(this.handles[b])};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){n.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),n.axis=e&&e[1]?e[1]:"se")});p.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){p.disabled||(c(this).removeClass("ui-resizable-autohide"),n._handles.show())}).mouseleave(function(){!p.disabled&&!n.resizing&&(c(this).addClass("ui-resizable-autohide"),n._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var b,d=function(a){c(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(d(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove());this.originalElement.css("resize",this.originalResizeStyle);d(this.originalElement);
return this},_mouseCapture:function(b){var d,a,e=!1;for(d in this.handles)if(a=c(this.handles[d])[0],a===b.target||c.contains(a,b.target))e=!0;return!this.options.disabled&&e},_mouseStart:function(b){var d,a,e;e=this.options;d=this.element.position();var g=this.element;this.resizing=!0;/absolute/.test(g.css("position"))?g.css({position:"absolute",top:g.css("top"),left:g.css("left")}):g.is(".ui-draggable")&&g.css({position:"absolute",top:d.top,left:d.left});this._renderProxy();d=f(this.helper.css("left"));
a=f(this.helper.css("top"));e.containment&&(d+=c(e.containment).scrollLeft()||0,a+=c(e.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:d,top:a};this.size=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalPosition={left:d,top:a};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-
g.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"===typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1;e=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor","auto"===e?this.axis+"-resize":e);g.addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var d,a=this.helper,e={};d=this.originalMousePosition;var f=this.position.top,n=this.position.left,p=this.size.width,m=this.size.height,
l=this._change[this.axis];if(!l)return!1;d=l.apply(this,[b,b.pageX-d.left||0,b.pageY-d.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)d=this._updateRatio(d,b);d=this._respectSize(d,b);this._updateCache(d);this._propagate("resize",b);this.position.top!==f&&(e.top=this.position.top+"px");this.position.left!==n&&(e.left=this.position.left+"px");this.size.width!==p&&(e.width=this.size.width+"px");this.size.height!==m&&(e.height=this.size.height+"px");a.css(e);!this._helper&&
this._proportionallyResizeElements.length&&this._proportionallyResize();c.isEmptyObject(e)||this._trigger("resize",b,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var d,a,e,f=this.options;this._helper&&(d=this._proportionallyResizeElements,d=(a=d.length&&/textarea/i.test(d[0].nodeName))&&c.ui.hasScroll(d[0],"left")?0:this.sizeDiff.height,a=a?0:this.sizeDiff.width,a={width:this.helper.width()-a,height:this.helper.height()-d},d=parseInt(this.element.css("left"),10)+(this.position.left-
this.originalPosition.left)||null,e=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,f.animate||this.element.css(c.extend(a,{top:e,left:d})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!f.animate&&this._proportionallyResize());c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(b){var c,
a,e,f;f=this.options;f={minWidth:d(f.minWidth)?f.minWidth:0,maxWidth:d(f.maxWidth)?f.maxWidth:Infinity,minHeight:d(f.minHeight)?f.minHeight:0,maxHeight:d(f.maxHeight)?f.maxHeight:Infinity};if(this._aspectRatio||b)b=f.minHeight*this.aspectRatio,a=f.minWidth/this.aspectRatio,c=f.maxHeight*this.aspectRatio,e=f.maxWidth/this.aspectRatio,b>f.minWidth&&(f.minWidth=b),a>f.minHeight&&(f.minHeight=a),c<f.maxWidth&&(f.maxWidth=c),e<f.maxHeight&&(f.maxHeight=e);this._vBoundaries=f},_updateCache:function(b){this.offset=
this.helper.offset();d(b.left)&&(this.position.left=b.left);d(b.top)&&(this.position.top=b.top);d(b.height)&&(this.size.height=b.height);d(b.width)&&(this.size.width=b.width)},_updateRatio:function(b){var c=this.position,a=this.size,e=this.axis;d(b.height)?b.width=b.height*this.aspectRatio:d(b.width)&&(b.height=b.width/this.aspectRatio);"sw"===e&&(b.left=c.left+(a.width-b.width),b.top=null);"nw"===e&&(b.top=c.top+(a.height-b.height),b.left=c.left+(a.width-b.width));return b},_respectSize:function(b){var c=
this._vBoundaries,a=this.axis,e=d(b.width)&&c.maxWidth&&c.maxWidth<b.width,f=d(b.height)&&c.maxHeight&&c.maxHeight<b.height,n=d(b.width)&&c.minWidth&&c.minWidth>b.width,p=d(b.height)&&c.minHeight&&c.minHeight>b.height,m=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,t=/sw|nw|w/.test(a),a=/nw|ne|n/.test(a);n&&(b.width=c.minWidth);p&&(b.height=c.minHeight);e&&(b.width=c.maxWidth);f&&(b.height=c.maxHeight);n&&t&&(b.left=m-c.minWidth);e&&t&&(b.left=m-c.maxWidth);
p&&a&&(b.top=l-c.minHeight);f&&a&&(b.top=l-c.maxHeight);!b.width&&!b.height&&!b.left&&b.top?b.top=null:!b.width&&(!b.height&&!b.top&&b.left)&&(b.left=null);return b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var b,c,a,e,d,f=this.helper||this.element;for(b=0;b<this._proportionallyResizeElements.length;b++){d=this._proportionallyResizeElements[b];if(!this.borderDif){this.borderDif=[];a=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),
d.css("borderLeftWidth")];e=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];for(c=0;c<a.length;c++)this.borderDif[c]=(parseInt(a[c],10)||0)+(parseInt(e[c],10)||0)}d.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(b,c){return{width:this.originalSize.width+c}},w:function(b,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(b,c,a){return{top:this.originalPosition.top+a,height:this.originalSize.height-a}},s:function(b,c,a){return{height:this.originalSize.height+
a}},se:function(b,d,a){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,d,a]))},sw:function(b,d,a){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,d,a]))},ne:function(b,d,a){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,d,a]))},nw:function(b,d,a){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,d,a]))}},_propagate:function(b,d){c.ui.plugin.call(this,b,[d,this.ui()]);
"resize"!==b&&this._trigger(b,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(b){var d=c(this).data("ui-resizable"),a=d.options,e=d._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),n=f&&c.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,f=
{width:d.size.width-(f?0:d.sizeDiff.width),height:d.size.height-n},n=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,p=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(c.extend(f,p&&n?{top:p,left:n}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var a={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),
10)};e&&e.length&&c(e[0]).css({width:a.width,height:a.height});d._updateCache(a);d._propagate("resize",b)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var b,d,a,e,g,n=c(this).data("ui-resizable"),p=n.element;a=n.options.containment;if(p=a instanceof c?a.get(0):/parent/.test(a)?p.parent().get(0):a)n.containerElement=c(p),/document/.test(a)||a===document?(n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:c(document),left:0,top:0,width:c(document).width(),
height:c(document).height()||document.body.parentNode.scrollHeight}):(b=c(p),d=[],c(["Top","Right","Left","Bottom"]).each(function(a,e){d[a]=f(b.css("padding"+e))}),n.containerOffset=b.offset(),n.containerPosition=b.position(),n.containerSize={height:b.innerHeight()-d[3],width:b.innerWidth()-d[1]},a=n.containerOffset,e=n.containerSize.height,g=n.containerSize.width,g=c.ui.hasScroll(p,"left")?p.scrollWidth:g,e=c.ui.hasScroll(p)?p.scrollHeight:e,n.parentData={element:p,left:a.left,top:a.top,width:g,
height:e})},resize:function(b){var d,a,e,f,n=c(this).data("ui-resizable");d=n.options;a=n.containerOffset;e=n.position;b=n._aspectRatio||b.shiftKey;f={top:0,left:0};var p=n.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(f=a);if(e.left<(n._helper?a.left:0))n.size.width+=n._helper?n.position.left-a.left:n.position.left-f.left,b&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=d.helper?a.left:0;if(e.top<(n._helper?a.top:0))n.size.height+=n._helper?n.position.top-a.top:
n.position.top,b&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?a.top:0;n.offset.left=n.parentData.left+n.position.left;n.offset.top=n.parentData.top+n.position.top;d=Math.abs(n.offset.left-f.left+n.sizeDiff.width);a=Math.abs((n._helper?n.offset.top-f.top:n.offset.top-a.top)+n.sizeDiff.height);e=n.containerElement.get(0)===n.element.parent().get(0);f=/relative|absolute/.test(n.containerElement.css("position"));e&&f&&(d-=n.parentData.left);d+n.size.width>=n.parentData.width&&
(n.size.width=n.parentData.width-d,b&&(n.size.height=n.size.width/n.aspectRatio));a+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-a,b&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(){var b=c(this).data("ui-resizable"),d=b.options,a=b.containerOffset,e=b.containerPosition,f=b.containerElement,n=c(b.helper),p=n.offset(),m=n.outerWidth()-b.sizeDiff.width,n=n.outerHeight()-b.sizeDiff.height;b._helper&&(!d.animate&&/relative/.test(f.css("position")))&&c(this).css({left:p.left-
e.left-a.left,width:m,height:n});b._helper&&(!d.animate&&/static/.test(f.css("position")))&&c(this).css({left:p.left-e.left-a.left,width:m,height:n})}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var b=c(this).data("ui-resizable").options,d=function(a){c(a).each(function(){var a=c(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"===typeof b.alsoResize&&!b.alsoResize.parentNode?
b.alsoResize.length?(b.alsoResize=b.alsoResize[0],d(b.alsoResize)):c.each(b.alsoResize,function(a){d(a)}):d(b.alsoResize)},resize:function(b,d){var a=c(this).data("ui-resizable"),e=a.options,f=a.originalSize,n=a.originalPosition,p={height:a.size.height-f.height||0,width:a.size.width-f.width||0,top:a.position.top-n.top||0,left:a.position.left-n.left||0},m=function(a,b){c(a).each(function(){var a=c(this),e=c(this).data("ui-resizable-alsoresize"),f={},g=b&&b.length?b:a.parents(d.originalElement[0]).length?
["width","height"]:["width","height","top","left"];c.each(g,function(a,b){var c=(e[b]||0)+(p[b]||0);c&&0<=c&&(f[b]=c||null)});a.css(f)})};"object"===typeof e.alsoResize&&!e.alsoResize.nodeType?c.each(e.alsoResize,function(a,b){m(a,b)}):m(e.alsoResize)},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","ghost",{start:function(){var b=c(this).data("ui-resizable"),d=b.options,a=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",
position:"relative",height:a.height,width:a.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof d.ghost?d.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=c(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=c(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});c.ui.plugin.add("resizable","grid",{resize:function(){var b=c(this).data("ui-resizable"),
d=b.options,a=b.size,e=b.originalSize,f=b.originalPosition,n=b.axis,p="number"===typeof d.grid?[d.grid,d.grid]:d.grid,m=p[0]||1,l=p[1]||1,t=Math.round((a.width-e.width)/m)*m,a=Math.round((a.height-e.height)/l)*l,v=e.width+t,e=e.height+a,u=d.maxWidth&&d.maxWidth<v,w=d.maxHeight&&d.maxHeight<e,z=d.minWidth&&d.minWidth>v,s=d.minHeight&&d.minHeight>e;d.grid=p;z&&(v+=m);s&&(e+=l);u&&(v-=m);w&&(e-=l);/^(se|s|e)$/.test(n)?(b.size.width=v,b.size.height=e):/^(ne)$/.test(n)?(b.size.width=v,b.size.height=e,
b.position.top=f.top-a):(/^(sw)$/.test(n)?(b.size.width=v,b.size.height=e):(b.size.width=v,b.size.height=e,b.position.top=f.top-a),b.position.left=f.left-t)}})})(jQuery);
(function(c,r){c.widget("ui.selectable",c.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var f,d=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){f=c(d.options.filter,d.element[0]);f.addClass("ui-selectee");f.each(function(){var b=c(this),d=b.offset();c.data(this,"selectable-item",{element:this,$element:b,
left:d.left,top:d.top,right:d.left+b.outerWidth(),bottom:d.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=f.addClass("ui-selectee");this._mouseInit();this.helper=c("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(f){var d=this,b=this.options;this.opos=[f.pageX,f.pageY];this.options.disabled||(this.selectees=c(b.filter,this.element[0]),this._trigger("start",f),c(b.appendTo).append(this.helper),this.helper.css({left:f.pageX,top:f.pageY,width:0,height:0}),b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var b=c.data(this,"selectable-item");b.startselected=!0;!f.metaKey&&!f.ctrlKey&&(b.$element.removeClass("ui-selected"),b.selected=
!1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,d._trigger("unselecting",f,{unselecting:b.element}))}),c(f.target).parents().addBack().each(function(){var b,a=c.data(this,"selectable-item");if(a)return b=!f.metaKey&&!f.ctrlKey||!a.$element.hasClass("ui-selected"),a.$element.removeClass(b?"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting"),a.unselecting=!b,a.selecting=b,(a.selected=b)?d._trigger("selecting",f,{selecting:a.element}):d._trigger("unselecting",f,{unselecting:a.element}),
!1}))},_mouseDrag:function(f){this.dragged=!0;if(!this.options.disabled){var d,b=this,k=this.options,a=this.opos[0],e=this.opos[1],g=f.pageX,n=f.pageY;a>g&&(d=g,g=a,a=d);e>n&&(d=n,n=e,e=d);this.helper.css({left:a,top:e,width:g-a,height:n-e});this.selectees.each(function(){var d=c.data(this,"selectable-item"),m=!1;d&&d.element!==b.element[0]&&("touch"===k.tolerance?m=!(d.left>g||d.right<a||d.top>n||d.bottom<e):"fit"===k.tolerance&&(m=d.left>a&&d.right<g&&d.top>e&&d.bottom<n),m?(d.selected&&(d.$element.removeClass("ui-selected"),
d.selected=!1),d.unselecting&&(d.$element.removeClass("ui-unselecting"),d.unselecting=!1),d.selecting||(d.$element.addClass("ui-selecting"),d.selecting=!0,b._trigger("selecting",f,{selecting:d.element}))):(d.selecting&&((f.metaKey||f.ctrlKey)&&d.startselected?(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.$element.addClass("ui-selected"),d.selected=!0):(d.$element.removeClass("ui-selecting"),d.selecting=!1,d.startselected&&(d.$element.addClass("ui-unselecting"),d.unselecting=!0),b._trigger("unselecting",
f,{unselecting:d.element}))),d.selected&&(!f.metaKey&&!f.ctrlKey&&!d.startselected)&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,b._trigger("unselecting",f,{unselecting:d.element}))))});return!1}},_mouseStop:function(f){var d=this;this.dragged=!1;c(".ui-unselecting",this.element[0]).each(function(){var b=c.data(this,"selectable-item");b.$element.removeClass("ui-unselecting");b.unselecting=!1;b.startselected=!1;d._trigger("unselected",
f,{unselected:b.element})});c(".ui-selecting",this.element[0]).each(function(){var b=c.data(this,"selectable-item");b.$element.removeClass("ui-selecting").addClass("ui-selected");b.selecting=!1;b.selected=!0;b.startselected=!0;d._trigger("selected",f,{selected:b.element})});this._trigger("stop",f);this.helper.remove();return!1}})})(jQuery);
(function(c,r){function f(c){return/left|right/.test(c.css("float"))||/inline|table-cell/.test(c.css("display"))}c.widget("ui.sortable",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",
zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var c=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===c.axis||f(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();
for(var c=this.items.length-1;0<=c;c--)this.items[c].item.removeData(this.widgetName+"-item");return this},_setOption:function(d,b){"disabled"===d?(this.options[d]=b,this.widget().toggleClass("ui-sortable-disabled",!!b)):c.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(d,b){var f=null,a=!1,e=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(d);c(d.target).parents().each(function(){if(c.data(this,e.widgetName+"-item")===
e)return f=c(this),!1});c.data(d.target,e.widgetName+"-item")===e&&(f=c(d.target));if(!f||this.options.handle&&!b&&(c(this.options.handle,f).find("*").addBack().each(function(){this===d.target&&(a=!0)}),!a))return!1;this.currentItem=f;this._removeCurrentsFromItems();return!0},_mouseStart:function(d,b,f){var a;b=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(d);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();
this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();b.cursor&&"auto"!==b.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",b.cursor),this.storedStylesheet=c("<style>*{ cursor: "+b.cursor+" !important; }</style>").appendTo(a));b.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",b.opacity));b.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",b.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",d,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!f)for(f=this.containers.length-1;0<=f;f--)this.containers[f]._trigger("activate",d,this._uiHash(this));c.ui.ddmanager&&
(c.ui.ddmanager.current=this);c.ui.ddmanager&&!b.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,d);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(d);return!0},_mouseDrag:function(d){var b,f,a,e;b=this.options;f=!1;this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-d.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+b.scrollSpeed:d.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-d.pageX<b.scrollSensitivity?this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+b.scrollSpeed:d.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
f=this.scrollParent[0].scrollLeft-b.scrollSpeed)):(d.pageY-c(document).scrollTop()<b.scrollSensitivity?f=c(document).scrollTop(c(document).scrollTop()-b.scrollSpeed):c(window).height()-(d.pageY-c(document).scrollTop())<b.scrollSensitivity&&(f=c(document).scrollTop(c(document).scrollTop()+b.scrollSpeed)),d.pageX-c(document).scrollLeft()<b.scrollSensitivity?f=c(document).scrollLeft(c(document).scrollLeft()-b.scrollSpeed):c(window).width()-(d.pageX-c(document).scrollLeft())<b.scrollSensitivity&&(f=c(document).scrollLeft(c(document).scrollLeft()+
b.scrollSpeed))),!1!==f&&(c.ui.ddmanager&&!b.dropBehaviour)&&c.ui.ddmanager.prepareOffsets(this,d));this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||"y"!==this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!==this.options.axis)this.helper[0].style.top=this.position.top+"px";for(b=this.items.length-1;0<=b;b--)if(f=this.items[b],a=f.item[0],(e=this._intersectsWithPointer(f))&&f.instance===this.currentContainer&&a!==this.currentItem[0]&&
this.placeholder[1===e?"next":"prev"]()[0]!==a&&!c.contains(this.placeholder[0],a)&&("semi-dynamic"===this.options.type?!c.contains(this.element[0],a):1)){this.direction=1===e?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(f))this._rearrange(d,f);else break;this._trigger("change",d,this._uiHash());break}this._contactContainers(d);c.ui.ddmanager&&c.ui.ddmanager.drag(this,d);this._trigger("sort",d,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(d,
b){if(d){c.ui.ddmanager&&!this.options.dropBehaviour&&c.ui.ddmanager.drop(this,d);if(this.options.revert){var f=this,a=this.placeholder.offset(),e=this.options.axis,g={};if(!e||"x"===e)g.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);if(!e||"y"===e)g.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);this.reverting=!0;c(this.helper).animate(g,parseInt(this.options.revert,
10)||500,function(){f._clear(d)})}else this._clear(d,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("deactivate",null,this._uiHash(this)),this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",null,this._uiHash(this)),this.containers[d].containerCache.over=
0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&(this.helper&&this.helper[0].parentNode)&&this.helper.remove(),c.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?c(this.domPosition.prev).after(this.currentItem):c(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(d){var b=this._getItemsAsjQuery(d&&d.connected),f=[];d=d||
{};c(b).each(function(){var a=(c(d.item||this).attr(d.attribute||"id")||"").match(d.expression||/(.+)[\-=_](.+)/);a&&f.push((d.key||a[1]+"[]")+"="+(d.key&&d.expression?a[1]:a[2]))});!f.length&&d.key&&f.push(d.key+"=");return f.join("&")},toArray:function(d){var b=this._getItemsAsjQuery(d&&d.connected),f=[];d=d||{};b.each(function(){f.push(c(d.item||this).attr(d.attribute||"id")||"")});return f},_intersectsWith:function(c){var b=this.positionAbs.left,f=b+this.helperProportions.width,a=this.positionAbs.top,
e=a+this.helperProportions.height,g=c.left,n=g+c.width,p=c.top,m=p+c.height,l=this.offset.click.top,t=this.offset.click.left,t="y"===this.options.axis||b+t>g&&b+t<n,l=("x"===this.options.axis||a+l>p&&a+l<m)&&t;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?l:g<b+this.helperProportions.width/2&&f-this.helperProportions.width/2<n&&p<a+this.helperProportions.height/
2&&e-this.helperProportions.height/2<m},_intersectsWithPointer:function(c){var b="y"===this.options.axis||this.positionAbs.left+this.offset.click.left>c.left&&this.positionAbs.left+this.offset.click.left<c.left+c.width;c=("x"===this.options.axis||this.positionAbs.top+this.offset.click.top>c.top&&this.positionAbs.top+this.offset.click.top<c.top+c.height)&&b;var b=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return!c?!1:this.floating?f&&"right"===f||"down"===b?2:1:b&&("down"===
b?2:1)},_intersectsWithSides:function(c){var b=this.positionAbs.top+this.offset.click.top>c.top+c.height/2&&this.positionAbs.top+this.offset.click.top<c.top+c.height/2+c.height;c=this.positionAbs.left+this.offset.click.left>c.left+c.width/2&&this.positionAbs.left+this.offset.click.left<c.left+c.width/2+c.width;var f=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&c||"left"===a&&!c:f&&("down"===f&&b||"up"===f&&!b)},_getDragVerticalDirection:function(){var c=
this.positionAbs.top-this.lastPositionAbs.top;return 0!==c&&(0<c?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return 0!==c&&(0<c?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions();return this},_connectWith:function(){var c=this.options;return c.connectWith.constructor===String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(d){var b,f,a,e=[],g=[],n=this._connectWith();if(n&&d)for(d=n.length-1;0<=
d;d--){f=c(n[d]);for(b=f.length-1;0<=b;b--)(a=c.data(f[b],this.widgetFullName))&&(a!==this&&!a.options.disabled)&&g.push([c.isFunction(a.options.items)?a.options.items.call(a.element):c(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}g.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);
for(d=g.length-1;0<=d;d--)g[d][0].each(function(){e.push(this)});return c(e)},_removeCurrentsFromItems:function(){var d=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=c.grep(this.items,function(b){for(var c=0;c<d.length;c++)if(d[c]===b.item[0])return!1;return!0})},_refreshItems:function(d){this.items=[];this.containers=[this];var b,f,a,e,g,n=this.items,p=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],d,{item:this.currentItem}):c(this.options.items,
this.element),this]];if((g=this._connectWith())&&this.ready)for(b=g.length-1;0<=b;b--){a=c(g[b]);for(f=a.length-1;0<=f;f--)if((e=c.data(a[f],this.widgetFullName))&&e!==this&&!e.options.disabled)p.push([c.isFunction(e.options.items)?e.options.items.call(e.element[0],d,{item:this.currentItem}):c(e.options.items,e.element),e]),this.containers.push(e)}for(b=p.length-1;0<=b;b--){d=p[b][1];a=p[b][0];f=0;for(g=a.length;f<g;f++)e=c(a[f]),e.data(this.widgetName+"-item",d),n.push({item:e,instance:d,width:0,
height:0,left:0,top:0})}},refreshPositions:function(d){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var b,f,a;for(b=this.items.length-1;0<=b;b--)f=this.items[b],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?c(this.options.toleranceElement,f.item):f.item,d||(f.width=a.outerWidth(),f.height=a.outerHeight()),a=a.offset(),f.left=a.left,f.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);
else for(b=this.containers.length-1;0<=b;b--)a=this.containers[b].element.offset(),this.containers[b].containerCache.left=a.left,this.containers[b].containerCache.top=a.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function(d){d=d||this;var b,f=d.options;if(!f.placeholder||f.placeholder.constructor===String)b=f.placeholder,f.placeholder={element:function(){var a=
d.currentItem[0].nodeName.toLowerCase(),e=c("<"+a+">",d.document[0]).addClass(b||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===a?d.currentItem.children().each(function(){c("<td>&#160;</td>",d.document[0]).attr("colspan",c(this).attr("colspan")||1).appendTo(e)}):"img"===a&&e.attr("src",d.currentItem.attr("src"));b||e.css("visibility","hidden");return e},update:function(a,e){if(!b||f.forcePlaceholderSize)e.height()||e.height(d.currentItem.innerHeight()-
parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}};d.placeholder=c(f.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);f.placeholder.update(d,d.placeholder)},_contactContainers:function(d){var b,k,a,e,g,n,p,m,l,t=k=null;for(b=this.containers.length-1;0<=b;b--)if(!c.contains(this.currentItem[0],
this.containers[b].element[0]))if(this._intersectsWith(this.containers[b].containerCache)){if(!k||!c.contains(this.containers[b].element[0],k.element[0]))k=this.containers[b],t=b}else this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",d,this._uiHash(this)),this.containers[b].containerCache.over=0);if(k)if(1===this.containers.length)this.containers[t].containerCache.over||(this.containers[t]._trigger("over",d,this._uiHash(this)),this.containers[t].containerCache.over=1);else{b=
1E4;a=null;e=(l=k.floating||f(this.currentItem))?"left":"top";g=l?"width":"height";n=this.positionAbs[e]+this.offset.click[e];for(k=this.items.length-1;0<=k;k--)if(c.contains(this.containers[t].element[0],this.items[k].item[0])&&this.items[k].item[0]!==this.currentItem[0]&&(!l||this.positionAbs.top+this.offset.click.top>this.items[k].top&&this.positionAbs.top+this.offset.click.top<this.items[k].top+this.items[k].height))p=this.items[k].item.offset()[e],m=!1,Math.abs(p-n)>Math.abs(p+this.items[k][g]-
n)&&(m=!0,p+=this.items[k][g]),Math.abs(p-n)<b&&(b=Math.abs(p-n),a=this.items[k],this.direction=m?"up":"down");if((a||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[t])a?this._rearrange(d,a,null,!0):this._rearrange(d,null,this.containers[t].element,!0),this._trigger("change",d,this._uiHash()),this.containers[t]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[t],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[t]._trigger("over",
d,this._uiHash(this)),this.containers[t].containerCache.over=1}},_createHelper:function(d){var b=this.options;d=c.isFunction(b.helper)?c(b.helper.apply(this.element[0],[d,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;d.parents("body").length||c("parent"!==b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]);d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),
top:this.currentItem.css("top"),left:this.currentItem.css("left")});(!d[0].style.width||b.forceHelperSize)&&d.width(this.currentItem.width());(!d[0].style.height||b.forceHelperSize)&&d.height(this.currentItem.height());return d},_adjustOffsetFromHelper:function(d){"string"===typeof d&&(d=d.split(" "));c.isArray(d)&&(d={left:+d[0],top:+d[1]||0});"left"in d&&(this.offset.click.left=d.left+this.margins.left);"right"in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left);
"top"in d&&(this.offset.click.top=d.top+this.margins.top);"bottom"in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();"absolute"===this.cssPosition&&(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&
"html"===this.offsetParent[0].tagName.toLowerCase()&&c.ui.ie)d={top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,
left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d,b,f;b=this.options;"parent"===b.containment&&(b.containment=this.helper[0].parentNode);if("document"===b.containment||"window"===b.containment)this.containment=[0-this.offset.relative.left-
this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c("document"===b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(c("document"===b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(b.containment)||(d=c(b.containment)[0],b=c(b.containment).offset(),f="hidden"!==c(d).css("overflow"),this.containment=[b.left+(parseInt(c(d).css("borderLeftWidth"),
10)||0)+(parseInt(c(d).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(c(d).css("borderTopWidth"),10)||0)+(parseInt(c(d).css("paddingTop"),10)||0)-this.margins.top,b.left+(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c(d).css("borderLeftWidth"),10)||0)-(parseInt(c(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c(d).css("borderTopWidth"),10)||0)-(parseInt(c(d).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(d,b){b||(b=this.position);var f="absolute"===d?1:-1,a="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(a[0].tagName);return{top:b.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:a.scrollTop())*f,left:b.left+this.offset.relative.left*
f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:a.scrollLeft())*f}},_generatePosition:function(d){var b,f,a=this.options;f=d.pageX;b=d.pageY;var e="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(e[0].tagName);"relative"===this.cssPosition&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=
this._getRelativeOffset());this.originalPosition&&(this.containment&&(d.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),d.pageY-this.offset.click.top<this.containment[1]&&(b=this.containment[1]+this.offset.click.top),d.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),d.pageY-this.offset.click.top>this.containment[3]&&(b=this.containment[3]+this.offset.click.top)),a.grid&&(b=this.originalPageY+Math.round((b-
this.originalPageY)/a.grid[1])*a.grid[1],b=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-a.grid[1]:b+a.grid[1]:b,f=this.originalPageX+Math.round((f-this.originalPageX)/a.grid[0])*a.grid[0],f=this.containment?f-this.offset.click.left>=this.containment[0]&&f-this.offset.click.left<=this.containment[2]?f:f-this.offset.click.left>=this.containment[0]?f-a.grid[0]:f+a.grid[0]:f));return{top:b-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:e.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:e.scrollLeft())}},_rearrange:function(c,b,f,a){f?f[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var e=this.counter=
this.counter?++this.counter:1;this._delay(function(){e===this.counter&&this.refreshPositions(!a)})},_clear:function(c,b){this.reverting=!1;var f,a=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(f in this._storedCSS)if("auto"===this._storedCSS[f]||"static"===this._storedCSS[f])this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!b&&a.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!b&&a.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&!b&&(a.push(function(a){this._trigger("remove",a,this._uiHash())}),a.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,
this.currentContainer)),a.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)));for(f=this.containers.length-1;0<=f;f--)b||a.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(a.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this.storedCursor&&
(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",c,this._uiHash());for(f=0;f<a.length;f++)a[f].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1}b||this._trigger("beforeStop",c,this._uiHash());
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(f=0;f<a.length;f++)a[f].call(this,c);this._trigger("stop",c,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===c.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(d){var b=d||this;return{helper:b.helper,placeholder:b.placeholder||c([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,
item:b.currentItem,sender:d?d.element:null}}})})(jQuery);
(function(c,r){c.effects={effect:{}};(function(c,d){function b(a,b,e){var c=m[b.type]||{};if(null==a)return e||!b.def?null:b.def;a=c.floor?~~a:parseFloat(a);return isNaN(a)?b.def:c.mod?(a+c.mod)%c.mod:0>a?0:c.max<a?c.max:a}function k(a){var b=n(),e=b._rgba=[];a=a.toLowerCase();u(g,function(c,d){var f,g=d.re.exec(a);f=g&&d.parse(g);g=d.space||"rgba";if(f)return f=b[g](f),b[p[g].cache]=f[p[g].cache],e=b._rgba=f._rgba,!1});return e.length?("0,0,0,0"===e.join()&&c.extend(e,v.transparent),b):v[a]}function a(a,
b,e){e=(e+1)%1;return 1>6*e?a+6*(b-a)*e:1>2*e?b:2>3*e?a+6*(b-a)*(2/3-e):a}var e=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],n=c.Color=function(a,b,e,d){return new c.Color.fn.parse(a,b,e,d)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=n.support={},t=c("<p>")[0],v,u=c.each;t.style.cssText="background-color:rgba(1,1,1,.5)";l.rgba=-1<t.style.backgroundColor.indexOf("rgba");u(p,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});n.fn=c.extend(n.prototype,{parse:function(a,e,g,l){if(a===d)return this._rgba=[null,null,
null,null],this;if(a.jquery||a.nodeType)a=c(a).css(e),e=d;var m=this,t=c.type(a),y=this._rgba=[];e!==d&&(a=[a,e,g,l],t="array");if("string"===t)return this.parse(k(a)||v._default);if("array"===t)return u(p.rgba.props,function(e,c){y[c.idx]=b(a[c.idx],c)}),this;if("object"===t)return a instanceof n?u(p,function(b,e){a[e.cache]&&(m[e.cache]=a[e.cache].slice())}):u(p,function(e,d){var g=d.cache;u(d.props,function(e,c){if(!m[g]&&d.to){if("alpha"===e||null==a[e])return;m[g]=d.to(m._rgba)}m[g][c.idx]=b(a[e],
c,!0)});m[g]&&0>c.inArray(null,m[g].slice(0,3))&&(m[g][3]=1,d.from&&(m._rgba=d.from(m[g])))}),this},is:function(a){var b=n(a),e=!0,c=this;u(p,function(a,d){var f,g=b[d.cache];g&&(f=c[d.cache]||d.to&&d.to(c._rgba)||[],u(d.props,function(a,b){if(null!=g[b.idx])return e=g[b.idx]===f[b.idx]}));return e});return e},_space:function(){var a=[],b=this;u(p,function(e,c){b[c.cache]&&a.push(e)});return a.pop()},transition:function(a,e){var c=n(a),d=c._space(),f=p[d],g=0===this.alpha()?n("transparent"):this,
k=g[f.cache]||f.to(g._rgba),l=k.slice(),c=c[f.cache];u(f.props,function(a,d){var f=d.idx,g=k[f],n=c[f],p=m[d.type]||{};null!==n&&(null===g?l[f]=n:(p.mod&&(n-g>p.mod/2?g+=p.mod:g-n>p.mod/2&&(g-=p.mod)),l[f]=b((n-g)*e+g,d)))});return this[d](l)},blend:function(a){if(1===this._rgba[3])return this;var b=this._rgba.slice(),e=b.pop(),d=n(a)._rgba;return n(c.map(b,function(a,b){return(1-e)*d[b]+e*a}))},toRgbaString:function(){var a="rgba(",b=c.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===
b[3]&&(b.pop(),a="rgb(");return a+b.join()+")"},toHslaString:function(){var a="hsla(",b=c.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===b[3]&&(b.pop(),a="hsl(");return a+b.join()+")"},toHexString:function(a){var b=this._rgba.slice(),e=b.pop();a&&b.push(~~(255*e));return"#"+c.map(b,function(a){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});n.fn.parse.prototype=
n.fn;p.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,e=a[1]/255,c=a[2]/255;a=a[3];var d=Math.max(b,e,c),f=Math.min(b,e,c),g=d-f,k=d+f,l=0.5*k;return[Math.round(f===d?0:b===d?60*(e-c)/g+360:e===d?60*(c-b)/g+120:60*(b-e)/g+240)%360,0===g?0:0.5>=l?g/k:g/(2-k),l,null==a?1:a]};p.hsla.from=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];var e=b[0]/360,c=b[1],d=b[2];b=b[3];c=0.5>=d?d*(1+c):d+c-d*c;d=2*d-c;return[Math.round(255*
a(d,c,e+1/3)),Math.round(255*a(d,c,e)),Math.round(255*a(d,c,e-1/3)),b]};u(p,function(a,g){var k=g.props,l=g.cache,m=g.to,p=g.from;n.fn[a]=function(a){m&&!this[l]&&(this[l]=m(this._rgba));if(a===d)return this[l].slice();var e,g=c.type(a),t="array"===g||"object"===g?a:arguments,x=this[l].slice();u(k,function(a,e){var c=t["object"===g?a:e.idx];null==c&&(c=x[e.idx]);x[e.idx]=b(c,e)});return p?(e=n(p(x)),e[l]=x,e):n(x)};u(k,function(b,d){n.fn[b]||(n.fn[b]=function(g){var k=c.type(g),l="alpha"===b?this._hsla?
"hsla":"rgba":a,n=this[l](),m=n[d.idx];if("undefined"===k)return m;"function"===k&&(g=g.call(this,m),k=c.type(g));if(null==g&&d.empty)return this;"string"===k&&(k=e.exec(g))&&(g=m+parseFloat(k[2])*("+"===k[1]?1:-1));n[d.idx]=g;return this[l](n)})})});n.hook=function(a){a=a.split(" ");u(a,function(a,b){c.cssHooks[b]={set:function(a,e){var d,g="";if("transparent"!==e&&("string"!==c.type(e)||(d=k(e)))){e=n(d||e);if(!l.rgba&&1!==e._rgba[3]){for(d="backgroundColor"===b?a.parentNode:a;(""===g||"transparent"===
g)&&d&&d.style;)try{g=c.css(d,"backgroundColor"),d=d.parentNode}catch(m){}e=e.blend(g&&"transparent"!==g?g:"_default")}e=e.toRgbaString()}try{a.style[b]=e}catch(p){}}};c.fx.step[b]=function(a){a.colorInit||(a.start=n(a.elem,b),a.end=n(a.end),a.colorInit=!0);c.cssHooks[b].set(a.elem,a.start.transition(a.end,a.pos))}})};n.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");c.cssHooks.borderColor=
{expand:function(a){var b={};u(["Top","Right","Bottom","Left"],function(e,c){b["border"+c+"Color"]=a});return b}};v=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function f(b){var a,e=b.ownerDocument.defaultView?
b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,d={};if(e&&e.length&&e[0]&&e[e[0]])for(b=e.length;b--;)a=e[b],"string"===typeof e[a]&&(d[c.camelCase(a)]=e[a]);else for(a in e)"string"===typeof e[a]&&(d[a]=e[a]);return d}var d=["add","remove","toggle"],b={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};c.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,a){c.fx.step[a]=function(b){if("none"!==
b.end&&!b.setAttr||1===b.pos&&!b.setAttr)jQuery.style(b.elem,a,b.end),b.setAttr=!0}});c.fn.addBack||(c.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});c.effects.animateClass=function(k,a,e,g){var n=c.speed(a,e,g);return this.queue(function(){var a=c(this),e=a.attr("class")||"",g,t=n.children?a.find("*").addBack():a,t=t.map(function(){return{el:c(this),start:f(this)}});g=function(){c.each(d,function(b,e){if(k[e])a[e+"Class"](k[e])})};g();t=t.map(function(){this.end=
f(this.el[0]);var a=this.start,e=this.end,d={},g,k;for(g in e)if(k=e[g],a[g]!==k&&!b[g]&&(c.fx.step[g]||!isNaN(parseFloat(k))))d[g]=k;this.diff=d;return this});a.attr("class",e);t=t.map(function(){var a=this,b=c.Deferred(),e=c.extend({},n,{queue:!1,complete:function(){b.resolve(a)}});this.el.animate(this.diff,e);return b.promise()});c.when.apply(c,t.get()).done(function(){g();c.each(arguments,function(){var a=this.el;c.each(this.diff,function(b){a.css(b,"")})});n.complete.call(a[0])})})};c.fn.extend({addClass:function(b){return function(a,
e,d,f){return e?c.effects.animateClass.call(this,{add:a},e,d,f):b.apply(this,arguments)}}(c.fn.addClass),removeClass:function(b){return function(a,e,d,f){return 1<arguments.length?c.effects.animateClass.call(this,{remove:a},e,d,f):b.apply(this,arguments)}}(c.fn.removeClass),toggleClass:function(b){return function(a,e,d,f,p){return"boolean"===typeof e||e===r?d?c.effects.animateClass.call(this,e?{add:a}:{remove:a},d,f,p):b.apply(this,arguments):c.effects.animateClass.call(this,{toggle:a},e,d,f)}}(c.fn.toggleClass),
switchClass:function(b,a,e,d,f){return c.effects.animateClass.call(this,{add:a,remove:b},e,d,f)}})})();(function(){function f(b,d,a,e){c.isPlainObject(b)&&(d=b,b=b.effect);b={effect:b};null==d&&(d={});c.isFunction(d)&&(e=d,a=null,d={});if("number"===typeof d||c.fx.speeds[d])e=a,a=d,d={};c.isFunction(a)&&(e=a,a=null);d&&c.extend(b,d);a=a||d.duration;b.duration=c.fx.off?0:"number"===typeof a?a:a in c.fx.speeds?c.fx.speeds[a]:c.fx.speeds._default;b.complete=e||d.complete;return b}function d(b){return!b||
("number"===typeof b||c.fx.speeds[b])||"string"===typeof b&&!c.effects.effect[b]||c.isFunction(b)||"object"===typeof b&&!b.effect?!0:!1}c.extend(c.effects,{version:"1.10.3",save:function(b,c){for(var a=0;a<c.length;a++)null!==c[a]&&b.data("ui-effects-"+c[a],b[0].style[c[a]])},restore:function(b,c){var a,e;for(e=0;e<c.length;e++)null!==c[e]&&(a=b.data("ui-effects-"+c[e]),a===r&&(a=""),b.css(c[e],a))},setMode:function(b,c){"toggle"===c&&(c=b.is(":hidden")?"show":"hide");return c},getBaseline:function(b,
c){var a,e;switch(b[0]){case "top":a=0;break;case "middle":a=0.5;break;case "bottom":a=1;break;default:a=b[0]/c.height}switch(b[1]){case "left":e=0;break;case "center":e=0.5;break;case "right":e=1;break;default:e=b[1]/c.width}return{x:e,y:a}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var d={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},a=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(n){f=document.body}b.wrap(a);(b[0]===f||c.contains(b[0],f))&&c(f).focus();a=b.parent();"static"===b.css("position")?(a.css({position:"relative"}),b.css({position:"relative"})):(c.extend(d,{position:b.css("position"),zIndex:b.css("z-index")}),c.each(["top","left","bottom","right"],function(a,e){d[e]=b.css(e);isNaN(parseInt(d[e],10))&&(d[e]="auto")}),b.css({position:"relative",top:0,left:0,
right:"auto",bottom:"auto"}));b.css(e);return a.css(d).show()},removeWrapper:function(b){var d=document.activeElement;b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===d||c.contains(b[0],d))&&c(d).focus());return b},setTransition:function(b,d,a,e){e=e||{};c.each(d,function(c,d){var f=b.cssUnit(d);0<f[0]&&(e[d]=f[0]*a+f[1])});return e}});c.fn.extend({effect:function(){function b(a){function b(){c.isFunction(f)&&f.call(e[0]);c.isFunction(a)&&a()}var e=c(this),f=d.complete,t=d.mode;
(e.is(":hidden")?"hide"===t:"show"===t)?(e[t](),b()):g.call(e[0],d,b)}var d=f.apply(this,arguments),a=d.mode,e=d.queue,g=c.effects.effect[d.effect];return c.fx.off||!g?a?this[a](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):!1===e?this.each(b):this.queue(e||"fx",b)},show:function(b){return function(c){if(d(c))return b.apply(this,arguments);var a=f.apply(this,arguments);a.mode="show";return this.effect.call(this,a)}}(c.fn.show),hide:function(b){return function(c){if(d(c))return b.apply(this,
arguments);var a=f.apply(this,arguments);a.mode="hide";return this.effect.call(this,a)}}(c.fn.hide),toggle:function(b){return function(c){if(d(c)||"boolean"===typeof c)return b.apply(this,arguments);var a=f.apply(this,arguments);a.mode="toggle";return this.effect.call(this,a)}}(c.fn.toggle),cssUnit:function(b){var d=this.css(b),a=[];c.each(["em","px","%","pt"],function(b,c){0<d.indexOf(c)&&(a=[parseFloat(d),c])});return a}})})();(function(){var f={};c.each(["Quad","Cubic","Quart","Quint","Expo"],
function(c,b){f[b]=function(b){return Math.pow(b,c+2)}});c.extend(f,{Sine:function(c){return 1-Math.cos(c*Math.PI/2)},Circ:function(c){return 1-Math.sqrt(1-c*c)},Elastic:function(c){return 0===c||1===c?c:-Math.pow(2,8*(c-1))*Math.sin((80*(c-1)-7.5)*Math.PI/15)},Back:function(c){return c*c*(3*c-2)},Bounce:function(c){for(var b,f=4;c<((b=Math.pow(2,--f))-1)/11;);return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*b-2)/22-c,2)}});c.each(f,function(d,b){c.easing["easeIn"+d]=b;c.easing["easeOut"+d]=function(c){return 1-
b(1-c)};c.easing["easeInOut"+d]=function(c){return 0.5>c?b(2*c)/2:1-b(-2*c+2)/2}})})()})(jQuery);
(function(c,r){var f=0,d={},b={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide";b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show";c.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;
this.prevShow=this.prevHide=c();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!b.collapsible&&(!1===b.active||null==b.active))b.active=0;this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?c():this.active.next(),content:!this.active.length?c():this.active.next()}},_createIcons:function(){var b=this.options.icons;b&&(c("<span>").addClass("ui-accordion-header-icon ui-icon "+
b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var b;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();b=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&b.css("height","")},_setOption:function(b,a){"active"===b?this._activate(a):
("event"===b&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(a)),this._super(b,a),"collapsible"===b&&(!a&&!1===this.options.active)&&this._activate(0),"icons"===b&&(this._destroyIcons(),a&&this._createIcons()),"disabled"===b&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!a))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var a=c.ui.keyCode,e=this.headers.length,d=this.headers.index(b.target),f=!1;switch(b.keyCode){case a.RIGHT:case a.DOWN:f=
this.headers[(d+1)%e];break;case a.LEFT:case a.UP:f=this.headers[(d-1+e)%e];break;case a.SPACE:case a.ENTER:this._eventHandler(b);break;case a.HOME:f=this.headers[0];break;case a.END:f=this.headers[e-1]}f&&(c(b.target).attr("tabIndex",-1),c(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===c.ui.keyCode.UP&&b.ctrlKey&&c(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||!this.headers.length?
(b.active=!1,this.active=c()):!1===b.active?this._activate(0):this.active.length&&!c.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=c()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var b,a=this.options,e=a.heightStyle,d=this.element.parent(),n=this.accordionId="ui-accordion-"+(this.element.attr("id")||++f);this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(a){var b=c(this),e=b.attr("id"),d=b.next(),f=d.attr("id");e||(e=n+"-header-"+a,b.attr("id",e));f||(f=n+"-panel-"+
a,d.attr("id",f));b.attr("aria-controls",f);d.attr("aria-labelledby",e)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(a.event);"fill"===e?(b=d.height(),this.element.siblings(":visible").each(function(){var a=
c(this),e=a.css("position");"absolute"===e||"fixed"===e||(b-=a.outerHeight(!0))}),this.headers.each(function(){b-=c(this).outerHeight(!0)}),this.headers.next().each(function(){c(this).height(Math.max(0,b-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===e&&(b=0,this.headers.next().each(function(){b=Math.max(b,c(this).css("height","").height())}).height(b))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:c.noop}))},_findActive:function(b){return"number"===typeof b?this.headers.eq(b):c()},_setupEvents:function(b){var a={keydown:"_keydown"};b&&c.each(b.split(" "),function(b,c){a[c]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,a);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var a=this.options,e=this.active,d=c(b.currentTarget),f=
d[0]===e[0],p=f&&a.collapsible,m=p?c():d.next(),l=e.next(),m={oldHeader:e,oldPanel:l,newHeader:p?c():d,newPanel:m};b.preventDefault();f&&!a.collapsible||!1===this._trigger("beforeActivate",b,m)||(a.active=p?!1:this.headers.index(d),this.active=f?c():d,this._toggle(m),e.removeClass("ui-accordion-header-active ui-state-active"),a.icons&&e.children(".ui-accordion-header-icon").removeClass(a.icons.activeHeader).addClass(a.icons.header),f||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
a.icons&&d.children(".ui-accordion-header-icon").removeClass(a.icons.header).addClass(a.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var a=b.newPanel,e=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=a;this.prevHide=e;this.options.animate?this._animate(a,e,b):(e.hide(),a.show(),this._toggleComplete(b));e.attr({"aria-expanded":"false","aria-hidden":"true"});e.prev().attr("aria-selected","false");
a.length&&e.length?e.prev().attr("tabIndex",-1):a.length&&this.headers.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1);a.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(c,a,e){var f,n,p,m=this,l=0,t=c.length&&(!a.length||c.index()<a.index()),v=this.options.animate||{},t=t&&v.down||v,u=function(){m._toggleComplete(e)};"number"===typeof t&&(p=t);"string"===typeof t&&(n=t);n=n||t.easing||v.easing;p=p||
t.duration||v.duration;if(!a.length)return c.animate(b,p,n,u);if(!c.length)return a.animate(d,p,n,u);f=c.show().outerHeight();a.animate(d,{duration:p,easing:n,step:function(a,b){b.now=Math.round(a)}});c.hide().animate(b,{duration:p,easing:n,complete:u,step:function(b,e){e.now=Math.round(b);"height"!==e.prop?l+=e.now:"content"!==m.options.heightStyle&&(e.now=Math.round(f-a.outerHeight()-l),l=0)}})},_toggleComplete:function(b){var a=b.oldPanel;a.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
a.length&&(a.parent()[0].className=a.parent()[0].className);this._trigger("activate",null,b)}})})(jQuery);
(function(c,r){var f=0;c.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var d,b,f,a=this.element[0].nodeName.toLowerCase(),e="textarea"===a,a="input"===a;this.isMultiLine=e?!0:a?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[e||
a?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))b=f=d=!0;else{b=f=d=!1;var e=c.ui.keyCode;switch(a.keyCode){case e.PAGE_UP:d=!0;this._move("previousPage",a);break;case e.PAGE_DOWN:d=!0;this._move("nextPage",a);break;case e.UP:d=!0;this._keyEvent("previous",a);break;case e.DOWN:d=!0;this._keyEvent("next",a);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&
(d=!0,a.preventDefault(),this.menu.select(a));break;case e.TAB:this.menu.active&&this.menu.select(a);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(a),a.preventDefault());break;default:b=!0,this._searchTimeout(a)}}},keypress:function(a){if(d)d=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&a.preventDefault();else if(!b){var e=c.ui.keyCode;switch(a.keyCode){case e.PAGE_UP:this._move("previousPage",a);break;case e.PAGE_DOWN:this._move("nextPage",
a);break;case e.UP:this._keyEvent("previous",a);break;case e.DOWN:this._keyEvent("next",a)}}},input:function(a){f?(f=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=c("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var b=this.menu.element[0];c(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(e){e.target!==a.element[0]&&(e.target!==b&&!c.contains(b,e.target))&&a.close()})})},menufocus:function(a,b){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();this.document.one("mousemove",
function(){c(a.target).trigger(a.originalEvent)});return}var e=b.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:e})?a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(e.value):this.liveRegion.text(e.value)},menuselect:function(a,b){var e=b.item.data("ui-autocomplete-item"),c=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c;this.selectedItem=e}));!1!==this._trigger("select",
a,{item:e})&&this._value(e.value);this.term=this._value();this.close(a);this.selectedItem=e}});this.liveRegion=c("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(c,
b){this._super(c,b);"source"===c&&this._initSource();"appendTo"===c&&this.menu.element.appendTo(this._appendTo());"disabled"===c&&(b&&this.xhr)&&this.xhr.abort()},_appendTo:function(){var d=this.options.appendTo;d&&(d=d.jquery||d.nodeType?c(d):this.document.find(d).eq(0));d||(d=this.element.closest(".ui-front"));d.length||(d=this.document[0].body);return d},_initSource:function(){var d,b,f=this;c.isArray(this.options.source)?(d=this.options.source,this.source=function(a,b){b(c.ui.autocomplete.filter(d,
a.term))}):"string"===typeof this.options.source?(b=this.options.source,this.source=function(a,e){f.xhr&&f.xhr.abort();f.xhr=c.ajax({url:b,data:a,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,b){c=null!=c?c:this._value();this.term=this._value();
if(c.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",b))return this._search(c)},_search:function(c){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:c},this._response())},_response:function(){var c=this,b=++f;return function(k){b===f&&c.__response(k);c.pending--;c.pending||c.element.removeClass("ui-autocomplete-loading")}},__response:function(c){c&&(c=this._normalize(c));this._trigger("response",null,{content:c});
!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0;this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(d){return d.length&&d[0].label&&d[0].value?d:c.map(d,function(b){return"string"===
typeof b?{label:b,value:b}:c.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(d){var b=this.menu.element.empty();this._renderMenu(b,d);this.isNewMenu=!0;this.menu.refresh();b.show();this._resizeMenu();b.position(c.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(d,b){var f=this;c.each(b,
function(a,b){f._renderItemData(d,b)})},_renderItemData:function(c,b){return this._renderItem(c,b).data("ui-autocomplete-item",b)},_renderItem:function(d,b){return c("<li>").append(c("<a>").text(b.label)).appendTo(d)},_move:function(c,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c))this._value(this.term),this.menu.blur();else this.menu[c](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,
arguments)},_keyEvent:function(c,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(c,b),b.preventDefault()}});c.extend(c.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(d,b){var f=RegExp(c.ui.autocomplete.escapeRegex(b),"i");return c.grep(d,function(a){return f.test(a.label||a.value||a)})}});c.widget("ui.autocomplete",c.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+
(1<c?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var b;this._superApply(arguments);!this.options.disabled&&!this.cancelSearch&&(b=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,this.liveRegion.text(b))}})})(jQuery);
(function(c,r){var f,d,b,k,a=function(){var a=c(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},e=function(a){var b=a.name,e=a.form,d=c([]);b&&(b=b.replace(/'/g,"\\'"),d=e?c(e).find("[name='"+b+"']"):c("[name='"+b+"']",a.ownerDocument).filter(function(){return!this.form}));return d};c.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,a);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var g=this,n=this.options,p="checkbox"===this.type||"radio"===this.type,m=!p?"ui-state-active":"";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===f&&c(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||c(this).removeClass(m)}).bind("click"+this.eventNamespace,function(a){n.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){g.buttonElement.addClass("ui-state-focus")}).bind("blur"+
this.eventNamespace,function(){g.buttonElement.removeClass("ui-state-focus")});p&&(this.element.bind("change"+this.eventNamespace,function(){k||g.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){n.disabled||(k=!1,d=a.pageX,b=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){if(!n.disabled&&(d!==a.pageX||b!==a.pageY))k=!0}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||k)return!1}):"radio"===this.type?this.buttonElement.bind("click"+
this.eventNamespace,function(){if(n.disabled||k)return!1;c(this).addClass("ui-state-active");g.buttonElement.attr("aria-pressed","true");var a=g.element[0];e(a).not(a).map(function(){return c(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;c(this).addClass("ui-state-active");f=this;g.document.one("mouseup",function(){f=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;
c(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(a){if(n.disabled)return!1;(a.keyCode===c.ui.keyCode.SPACE||a.keyCode===c.ui.keyCode.ENTER)&&c(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){c(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===c.ui.keyCode.SPACE&&c(this).click()}));this._setOption("disabled",n.disabled);this._resetButton()},
_determineButtonType:function(){var a,b;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=
a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,b);"disabled"===a?b?this.element.prop("disabled",!0):this.element.prop("disabled",!1):this._resetButton()},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a);"radio"===this.type?e(this.element[0]).each(function(){c(this).is(":checked")?c(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):c(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
b=c("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),e=this.options.icons,d=e.primary&&e.secondary,f=[];e.primary||e.secondary?(this.options.text&&f.push("ui-button-text-icon"+(d?"s":e.primary?"-primary":"-secondary")),e.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+e.primary+"'></span>"),e.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+e.secondary+"'></span>"),this.options.text||(f.push(d?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||a.attr("title",c.trim(b)))):f.push("ui-button-text-only");a.addClass(f.join(" "))}}});c.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var a=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(c,r){function f(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};c.extend(this._defaults,this.regional[""]);this.dpDiv=d(c("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(a){return a.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){c(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&c(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&c(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){if(!c.datepicker._isDisabledDatepicker(k.inline?a.parent()[0]:k.input[0]))c(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),c(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&c(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&c(this).addClass("ui-datepicker-next-hover")})}function b(a,b){c.extend(a,b);for(var d in b)null==b[d]&&(a[d]=b[d]);return a}c.extend(c.ui,{datepicker:{version:"1.10.3"}});var k;c.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){b(this._defaults,a||{});return this},_attachDatepicker:function(a,
b){var d,f,k;d=a.nodeName.toLowerCase();f="div"===d||"span"===d;a.id||(this.uuid+=1,a.id="dp"+this.uuid);k=this._newInst(c(a),f);k.settings=c.extend({},b||{});"input"===d?this._connectDatepicker(a,k):f&&this._inlineDatepicker(a,k)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d(c("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},
_connectDatepicker:function(a,b){var d=c(a);b.append=c([]);b.trigger=c([]);d.hasClass(this.markerClassName)||(this._attachments(d,b),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(b),c.data(a,"datepicker",b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var d,f;d=this._get(b,"appendText");var k=this._get(b,"isRTL");b.append&&b.append.remove();d&&(b.append=c("<span class='"+this._appendClass+"'>"+
d+"</span>"),a[k?"before":"after"](b.append));a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();d=this._get(b,"showOn");("focus"===d||"both"===d)&&a.focus(this._showDatepicker);if("button"===d||"both"===d)d=this._get(b,"buttonText"),f=this._get(b,"buttonImage"),b.trigger=c(this._get(b,"buttonImageOnly")?c("<img/>").addClass(this._triggerClass).attr({src:f,alt:d,title:d}):c("<button type='button'></button>").addClass(this._triggerClass).html(!f?d:c("<img/>").attr({src:f,alt:d,title:d}))),
a[k?"before":"after"](b.trigger),b.trigger.click(function(){c.datepicker._datepickerShowing&&c.datepicker._lastInput===a[0]?c.datepicker._hideDatepicker():(c.datepicker._datepickerShowing&&c.datepicker._lastInput!==a[0]&&c.datepicker._hideDatepicker(),c.datepicker._showDatepicker(a[0]));return!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,f,k=new Date(2009,11,20),l=this._get(a,"dateFormat");l.match(/[DM]/)&&(b=function(a){for(f=d=c=0;f<a.length;f++)a[f].length>c&&(c=
a[f].length,d=f);return d},k.setMonth(b(this._get(a,l.match(/MM/)?"monthNames":"monthNamesShort"))),k.setDate(b(this._get(a,l.match(/DD/)?"dayNames":"dayNamesShort"))+20-k.getDay()));a.input.attr("size",this._formatDate(a,k).length)}},_inlineDatepicker:function(a,b){var d=c(a);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(b.dpDiv),c.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&
this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,e,d,f,k){var m;a=this._dialogInst;a||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=c("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),c("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},c.data(this._dialogInput[0],"datepicker",a));b(a.settings,f||{});e=e&&e.constructor===Date?
this._formatDate(a,e):e;this._dialogInput.val(e);this._pos=k?k.length?k:[k.pageX,k.pageY]:null;this._pos||(e=document.documentElement.clientWidth,f=document.documentElement.clientHeight,k=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[e/2-100+k,f/2-150+m]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=d;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);c.blockUI&&c.blockUI(this.dpDiv);c.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b,d=c(a),f=c.data(a,"datepicker");d.hasClass(this.markerClassName)&&(b=a.nodeName.toLowerCase(),c.removeData(a,"datepicker"),"input"===b?(f.append.remove(),f.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
this._doKeyUp)):("div"===b||"span"===b)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(a){var b,d=c(a),f=c.data(a,"datepicker");if(d.hasClass(this.markerClassName)){b=a.nodeName.toLowerCase();if("input"===b)a.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===b||"span"===b)b=d.children("."+this._inlineClass),b.children().removeClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=c.map(this._disabledInputs,function(b){return b===a?null:b})}},_disableDatepicker:function(a){var b,d=c(a),f=c.data(a,"datepicker");if(d.hasClass(this.markerClassName)){b=a.nodeName.toLowerCase();if("input"===b)a.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===b||"span"===b)b=d.children("."+this._inlineClass),b.children().addClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=c.map(this._disabledInputs,function(b){return b===a?null:b});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return c.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,e,d){var f,k,m,l,t=this._getInst(a);if(2===arguments.length&&"string"===
typeof e)return"defaults"===e?c.extend({},c.datepicker._defaults):t?"all"===e?c.extend({},t.settings):this._get(t,e):null;f=e||{};"string"===typeof e&&(f={},f[e]=d);t&&(this._curInst===t&&this._hideDatepicker(),k=this._getDateDatepicker(a,!0),m=this._getMinMaxDate(t,"min"),l=this._getMinMaxDate(t,"max"),b(t.settings,f),null!==m&&(f.dateFormat!==r&&f.minDate===r)&&(t.settings.minDate=this._formatDate(t,m)),null!==l&&(f.dateFormat!==r&&f.maxDate===r)&&(t.settings.maxDate=this._formatDate(t,l)),"disabled"in
f&&(f.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(c(a),t),this._autoSize(t),this._setDate(t,k),this._updateAlternate(t),this._updateDatepicker(t))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=
this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(a){var b,d=c.datepicker._getInst(a.target);b=!0;var f=d.dpDiv.is(".ui-datepicker-rtl");d._keyEvent=!0;if(c.datepicker._datepickerShowing)switch(a.keyCode){case 9:c.datepicker._hideDatepicker();b=!1;break;case 13:return b=c("td."+c.datepicker._dayOverClass+":not(."+c.datepicker._currentClass+")",d.dpDiv),b[0]&&c.datepicker._selectDay(a.target,d.selectedMonth,d.selectedYear,b[0]),(a=c.datepicker._get(d,
"onSelect"))?(b=c.datepicker._formatDate(d),a.apply(d.input?d.input[0]:null,[b,d])):c.datepicker._hideDatepicker(),!1;case 27:c.datepicker._hideDatepicker();break;case 33:c.datepicker._adjustDate(a.target,a.ctrlKey?-c.datepicker._get(d,"stepBigMonths"):-c.datepicker._get(d,"stepMonths"),"M");break;case 34:c.datepicker._adjustDate(a.target,a.ctrlKey?+c.datepicker._get(d,"stepBigMonths"):+c.datepicker._get(d,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&c.datepicker._clearDate(a.target);
b=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&c.datepicker._gotoToday(a.target);b=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey)c.datepicker._adjustDate(a.target,f?1:-1,"D");b=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&c.datepicker._adjustDate(a.target,a.ctrlKey?-c.datepicker._get(d,"stepBigMonths"):-c.datepicker._get(d,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,-7,"D");b=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||
a.metaKey)c.datepicker._adjustDate(a.target,f?-1:1,"D");b=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&c.datepicker._adjustDate(a.target,a.ctrlKey?+c.datepicker._get(d,"stepBigMonths"):+c.datepicker._get(d,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,7,"D");b=a.ctrlKey||a.metaKey;break;default:b=!1}else 36===a.keyCode&&a.ctrlKey?c.datepicker._showDatepicker(this):b=!1;b&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b,d;b=c.datepicker._getInst(a.target);
if(c.datepicker._get(b,"constrainInput"))return b=c.datepicker._possibleChars(c.datepicker._get(b,"dateFormat")),d=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">d||!b||-1<b.indexOf(d)},_doKeyUp:function(a){var b;a=c.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{if(b=c.datepicker.parseDate(c.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,c.datepicker._getFormatConfig(a)))c.datepicker._setDateFromField(a),c.datepicker._updateAlternate(a),
c.datepicker._updateDatepicker(a)}catch(d){}return!0},_showDatepicker:function(a){a=a.target||a;"input"!==a.nodeName.toLowerCase()&&(a=c("input",a.parentNode)[0]);if(!(c.datepicker._isDisabledDatepicker(a)||c.datepicker._lastInput===a)){var e,d,f,k;e=c.datepicker._getInst(a);c.datepicker._curInst&&c.datepicker._curInst!==e&&(c.datepicker._curInst.dpDiv.stop(!0,!0),e&&c.datepicker._datepickerShowing&&c.datepicker._hideDatepicker(c.datepicker._curInst.input[0]));d=(d=c.datepicker._get(e,"beforeShow"))?
d.apply(a,[a,e]):{};if(!1!==d&&(b(e.settings,d),e.lastVal=null,c.datepicker._lastInput=a,c.datepicker._setDateFromField(e),c.datepicker._inDialog&&(a.value=""),c.datepicker._pos||(c.datepicker._pos=c.datepicker._findPos(a),c.datepicker._pos[1]+=a.offsetHeight),f=!1,c(a).parents().each(function(){f|="fixed"===c(this).css("position");return!f}),d={left:c.datepicker._pos[0],top:c.datepicker._pos[1]},c.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
c.datepicker._updateDatepicker(e),d=c.datepicker._checkOffset(e,d,f),e.dpDiv.css({position:c.datepicker._inDialog&&c.blockUI?"static":f?"fixed":"absolute",display:"none",left:d.left+"px",top:d.top+"px"}),!e.inline)){d=c.datepicker._get(e,"showAnim");k=c.datepicker._get(e,"duration");e.dpDiv.zIndex(c(a).zIndex()+1);c.datepicker._datepickerShowing=!0;if(c.effects&&c.effects.effect[d])e.dpDiv.show(d,c.datepicker._get(e,"showOptions"),k);else e.dpDiv[d||"show"](d?k:null);c.datepicker._shouldFocusInput(e)&&
e.input.focus();c.datepicker._curInst=e}}},_updateDatepicker:function(a){this.maxRows=4;k=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var b,d=this._getNumberOfMonths(a),f=d[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");a.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===c.datepicker._curInst&&(c.datepicker._datepickerShowing&&c.datepicker._shouldFocusInput(a))&&a.input.focus();a.yearshtml&&(b=a.yearshtml,setTimeout(function(){b===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);b=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,
b,d){var f=a.dpDiv.outerWidth(),k=a.dpDiv.outerHeight(),m=a.input?a.input.outerWidth():0,l=a.input?a.input.outerHeight():0,t=document.documentElement.clientWidth+(d?0:c(document).scrollLeft()),v=document.documentElement.clientHeight+(d?0:c(document).scrollTop());b.left-=this._get(a,"isRTL")?f-m:0;b.left-=d&&b.left===a.input.offset().left?c(document).scrollLeft():0;b.top-=d&&b.top===a.input.offset().top+l?c(document).scrollTop():0;b.left-=Math.min(b.left,b.left+f>t&&t>f?Math.abs(b.left+f-t):0);b.top-=
Math.min(b.top,b.top+k>v&&v>k?Math.abs(k+l):0);return b},_findPos:function(a){for(var b=this._getInst(a),b=this._get(b,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||c.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];a=c(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b,d,f=this._curInst;if(f&&!(a&&f!==c.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(f,"showAnim");b=this._get(f,"duration");d=function(){c.datepicker._tidyDialog(f)};if(c.effects&&(c.effects.effect[a]||
c.effects[a]))f.dpDiv.hide(a,c.datepicker._get(f,"showOptions"),b,d);else f.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?b:null,d);a||d();this._datepickerShowing=!1;(a=this._get(f,"onClose"))&&a.apply(f.input?f.input[0]:null,[f.input?f.input.val():"",f]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),c.blockUI&&(c.unblockUI(),c("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(c.datepicker._curInst){a=c(a.target);var b=c.datepicker._getInst(a[0]);(a[0].id!==c.datepicker._mainDivId&&0===a.parents("#"+c.datepicker._mainDivId).length&&!a.hasClass(c.datepicker.markerClassName)&&!a.closest("."+c.datepicker._triggerClass).length&&c.datepicker._datepickerShowing&&(!c.datepicker._inDialog||!c.blockUI)||a.hasClass(c.datepicker.markerClassName)&&c.datepicker._curInst!==b)&&c.datepicker._hideDatepicker()}},_adjustDate:function(a,b,d){a=c(a);var f=
this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(f,b+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(a){var b=c(a),d=this._getInst(b[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(a=new Date,d.selectedDay=a.getDate(),d.drawMonth=d.selectedMonth=a.getMonth(),d.drawYear=d.selectedYear=a.getFullYear());this._notifyChange(d);
this._adjustDate(b)},_selectMonthYear:function(a,b,d){a=c(a);var f=this._getInst(a[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(f);this._adjustDate(a)},_selectDay:function(a,b,d,f){var k;k=c(a);!c(f).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(k[0])&&(k=this._getInst(k[0]),k.selectedDay=k.currentDay=c("a",f).html(),k.selectedMonth=k.currentMonth=b,k.selectedYear=k.currentYear=d,this._selectDate(a,
this._formatDate(k,k.currentDay,k.currentMonth,k.currentYear)))},_clearDate:function(a){a=c(a);this._selectDate(a,"")},_selectDate:function(a,b){var d;d=c(a);var f=this._getInst(d[0]);b=null!=b?b:this._formatDate(f);f.input&&f.input.val(b);this._updateAlternate(f);(d=this._get(f,"onSelect"))?d.apply(f.input?f.input[0]:null,[b,f]):f.input&&f.input.trigger("change");f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!==typeof f.input[0]&&f.input.focus(),this._lastInput=
null)},_updateAlternate:function(a){var b,d,f,k=this._get(a,"altField");k&&(b=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),f=this.formatDate(b,d,this._getFormatConfig(a)),c(k).each(function(){c(this).val(f)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(a,b,d){if(null==
a||null==b)throw"Invalid arguments";b="object"===typeof b?b.toString():b+"";if(""===b)return null;var f,k,m,l=0;k=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff;k="string"!==typeof k?k:(new Date).getFullYear()%100+parseInt(k,10);m=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort;var t=(d?d.dayNames:null)||this._defaults.dayNames,v=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,u=(d?d.monthNames:null)||this._defaults.monthNames,w=d=-1,z=-1,s=-1,K=!1,F,r=function(b){(b=
f+1<a.length&&a.charAt(f+1)===b)&&f++;return b},y=function(a){var c=r(a);a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&c?4:"o"===a?3:2)+"}");a=b.substring(l).match(a);if(!a)throw"Missing number at position "+l;l+=a[0].length;return parseInt(a[0],10)},I=function(a,d,f){var g=-1;a=c.map(r(a)?f:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});c.each(a,function(a,c){var d=c[1];if(b.substr(l,d.length).toLowerCase()===d.toLowerCase())return g=c[0],l+=d.length,!1});
if(-1!==g)return g+1;throw"Unknown name at position "+l;},L=function(){if(b.charAt(l)!==a.charAt(f))throw"Unexpected literal at position "+l;l++};for(f=0;f<a.length;f++)if(K)"'"===a.charAt(f)&&!r("'")?K=!1:L();else switch(a.charAt(f)){case "d":z=y("d");break;case "D":I("D",m,t);break;case "o":s=y("o");break;case "m":w=y("m");break;case "M":w=I("M",v,u);break;case "y":d=y("y");break;case "@":F=new Date(y("@"));d=F.getFullYear();w=F.getMonth()+1;z=F.getDate();break;case "!":F=new Date((y("!")-this._ticksTo1970)/
1E4);d=F.getFullYear();w=F.getMonth()+1;z=F.getDate();break;case "'":r("'")?L():K=!0;break;default:L()}if(l<b.length&&(m=b.substr(l),!/^\s+/.test(m)))throw"Extra/unparsed characters found in date: "+m;-1===d?d=(new Date).getFullYear():100>d&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=k?0:-100));if(-1<s){w=1;z=s;do{k=this._getDaysInMonth(d,w-1);if(z<=k)break;w++;z-=k}while(1)}F=this._daylightSavingAdjust(new Date(d,w-1,z));if(F.getFullYear()!==d||F.getMonth()+1!==w||F.getDate()!==
z)throw"Invalid date";return F},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,k=(c?c.dayNames:null)||this._defaults.dayNames,l=(c?c.monthNamesShort:null)||
this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var t=function(b){(b=d+1<a.length&&a.charAt(d+1)===b)&&d++;return b},v=function(a,b,c){b=""+b;if(t(a))for(;b.length<c;)b="0"+b;return b},u=function(a,b,c,e){return t(a)?e[b]:c[b]},w="",z=!1;if(b)for(d=0;d<a.length;d++)if(z)"'"===a.charAt(d)&&!t("'")?z=!1:w+=a.charAt(d);else switch(a.charAt(d)){case "d":w+=v("d",b.getDate(),2);break;case "D":w+=u("D",b.getDay(),f,k);break;case "o":w+=v("o",Math.round(((new Date(b.getFullYear(),
b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":w+=v("m",b.getMonth()+1,2);break;case "M":w+=u("M",b.getMonth(),l,c);break;case "y":w+=t("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":w+=b.getTime();break;case "!":w+=1E4*b.getTime()+this._ticksTo1970;break;case "'":t("'")?w+="'":z=!0;break;default:w+=a.charAt(d)}return w},_possibleChars:function(a){var b,c="",d=!1,f=function(c){(c=b+1<a.length&&a.charAt(b+1)===
c)&&b++;return c};for(b=0;b<a.length;b++)if(d)"'"===a.charAt(b)&&!f("'")?d=!1:c+=a.charAt(b);else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":f("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return a.settings[b]!==r?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,f=this._getDefaultDate(a),
k=f,l=this._getFormatConfig(a);try{k=this.parseDate(c,d,l)||f}catch(t){d=b?"":d}a.selectedDay=k.getDate();a.drawMonth=a.selectedMonth=k.getMonth();a.drawYear=a.selectedYear=k.getFullYear();a.currentDay=d?k.getDate():0;a.currentMonth=d?k.getMonth():0;a.currentYear=d?k.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,d){var f=function(a){var b=new Date;b.setDate(b.getDate()+
a);return b},k=function(b){try{return c.datepicker.parseDate(c.datepicker._get(a,"dateFormat"),b,c.datepicker._getFormatConfig(a))}catch(e){}for(var d=(b.toLowerCase().match(/^c/)?c.datepicker._getDate(a):null)||new Date,f=d.getFullYear(),g=d.getMonth(),d=d.getDate(),k=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,n=k.exec(b);n;){switch(n[2]||"d"){case "d":case "D":d+=parseInt(n[1],10);break;case "w":case "W":d+=7*parseInt(n[1],10);break;case "m":case "M":g+=parseInt(n[1],10);d=Math.min(d,c.datepicker._getDaysInMonth(f,
g));break;case "y":case "Y":f+=parseInt(n[1],10),d=Math.min(d,c.datepicker._getDaysInMonth(f,g))}n=k.exec(b)}return new Date(f,g,d)};if(b=(b=null==b||""===b?d:"string"===typeof b?k(b):"number"===typeof b?isNaN(b)?d:f(b):new Date(b.getTime()))&&"Invalid Date"===b.toString()?d:b)b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,
b,c){var d=!b,f=a.selectedMonth,k=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();(f!==a.selectedMonth||k!==a.selectedYear)&&!c&&this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay))},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),d="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){c(this).bind(this.getAttribute("data-event"),{prev:function(){c.datepicker._adjustDate(d,-b,"M")},next:function(){c.datepicker._adjustDate(d,+b,"M")},hide:function(){c.datepicker._hideDatepicker()},today:function(){c.datepicker._gotoToday(d)},selectDay:function(){c.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this);return!1},selectMonth:function(){c.datepicker._selectMonthYear(d,this,"M");return!1},selectYear:function(){c.datepicker._selectMonthYear(d,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,f,k,l,t,v,u,w,z,s,r,F,H,y,I,L,J,x,S,C,B,N,D,la,U,Y=new Date,Y=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),M=this._get(a,"isRTL");l=this._get(a,"showButtonPanel");d=this._get(a,"hideIfNoPrevNext");k=this._get(a,"navigationAsDateFormat");
var O=this._getNumberOfMonths(a),Q=this._get(a,"showCurrentAtPos");f=this._get(a,"stepMonths");var W=1!==O[0]||1!==O[1],P=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),ha=this._getMinMaxDate(a,"min"),oa=this._getMinMaxDate(a,"max"),Q=a.drawMonth-Q,wa=a.drawYear;0>Q&&(Q+=12,wa--);if(oa){b=this._daylightSavingAdjust(new Date(oa.getFullYear(),oa.getMonth()-O[0]*O[1]+1,oa.getDate()));for(b=ha&&b<ha?ha:b;this._daylightSavingAdjust(new Date(wa,
Q,1))>b;)Q--,0>Q&&(Q=11,wa--)}a.drawMonth=Q;a.drawYear=wa;b=this._get(a,"prevText");b=!k?b:this.formatDate(b,this._daylightSavingAdjust(new Date(wa,Q-f,1)),this._getFormatConfig(a));b=this._canAdjustMonth(a,-1,wa,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"e":"w")+"'>"+b+"</span></a>":d?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+
(M?"e":"w")+"'>"+b+"</span></a>";c=this._get(a,"nextText");c=!k?c:this.formatDate(c,this._daylightSavingAdjust(new Date(wa,Q+f,1)),this._getFormatConfig(a));d=this._canAdjustMonth(a,1,wa,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"w":"e")+"'>"+c+"</span></a>":d?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(M?"w":
"e")+"'>"+c+"</span></a>";f=this._get(a,"currentText");c=this._get(a,"gotoCurrent")&&a.currentDay?P:Y;f=!k?f:this.formatDate(f,c,this._getFormatConfig(a));k=!a.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>":"";l=l?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(M?k:"")+(this._isInRange(a,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
f+"</button>":"")+(M?"":k)+"</div>":"";k=parseInt(this._get(a,"firstDay"),10);k=isNaN(k)?0:k;f=this._get(a,"showWeek");c=this._get(a,"dayNames");t=this._get(a,"dayNamesMin");v=this._get(a,"monthNames");u=this._get(a,"monthNamesShort");w=this._get(a,"beforeShowDay");z=this._get(a,"showOtherMonths");s=this._get(a,"selectOtherMonths");r=this._getDefaultDate(a);F="";H;for(y=0;y<O[0];y++){I="";this.maxRows=4;for(L=0;L<O[1];L++){J=this._daylightSavingAdjust(new Date(wa,Q,a.selectedDay));H=" ui-corner-all";
x="";if(W){x+="<div class='ui-datepicker-group";if(1<O[1])switch(L){case 0:x+=" ui-datepicker-group-first";H=" ui-corner-"+(M?"right":"left");break;case O[1]-1:x+=" ui-datepicker-group-last";H=" ui-corner-"+(M?"left":"right");break;default:x+=" ui-datepicker-group-middle",H=""}x+="'>"}x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+H+"'>"+(/all|left/.test(H)&&0===y?M?d:b:"")+(/all|right/.test(H)&&0===y?M?b:d:"")+this._generateMonthYearHeader(a,Q,wa,ha,oa,0<y||0<L,v,u)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
S=f?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(H=0;7>H;H++)C=(H+k)%7,S+="<th"+(5<=(H+k+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+c[C]+"'>"+t[C]+"</span></th>";x+=S+"</tr></thead><tbody>";S=this._getDaysInMonth(wa,Q);wa===a.selectedYear&&Q===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,S));H=(this._getFirstDayOfMonth(wa,Q)-k+7)%7;S=Math.ceil((H+S)/7);this.maxRows=S=W?this.maxRows>S?this.maxRows:S:S;C=this._daylightSavingAdjust(new Date(wa,
Q,1-H));for(B=0;B<S;B++){x+="<tr>";N=!f?"":"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(C)+"</td>";for(H=0;7>H;H++)D=w?w.apply(a.input?a.input[0]:null,[C]):[!0,""],U=(la=C.getMonth()!==Q)&&!s||!D[0]||ha&&C<ha||oa&&C>oa,N+="<td class='"+(5<=(H+k+6)%7?" ui-datepicker-week-end":"")+(la?" ui-datepicker-other-month":"")+(C.getTime()===J.getTime()&&Q===a.selectedMonth&&a._keyEvent||r.getTime()===C.getTime()&&r.getTime()===J.getTime()?" "+this._dayOverClass:"")+(U?" "+this._unselectableClass+
" ui-state-disabled":"")+(la&&!z?"":" "+D[1]+(C.getTime()===P.getTime()?" "+this._currentClass:"")+(C.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+((!la||z)&&D[2]?" title='"+D[2].replace(/'/g,"&#39;")+"'":"")+(U?"":" data-handler='selectDay' data-event='click' data-month='"+C.getMonth()+"' data-year='"+C.getFullYear()+"'")+">"+(la&&!z?"&#xa0;":U?"<span class='ui-state-default'>"+C.getDate()+"</span>":"<a class='ui-state-default"+(C.getTime()===Y.getTime()?" ui-state-highlight":"")+(C.getTime()===
P.getTime()?" ui-state-active":"")+(la?" ui-priority-secondary":"")+"' href='#'>"+C.getDate()+"</a>")+"</td>",C.setDate(C.getDate()+1),C=this._daylightSavingAdjust(C);x+=N+"</tr>"}Q++;11<Q&&(Q=0,wa++);x+="</tbody></table>"+(W?"</div>"+(0<O[0]&&L===O[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");I+=x}F+=I}a._keyEvent=!1;return F+l},_generateMonthYearHeader:function(a,b,c,d,f,k,l,t){var v,u,w,r=this._get(a,"changeMonth"),s=this._get(a,"changeYear"),K=this._get(a,"showMonthAfterYear"),F=
"<div class='ui-datepicker-title'>",H="";if(k||!r)H+="<span class='ui-datepicker-month'>"+l[b]+"</span>";else{l=d&&d.getFullYear()===c;v=f&&f.getFullYear()===c;H+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(u=0;12>u;u++)if((!l||u>=d.getMonth())&&(!v||u<=f.getMonth()))H+="<option value='"+u+"'"+(u===b?" selected='selected'":"")+">"+t[u]+"</option>";H+="</select>"}K||(F+=H+(k||!r||!s?"&#xa0;":""));if(!a.yearshtml)if(a.yearshtml="",k||!s)F+="<span class='ui-datepicker-year'>"+
c+"</span>";else{t=this._get(a,"yearRange").split(":");w=(new Date).getFullYear();l=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?w+parseInt(a,10):parseInt(a,10);return isNaN(a)?w:a};b=l(t[0]);t=Math.max(b,l(t[1]||""));b=d?Math.max(b,d.getFullYear()):b;t=f?Math.min(t,f.getFullYear()):t;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=t;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":
"")+">"+b+"</option>";a.yearshtml+="</select>";F+=a.yearshtml;a.yearshtml=null}F+=this._get(a,"yearSuffix");K&&(F+=(k||!r||!s?"&#xa0;":"")+H);return F+"</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),f=a.drawMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,f))+("D"===c?b:0);d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,f,b)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();("M"===
c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),c=c&&b<c?c:b;return d&&c>d?d:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},
_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:f[0]*f[1]),1));0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c,d,f=this._getMinMaxDate(a,"min"),k=this._getMinMaxDate(a,"max"),l=null,t=null;if(c=
this._get(a,"yearRange"))c=c.split(":"),d=(new Date).getFullYear(),l=parseInt(c[0],10),t=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(l+=d),c[1].match(/[+\-].*/)&&(t+=d);return(!f||b.getTime()>=f.getTime())&&(!k||b.getTime()<=k.getTime())&&(!l||b.getFullYear()>=l)&&(!t||b.getFullYear()<=t)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,
"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"===typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});c.fn.datepicker=function(a){if(!this.length)return this;
c.datepicker.initialized||(c(document).mousedown(c.datepicker._checkExternalClick),c.datepicker.initialized=!0);0===c("#"+c.datepicker._mainDivId).length&&c("body").append(c.datepicker.dpDiv);var b=Array.prototype.slice.call(arguments,1);return"string"===typeof a&&("isDisabled"===a||"getDate"===a||"widget"===a)||"option"===a&&2===arguments.length&&"string"===typeof arguments[1]?c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,[this[0]].concat(b)):this.each(function(){"string"===typeof a?c.datepicker["_"+
a+"Datepicker"].apply(c.datepicker,[this].concat(b)):c.datepicker._attachDatepicker(this,a)})};c.datepicker=new f;c.datepicker.initialized=!1;c.datepicker.uuid=(new Date).getTime();c.datepicker.version="1.10.3"})(jQuery);
(function(c,r){var f={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},d={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};c.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var d=c(this).css(b).offset().top;
0>d&&c(this).css("top",b.top-d)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&c.fn.draggable&&this._makeDraggable();this.options.resizable&&c.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=
this.options.appendTo;return b&&(b.jquery||b.nodeType)?c(b):this.document.find(b||"body").eq(0)},_destroy:function(){var b,c=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);b=c.parent.children().eq(c.index);b.length&&b[0]!==this.element[0]?b.before(this.element):c.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:c.noop,enable:c.noop,close:function(b){var d=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||c(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var a=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
a&&!c&&this._trigger("focus",b);return a},open:function(){var b=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=c(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var b=this.element.find("[autofocus]");b.length||(b=this.element.find(":tabbable"));b.length||
(b=this.uiDialogButtonPane.find(":tabbable"));b.length||(b=this.uiDialogTitlebarClose.filter(":tabbable"));b.length||(b=this.uiDialog);b.eq(0).focus()},_keepFocus:function(b){function d(){var a=this.document[0].activeElement;this.uiDialog[0]===a||c.contains(this.uiDialog[0],a)||this._focusTabbable()}b.preventDefault();d.call(this);this._delay(d)},_createWrapper:function(){this.uiDialog=c("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,
role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===c.ui.keyCode.ESCAPE)b.preventDefault(),this.close(b);else if(b.keyCode===c.ui.keyCode.TAB){var d=this.uiDialog.find(":tabbable"),a=d.filter(":first"),d=d.filter(":last");if((b.target===d[0]||b.target===this.uiDialog[0])&&!b.shiftKey)a.focus(1),b.preventDefault();else if((b.target===a[0]||b.target===this.uiDialog[0])&&b.shiftKey)d.focus(1),
b.preventDefault()}},mousedown:function(b){this._moveToTop(b)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=c("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(b){c(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});
this.uiDialogTitlebarClose=c("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(b){b.preventDefault();this.close(b)}});b=c("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(b){this.options.title||b.html("&#160;");
b.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=c("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=c("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,d=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();c.isEmptyObject(d)||c.isArray(d)&&!d.length?this.uiDialog.removeClass("ui-dialog-buttons"):(c.each(d,function(a,
d){var f,k;d=c.isFunction(d)?{click:d,text:a}:d;d=c.extend({type:"button"},d);f=d.click;d.click=function(){f.apply(b.element[0],arguments)};k={icons:d.icons,text:d.showText};delete d.icons;delete d.showText;c("<button></button>",d).button(k).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var d=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(a,f){c(this).addClass("ui-dialog-dragging");d._blockFrames();d._trigger("dragStart",a,b(f))},drag:function(a,c){d._trigger("drag",a,b(c))},stop:function(e,f){a.position=[f.position.left-d.document.scrollLeft(),f.position.top-d.document.scrollTop()];c(this).removeClass("ui-dialog-dragging");d._unblockFrames();d._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var d=this,a=this.options,e=a.resizable,f=this.uiDialog.css("position"),e="string"===typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:e,start:function(a,e){c(this).addClass("ui-dialog-resizing");d._blockFrames();d._trigger("resizeStart",a,b(e))},resize:function(a,c){d._trigger("resize",
a,b(c))},stop:function(e,f){a.height=c(this).height();a.width=c(this).width();c(this).removeClass("ui-dialog-resizing");d._unblockFrames();d._trigger("resizeStop",e,b(f))}}).css("position",f)},_minHeight:function(){var b=this.options;return"auto"===b.height?b.minHeight:Math.min(b.minHeight,b.height)},_position:function(){var b=this.uiDialog.is(":visible");b||this.uiDialog.show();this.uiDialog.position(this.options.position);b||this.uiDialog.hide()},_setOptions:function(b){var k=this,a=!1,e={};c.each(b,
function(b,c){k._setOption(b,c);b in f&&(a=!0);b in d&&(e[b]=c)});a&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(b,c){var a,d=this.uiDialog;"dialogClass"===b&&d.removeClass(this.options.dialogClass).addClass(c);"disabled"!==b&&(this._super(b,c),"appendTo"===b&&this.uiDialog.appendTo(this._appendTo()),"buttons"===b&&this._createButtons(),"closeText"===b&&this.uiDialogTitlebarClose.button({label:""+c}),"draggable"===
b&&((a=d.is(":data(ui-draggable)"))&&!c&&d.draggable("destroy"),!a&&c&&this._makeDraggable()),"position"===b&&this._position(),"resizable"===b&&((a=d.is(":data(ui-resizable)"))&&!c&&d.resizable("destroy"),a&&"string"===typeof c&&d.resizable("option","handles",c),!a&&!1!==c&&this._makeResizable()),"title"===b&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var b,c,a,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});d.minWidth>
d.width&&(d.width=d.minWidth);b=this.uiDialog.css({height:"auto",width:d.width}).outerHeight();c=Math.max(0,d.minHeight-b);a="number"===typeof d.maxHeight?Math.max(0,d.maxHeight-b):"none";"auto"===d.height?this.element.css({minHeight:c,maxHeight:a,height:"auto"}):this.element.height(Math.max(0,d.height-b));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=
c(this);return c("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return c(b.target).closest(".ui-dialog").length?!0:!!c(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,d=this.widgetFullName;c.ui.dialog.overlayInstances||this._delay(function(){c.ui.dialog.overlayInstances&&
this.document.bind("focusin.dialog",function(a){b._allowInteraction(a)||(a.preventDefault(),c(".ui-dialog:visible:last .ui-dialog-content").data(d)._focusTabbable())})});this.overlay=c("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});c.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(c.ui.dialog.overlayInstances--,c.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),
this.overlay.remove(),this.overlay=null)}});c.ui.dialog.overlayInstances=0;!1!==c.uiBackCompat&&c.widget("ui.dialog",c.ui.dialog,{_position:function(){var b=this.options.position,d=[],a=[0,0],e;if(b){if("string"===typeof b||"object"===typeof b&&"0"in b)d=b.split?b.split(" "):[b[0],b[1]],1===d.length&&(d[1]=d[0]),c.each(["left","top"],function(b,c){+d[b]===d[b]&&(a[b]=d[b],d[b]=c)}),b={my:d[0]+(0>a[0]?a[0]:"+"+a[0])+" "+d[1]+(0>a[1]?a[1]:"+"+a[1]),at:d.join(" ")};b=c.extend({},c.ui.dialog.prototype.options.position,
b)}else b=c.ui.dialog.prototype.options.position;(e=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(b);e||this.uiDialog.hide()}})})(jQuery);
(function(c,r){var f=/up|down|vertical/,d=/up|left|vertical|horizontal/;c.effects.effect.blind=function(b,k){var a=c(this),e="position top bottom left right height width".split(" "),g=c.effects.setMode(a,b.mode||"hide"),n=b.direction||"up",p=f.test(n),m=p?"height":"width",l=p?"top":"left",n=d.test(n),t={},v="show"===g,u,w,r;a.parent().is(".ui-effects-wrapper")?c.effects.save(a.parent(),e):c.effects.save(a,e);a.show();u=c.effects.createWrapper(a).css({overflow:"hidden"});w=u[m]();r=parseFloat(u.css(l))||
0;t[m]=v?w:0;n||(a.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),t[l]=v?r:w+r);v&&(u.css(m,0),n||u.css(l,r+w));u.animate(t,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){"hide"===g&&a.hide();c.effects.restore(a,e);c.effects.removeWrapper(a);k()}})}})(jQuery);
(function(c,r){c.effects.effect.bounce=function(f,d){var b=c(this),k="position top bottom left right height width".split(" "),a=c.effects.setMode(b,f.mode||"effect"),e="hide"===a,g="show"===a,n=f.direction||"up",a=f.distance,p=f.times||5,m=2*p+(g||e?1:0),l=f.duration/m,t=f.easing,v="up"===n||"down"===n?"top":"left",n="up"===n||"left"===n,u,w,r=b.queue(),s=r.length;(g||e)&&k.push("opacity");c.effects.save(b,k);b.show();c.effects.createWrapper(b);a||(a=b["top"===v?"outerHeight":"outerWidth"]()/3);g&&
(w={opacity:1},w[v]=0,b.css("opacity",0).css(v,n?2*-a:2*a).animate(w,l,t));e&&(a/=Math.pow(2,p-1));w={};for(g=w[v]=0;g<p;g++)u={},u[v]=(n?"-=":"+=")+a,b.animate(u,l,t).animate(w,l,t),a=e?2*a:a/2;e&&(u={opacity:0},u[v]=(n?"-=":"+=")+a,b.animate(u,l,t));b.queue(function(){e&&b.hide();c.effects.restore(b,k);c.effects.removeWrapper(b);d()});1<s&&r.splice.apply(r,[1,0].concat(r.splice(s,m+1)));b.dequeue()}})(jQuery);
(function(c,r){c.effects.effect.clip=function(f,d){var b=c(this),k="position top bottom left right height width".split(" "),a="show"===c.effects.setMode(b,f.mode||"hide"),e="vertical"===(f.direction||"vertical"),g=e?"height":"width",e=e?"top":"left",n={},p,m;c.effects.save(b,k);b.show();p=c.effects.createWrapper(b).css({overflow:"hidden"});p="IMG"===b[0].tagName?p:b;m=p[g]();a&&(p.css(g,0),p.css(e,m/2));n[g]=a?m:0;n[e]=a?0:m/2;p.animate(n,{queue:!1,duration:f.duration,easing:f.easing,complete:function(){a||
b.hide();c.effects.restore(b,k);c.effects.removeWrapper(b);d()}})}})(jQuery);
(function(c,r){c.effects.effect.drop=function(f,d){var b=c(this),k="position top bottom left right opacity height width".split(" "),a=c.effects.setMode(b,f.mode||"hide"),e="show"===a,g=f.direction||"left",n="up"===g||"down"===g?"top":"left",g="up"===g||"left"===g?"pos":"neg",p={opacity:e?1:0},m;c.effects.save(b,k);b.show();c.effects.createWrapper(b);m=f.distance||b["top"===n?"outerHeight":"outerWidth"](!0)/2;e&&b.css("opacity",0).css(n,"pos"===g?-m:m);p[n]=(e?"pos"===g?"+=":"-=":"pos"===g?"-=":"+=")+
m;b.animate(p,{queue:!1,duration:f.duration,easing:f.easing,complete:function(){"hide"===a&&b.hide();c.effects.restore(b,k);c.effects.removeWrapper(b);d()}})}})(jQuery);
(function(c,r){c.effects.effect.explode=function(f,d){function b(){l.push(this);l.length===k*a&&(e.css({visibility:"visible"}),c(l).remove(),g||e.hide(),d())}var k=f.pieces?Math.round(Math.sqrt(f.pieces)):3,a=k,e=c(this),g="show"===c.effects.setMode(e,f.mode||"hide"),n=e.show().css("visibility","hidden").offset(),p=Math.ceil(e.outerWidth()/a),m=Math.ceil(e.outerHeight()/k),l=[],t,v,u,w,r,s;for(t=0;t<k;t++){w=n.top+t*m;s=t-(k-1)/2;for(v=0;v<a;v++)u=n.left+v*p,r=v-(a-1)/2,e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-v*p,top:-t*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:m,left:u+(g?r*p:0),top:w+(g?s*m:0),opacity:g?0:1}).animate({left:u+(g?0:r*p),top:w+(g?0:s*m),opacity:g?1:0},f.duration||500,f.easing,b)}}})(jQuery);(function(c,r){c.effects.effect.fade=function(f,d){var b=c(this),k=c.effects.setMode(b,f.mode||"toggle");b.animate({opacity:k},{queue:!1,duration:f.duration,easing:f.easing,complete:d})}})(jQuery);
(function(c,r){c.effects.effect.fold=function(f,d){var b=c(this),k="position top bottom left right height width".split(" "),a=c.effects.setMode(b,f.mode||"hide"),e="show"===a,g="hide"===a,a=f.size||15,n=/([0-9]+)%/.exec(a),p=!!f.horizFirst,m=e!==p,l=m?["width","height"]:["height","width"],t=f.duration/2,v,u={},w={};c.effects.save(b,k);b.show();v=c.effects.createWrapper(b).css({overflow:"hidden"});m=m?[v.width(),v.height()]:[v.height(),v.width()];n&&(a=parseInt(n[1],10)/100*m[g?0:1]);e&&v.css(p?{height:0,
width:a}:{height:a,width:0});u[l[0]]=e?m[0]:a;w[l[1]]=e?m[1]:0;v.animate(u,t,f.easing).animate(w,t,f.easing,function(){g&&b.hide();c.effects.restore(b,k);c.effects.removeWrapper(b);d()})}})(jQuery);
(function(c,r){c.effects.effect.highlight=function(f,d){var b=c(this),k=["backgroundImage","backgroundColor","opacity"],a=c.effects.setMode(b,f.mode||"show"),e={backgroundColor:b.css("backgroundColor")};"hide"===a&&(e.opacity=0);c.effects.save(b,k);b.show().css({backgroundImage:"none",backgroundColor:f.color||"#ffff99"}).animate(e,{queue:!1,duration:f.duration,easing:f.easing,complete:function(){"hide"===a&&b.hide();c.effects.restore(b,k);d()}})}})(jQuery);
(function(c,r){c.effects.effect.pulsate=function(f,d){var b=c(this),k=c.effects.setMode(b,f.mode||"show"),a="show"===k,e="hide"===k,k=2*(f.times||5)+(a||"hide"===k?1:0),g=f.duration/k,n=0,p=b.queue(),m=p.length;if(a||!b.is(":visible"))b.css("opacity",0).show(),n=1;for(a=1;a<k;a++)b.animate({opacity:n},g,f.easing),n=1-n;b.animate({opacity:n},g,f.easing);b.queue(function(){e&&b.hide();d()});1<m&&p.splice.apply(p,[1,0].concat(p.splice(m,k+1)));b.dequeue()}})(jQuery);
(function(c,r){c.effects.effect.puff=function(f,d){var b=c(this),k=c.effects.setMode(b,f.mode||"hide"),a="hide"===k,e=parseInt(f.percent,10)||150,g=e/100,n={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};c.extend(f,{effect:"scale",queue:!1,fade:!0,mode:k,complete:d,percent:a?e:100,from:a?n:{height:n.height*g,width:n.width*g,outerHeight:n.outerHeight*g,outerWidth:n.outerWidth*g}});b.effect(f)};c.effects.effect.scale=function(f,d){var b=c(this),k=c.extend(!0,
{},f),a=c.effects.setMode(b,f.mode||"effect"),e=parseInt(f.percent,10)||(0===parseInt(f.percent,10)?0:"hide"===a?0:100),g=f.direction||"both",n=f.origin,p={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()},m="horizontal"!==g?e/100:1,e="vertical"!==g?e/100:1;k.effect="size";k.queue=!1;k.complete=d;"effect"!==a&&(k.origin=n||["middle","center"],k.restore=!0);k.from=f.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:p);k.to={height:p.height*m,width:p.width*
e,outerHeight:p.outerHeight*m,outerWidth:p.outerWidth*e};k.fade&&("show"===a&&(k.from.opacity=0,k.to.opacity=1),"hide"===a&&(k.from.opacity=1,k.to.opacity=0));b.effect(k)};c.effects.effect.size=function(f,d){var b,k,a,e,g,n,p=c(this),m="position top bottom left right width height overflow opacity".split(" ");g="position top bottom left right overflow opacity".split(" ");var l=["width","height","overflow"],t=["fontSize"],v=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],w=c.effects.setMode(p,f.mode||"effect"),r=f.restore||"effect"!==w,s=f.scale||"both";n=f.origin||["middle","center"];var K=p.css("position"),F=r?m:g,H={height:0,width:0,outerHeight:0,outerWidth:0};"show"===w&&p.show();g={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};"toggle"===f.mode&&"show"===w?(p.from=f.to||H,p.to=f.from||g):(p.from=f.from||("show"===w?H:g),p.to=f.to||("hide"===w?H:g));a=p.from.height/g.height;
e=p.from.width/g.width;b=p.to.height/g.height;k=p.to.width/g.width;if("box"===s||"both"===s)a!==b&&(F=F.concat(v),p.from=c.effects.setTransition(p,v,a,p.from),p.to=c.effects.setTransition(p,v,b,p.to)),e!==k&&(F=F.concat(u),p.from=c.effects.setTransition(p,u,e,p.from),p.to=c.effects.setTransition(p,u,k,p.to));if(("content"===s||"both"===s)&&a!==b)F=F.concat(t).concat(l),p.from=c.effects.setTransition(p,t,a,p.from),p.to=c.effects.setTransition(p,t,b,p.to);c.effects.save(p,F);p.show();c.effects.createWrapper(p);
p.css("overflow","hidden").css(p.from);n&&(n=c.effects.getBaseline(n,g),p.from.top=(g.outerHeight-p.outerHeight())*n.y,p.from.left=(g.outerWidth-p.outerWidth())*n.x,p.to.top=(g.outerHeight-p.to.outerHeight)*n.y,p.to.left=(g.outerWidth-p.to.outerWidth)*n.x);p.css(p.from);if("content"===s||"both"===s)v=v.concat(["marginTop","marginBottom"]).concat(t),u=u.concat(["marginLeft","marginRight"]),l=m.concat(v).concat(u),p.find("*[width]").each(function(){var d=c(this),g=d.height(),m=d.width(),n=d.outerHeight(),
p=d.outerWidth();r&&c.effects.save(d,l);d.from={height:g*a,width:m*e,outerHeight:n*a,outerWidth:p*e};d.to={height:g*b,width:m*k,outerHeight:g*b,outerWidth:m*k};a!==b&&(d.from=c.effects.setTransition(d,v,a,d.from),d.to=c.effects.setTransition(d,v,b,d.to));e!==k&&(d.from=c.effects.setTransition(d,u,e,d.from),d.to=c.effects.setTransition(d,u,k,d.to));d.css(d.from);d.animate(d.to,f.duration,f.easing,function(){r&&c.effects.restore(d,l)})});p.animate(p.to,{queue:!1,duration:f.duration,easing:f.easing,
complete:function(){0===p.to.opacity&&p.css("opacity",p.from.opacity);"hide"===w&&p.hide();c.effects.restore(p,F);r||("static"===K?p.css({position:"relative",top:p.to.top,left:p.to.left}):c.each(["top","left"],function(a,b){p.css(b,function(b,c){var d=parseInt(c,10),e=a?p.to.left:p.to.top;return"auto"===c?e+"px":d+e+"px"})}));c.effects.removeWrapper(p);d()}})}})(jQuery);
(function(c,r){c.effects.effect.shake=function(f,d){var b=c(this),k="position top bottom left right height width".split(" "),a=c.effects.setMode(b,f.mode||"effect"),e=f.direction||"left",g=f.distance||20,n=f.times||3,p=2*n+1,m=Math.round(f.duration/p),l="up"===e||"down"===e?"top":"left",t="up"===e||"left"===e,e={},v={},u={},w=b.queue(),r=w.length;c.effects.save(b,k);b.show();c.effects.createWrapper(b);e[l]=(t?"-=":"+=")+g;v[l]=(t?"+=":"-=")+2*g;u[l]=(t?"-=":"+=")+2*g;b.animate(e,m,f.easing);for(g=
1;g<n;g++)b.animate(v,m,f.easing).animate(u,m,f.easing);b.animate(v,m,f.easing).animate(e,m/2,f.easing).queue(function(){"hide"===a&&b.hide();c.effects.restore(b,k);c.effects.removeWrapper(b);d()});1<r&&w.splice.apply(w,[1,0].concat(w.splice(r,p+1)));b.dequeue()}})(jQuery);
(function(c,r){c.effects.effect.slide=function(f,d){var b=c(this),k="position top bottom left right width height".split(" "),a=c.effects.setMode(b,f.mode||"show"),e="show"===a,g=f.direction||"left",n="up"===g||"down"===g?"top":"left",g="up"===g||"left"===g,p,m={};c.effects.save(b,k);b.show();p=f.distance||b["top"===n?"outerHeight":"outerWidth"](!0);c.effects.createWrapper(b).css({overflow:"hidden"});e&&b.css(n,g?isNaN(p)?"-"+p:-p:p);m[n]=(e?g?"+=":"-=":g?"-=":"+=")+p;b.animate(m,{queue:!1,duration:f.duration,
easing:f.easing,complete:function(){"hide"===a&&b.hide();c.effects.restore(b,k);c.effects.removeWrapper(b);d()}})}})(jQuery);
(function(c,r){c.effects.effect.transfer=function(f,d){var b=c(this),k=c(f.to),a="fixed"===k.css("position"),e=c("body"),g=a?e.scrollTop():0,e=a?e.scrollLeft():0,n=k.offset(),k={top:n.top-g,left:n.left-e,height:k.innerHeight(),width:k.innerWidth()},n=b.offset(),p=c("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(f.className).css({top:n.top-g,left:n.left-e,height:b.innerHeight(),width:b.innerWidth(),position:a?"fixed":"absolute"}).animate(k,f.duration,f.easing,function(){p.remove();
d()})}})(jQuery);
(function(c,r){c.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
c.proxy(function(c){this.options.disabled&&c.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(c){c.preventDefault()},"click .ui-state-disabled > a":function(c){c.preventDefault()},"click .ui-menu-item:has(a)":function(f){var d=c(f.target).closest(".ui-menu-item");!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(f),d.has(".ui-menu").length?
this.expand(f):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(f){var d=c(f.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(f,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,d){var b=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(c,b)},blur:function(f){this._delay(function(){c.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(f)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(f){c(f.target).closest(".ui-menu").length||this.collapseAll(f);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var f=c(this);f.data("ui-menu-submenu-carat")&&f.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(f){function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var b,k,a,e,g=!0;switch(f.keyCode){case c.ui.keyCode.PAGE_UP:this.previousPage(f);break;case c.ui.keyCode.PAGE_DOWN:this.nextPage(f);break;case c.ui.keyCode.HOME:this._move("first","first",f);break;case c.ui.keyCode.END:this._move("last","last",f);break;case c.ui.keyCode.UP:this.previous(f);break;case c.ui.keyCode.DOWN:this.next(f);break;case c.ui.keyCode.LEFT:this.collapse(f);break;case c.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(f);break;case c.ui.keyCode.ENTER:case c.ui.keyCode.SPACE:this._activate(f);
break;case c.ui.keyCode.ESCAPE:this.collapse(f);break;default:g=!1,b=this.previousFilter||"",k=String.fromCharCode(f.keyCode),a=!1,clearTimeout(this.filterTimer),k===b?a=!0:k=b+k,e=RegExp("^"+d(k),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return e.test(c(this).children("a").text())}),b=a&&-1!==b.index(this.active.next())?this.active.nextAll(".ui-menu-item"):b,b.length||(k=String.fromCharCode(f.keyCode),e=RegExp("^"+d(k),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return e.test(c(this).children("a").text())})),
b.length?(this.focus(f,b),1<b.length?(this.previousFilter=k,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}g&&f.preventDefault()},_activate:function(c){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(c):this.select(c))},refresh:function(){var f,d=this.options.icons.submenu;f=this.element.find(this.options.menus);f.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=c(this),f=b.prev("a"),a=c("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(a);b.attr("aria-labelledby",f.attr("id"))});f=f.add(this.element);f.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});f.children(":not(.ui-menu-item)").each(function(){var b=
c(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});f.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!c.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,d){"icons"===c&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(d.submenu);this._super(c,d)},focus:function(c,d){var b;this.blur(c,c&&
"focus"===c.type);this._scrollIntoView(d);this.active=d.first();b=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",b.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);b=d.children(".ui-menu");b.length&&/^mouse/.test(c.type)&&this._startOpening(b);this.activeMenu=d.parent();this._trigger("focus",
c,{item:d})},_scrollIntoView:function(f){var d,b,k;this._hasScroll()&&(d=parseFloat(c.css(this.activeMenu[0],"borderTopWidth"))||0,b=parseFloat(c.css(this.activeMenu[0],"paddingTop"))||0,d=f.offset().top-this.activeMenu.offset().top-d-b,b=this.activeMenu.scrollTop(),k=this.activeMenu.height(),f=f.height(),0>d?this.activeMenu.scrollTop(b+d):d+f>k&&this.activeMenu.scrollTop(b+d-k+f))},blur:function(c,d){d||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",c,{item:this.active}))},_startOpening:function(c){clearTimeout(this.timer);"true"===c.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(c)},this.delay))},_open:function(f){var d=c.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(f.parents(".ui-menu")).hide().attr("aria-hidden","true");f.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(f,
d){clearTimeout(this.timer);this.timer=this._delay(function(){var b=d?this.element:c(f&&f.target).closest(this.element.find(".ui-menu"));b.length||(b=this.element);this._close(b);this.blur(f);this.activeMenu=b},this.delay)},_close:function(c){c||(c=this.active?this.active.parent():this.element);c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(c){var d=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);d&&d.length&&(this._close(),this.focus(c,d))},expand:function(c){var d=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();d&&d.length&&(this._open(d.parent()),this._delay(function(){this.focus(c,d)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(c,d,b){var k;this.active&&(k="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0));if(!k||!k.length||!this.active)k=this.activeMenu.children(".ui-menu-item")[d]();this.focus(b,k)},nextPage:function(f){var d,b,k;this.active?this.isLastItem()||(this._hasScroll()?(b=this.active.offset().top,k=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){d=c(this);return 0>d.offset().top-b-
k}),this.focus(f,d)):this.focus(f,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())):this.next(f)},previousPage:function(f){var d,b,k;this.active?this.isFirstItem()||(this._hasScroll()?(b=this.active.offset().top,k=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){d=c(this);return 0<d.offset().top-b+k}),this.focus(f,d)):this.focus(f,this.activeMenu.children(".ui-menu-item").first())):this.next(f)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(f){this.active=this.active||c(f.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(f,!0);this._trigger("select",f,d)}})})(jQuery);
(function(c,r){function f(a,b,c){return[parseFloat(a[0])*(l.test(a[0])?b/100:1),parseFloat(a[1])*(l.test(a[1])?c/100:1)]}function d(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:c.isWindow(b)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}c.ui=c.ui||{};var b,k=Math.max,a=Math.abs,e=
Math.round,g=/left|center|right/,n=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,l=/%$/,t=c.fn.position;c.position={scrollbarWidth:function(){if(b!==r)return b;var a,d,e=c("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");d=e.children()[0];c("body").append(e);a=d.offsetWidth;e.css("overflow","scroll");d=d.offsetWidth;a===d&&(d=e[0].clientWidth);e.remove();return b=a-d},getScrollInfo:function(a){var b=a.isWindow?"":a.element.css("overflow-x"),
d=a.isWindow?"":a.element.css("overflow-y"),b="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth;return{width:"scroll"===d||"auto"===d&&a.height<a.element[0].scrollHeight?c.position.scrollbarWidth():0,height:b?c.position.scrollbarWidth():0}},getWithinInfo:function(a){a=c(a||window);var b=c.isWindow(a[0]);return{element:a,isWindow:b,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:b?a.width():a.outerWidth(),height:b?a.height():a.outerHeight()}}};c.fn.position=
function(b){if(!b||!b.of)return t.apply(this,arguments);b=c.extend({},b);var l,w,r,s,K,F,H=c(b.of),y=c.position.getWithinInfo(b.within),I=c.position.getScrollInfo(y),L=(b.collision||"flip").split(" "),J={};F=d(H);H[0].preventDefault&&(b.at="left top");w=F.width;r=F.height;s=F.offset;K=c.extend({},s);c.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,d;1===a.length&&(a=g.test(a[0])?a.concat(["center"]):n.test(a[0])?["center"].concat(a):["center","center"]);a[0]=g.test(a[0])?a[0]:"center";
a[1]=n.test(a[1])?a[1]:"center";c=p.exec(a[0]);d=p.exec(a[1]);J[this]=[c?c[0]:0,d?d[0]:0];b[this]=[m.exec(a[0])[0],m.exec(a[1])[0]]});1===L.length&&(L[1]=L[0]);"right"===b.at[0]?K.left+=w:"center"===b.at[0]&&(K.left+=w/2);"bottom"===b.at[1]?K.top+=r:"center"===b.at[1]&&(K.top+=r/2);l=f(J.at,w,r);K.left+=l[0];K.top+=l[1];return this.each(function(){var d,g,m=c(this),n=m.outerWidth(),p=m.outerHeight(),t=parseInt(c.css(this,"marginLeft"),10)||0,F=parseInt(c.css(this,"marginTop"),10)||0,U=n+t+(parseInt(c.css(this,
"marginRight"),10)||0)+I.width,Y=p+F+(parseInt(c.css(this,"marginBottom"),10)||0)+I.height,M=c.extend({},K),O=f(J.my,m.outerWidth(),m.outerHeight());"right"===b.my[0]?M.left-=n:"center"===b.my[0]&&(M.left-=n/2);"bottom"===b.my[1]?M.top-=p:"center"===b.my[1]&&(M.top-=p/2);M.left+=O[0];M.top+=O[1];c.support.offsetFractions||(M.left=e(M.left),M.top=e(M.top));d={marginLeft:t,marginTop:F};c.each(["left","top"],function(a,e){if(c.ui.position[L[a]])c.ui.position[L[a]][e](M,{targetWidth:w,targetHeight:r,
elemWidth:n,elemHeight:p,collisionPosition:d,collisionWidth:U,collisionHeight:Y,offset:[l[0]+O[0],l[1]+O[1]],my:b.my,at:b.at,within:y,elem:m})});b.using&&(g=function(c){var d=s.left-M.left,e=d+w-n,f=s.top-M.top,g=f+r-p,l={target:{element:H,left:s.left,top:s.top,width:w,height:r},element:{element:m,left:M.left,top:M.top,width:n,height:p},horizontal:0>e?"left":0<d?"right":"center",vertical:0>g?"top":0<f?"bottom":"middle"};w<n&&a(d+e)<w&&(l.horizontal="center");r<p&&a(f+g)<r&&(l.vertical="middle");k(a(d),
a(e))>k(a(f),a(g))?l.important="horizontal":l.important="vertical";b.using.call(this,c,l)});m.offset(c.extend(M,{using:g}))})};c.ui.position={fit:{left:function(a,b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,e=c.width,f=a.left-b.collisionPosition.marginLeft,c=d-f,g=f+b.collisionWidth-e-d;b.collisionWidth>e?0<c&&0>=g?(d=a.left+c+b.collisionWidth-e-d,a.left+=c-d):a.left=0<g&&0>=c?d:c>g?d+e-b.collisionWidth:d:a.left=0<c?a.left+c:0<g?a.left-g:k(a.left-f,a.left)},top:function(a,b){var c=b.within,
d=c.isWindow?c.scrollTop:c.offset.top,e=b.within.height,f=a.top-b.collisionPosition.marginTop,c=d-f,g=f+b.collisionHeight-e-d;b.collisionHeight>e?0<c&&0>=g?(d=a.top+c+b.collisionHeight-e-d,a.top+=c-d):a.top=0<g&&0>=c?d:c>g?d+e-b.collisionHeight:d:a.top=0<c?a.top+c:0<g?a.top-g:k(a.top-f,a.top)}},flip:{left:function(b,c){var d=c.within,e=d.offset.left+d.scrollLeft,f=d.width,g=d.isWindow?d.scrollLeft:d.offset.left,l=b.left-c.collisionPosition.marginLeft,d=l-g,k=l+c.collisionWidth-f-g,l="left"===c.my[0]?
-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,m="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,n=-2*c.offset[0];if(0>d){if(e=b.left+l+m+n+c.collisionWidth-f-e,0>e||e<a(d))b.left+=l+m+n}else if(0<k&&(e=b.left-c.collisionPosition.marginLeft+l+m+n-g,0<e||a(e)<k))b.left+=l+m+n},top:function(b,c){var d=c.within,e=d.offset.top+d.scrollTop,f=d.height,g=d.isWindow?d.scrollTop:d.offset.top,l=b.top-c.collisionPosition.marginTop,d=l-g,k=l+c.collisionHeight-f-g,l="top"===c.my[1]?-c.elemHeight:
"bottom"===c.my[1]?c.elemHeight:0,m="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,n=-2*c.offset[1];if(0>d){if(e=b.top+l+m+n+c.collisionHeight-f-e,b.top+l+m+n>d&&(0>e||e<a(d)))b.top+=l+m+n}else if(0<k&&(e=b.top-c.collisionPosition.marginTop+l+m+n-g,b.top+l+m+n>k&&(0<e||a(e)<k)))b.top+=l+m+n}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments);c.ui.position.fit.left.apply(this,arguments)},top:function(){c.ui.position.flip.top.apply(this,arguments);c.ui.position.fit.top.apply(this,
arguments)}}};(function(){var a,b,d,e,f=document.getElementsByTagName("body")[0];d=document.createElement("div");a=document.createElement(f?"div":"body");b={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};f&&c.extend(b,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in b)a.style[e]=b[e];a.appendChild(d);b=f||document.documentElement;b.insertBefore(a,b.firstChild);d.style.cssText="position: absolute; left: 10.7432222px;";d=c(d).offset().left;c.support.offsetFractions=
10<d&&11>d;a.innerHTML="";b.removeChild(a)})()})(jQuery);
(function(c,r){c.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=c("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(c){if(c===r)return this.options.value;this.options.value=this._constrainedValue(c);this._refreshValue()},_constrainedValue:function(c){c===r&&(c=this.options.value);this.indeterminate=!1===c;"number"!==typeof c&&(c=0);return this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,c))},_setOptions:function(c){var d=c.value;delete c.value;this._super(c);this.options.value=this._constrainedValue(d);this._refreshValue()},_setOption:function(c,d){"max"===
c&&(d=Math.max(this.min,d));this._super(c,d)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var f=this.options.value,d=this._percentage();this.valueDiv.toggle(this.indeterminate||f>this.min).toggleClass("ui-corner-right",f===this.options.max).width(d.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=c("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":f}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==f&&(this.oldValue=f,this._trigger("change"));f===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(c,r){c.widget("ui.slider",c.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var f,d;f=this.options;var b=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),k=[];d=f.values&&f.values.length||1;b.length>d&&(b.slice(d).remove(),b=b.slice(0,d));for(f=b.length;f<d;f++)k.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=b.add(c(k.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(a){c(this).data("ui-slider-handle-index",a)})},_createRange:function(){var f=this.options,d="";f.range?(!0===f.range&&(f.values?f.values.length&&2!==f.values.length?f.values=[f.values[0],f.values[0]]:c.isArray(f.values)&&(f.values=f.values.slice(0)):f.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=c("<div></div>").appendTo(this.element),d="ui-slider-range ui-widget-header ui-corner-all"):
this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}),this.range.addClass(d+("min"===f.range||"max"===f.range?" ui-slider-range-"+f.range:""))):this.range=c([])},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c);this._on(c,this._handleEvents);this._hoverable(c);this._focusable(c)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(f){var d,b,k,a,e,g=this,n=this.options;if(n.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();d=this._normValueFromMouse({x:f.pageX,y:f.pageY});b=this._valueMax()-this._valueMin()+1;this.handles.each(function(e){var f=Math.abs(d-g.values(e));if(b>f||b===f&&(e===g._lastChangedValue||g.values(e)===n.min))b=f,k=c(this),a=e});if(!1===this._start(f,a))return!1;this._mouseSliding=
!0;this._handleIndex=a;k.addClass("ui-state-active").focus();e=k.offset();this._clickOffset=!c(f.target).parents().addBack().is(".ui-slider-handle")?{left:0,top:0}:{left:f.pageX-e.left-k.width()/2,top:f.pageY-e.top-k.height()/2-(parseInt(k.css("borderTopWidth"),10)||0)-(parseInt(k.css("borderBottomWidth"),10)||0)+(parseInt(k.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(f,a,d);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(c){var d=
this._normValueFromMouse({x:c.pageX,y:c.pageY});this._slide(c,this._handleIndex,d);return!1},_mouseStop:function(c){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(c,this._handleIndex);this._change(c,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(c){var d;"horizontal"===this.orientation?(d=this.elementSize.width,
c=c.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(d=this.elementSize.height,c=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));d=c/d;1<d&&(d=1);0>d&&(d=0);"vertical"===this.orientation&&(d=1-d);c=this._valueMax()-this._valueMin();d=this._valueMin()+d*c;return this._trimAlignValue(d)},_start:function(c,d){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());
return this._trigger("start",c,b)},_slide:function(c,d,b){var k;if(this.options.values&&this.options.values.length){k=this.values(d?0:1);if(2===this.options.values.length&&!0===this.options.range&&(0===d&&b>k||1===d&&b<k))b=k;b!==this.values(d)&&(k=this.values(),k[d]=b,c=this._trigger("slide",c,{handle:this.handles[d],value:b,values:k}),this.values(d?0:1),!1!==c&&this.values(d,b,!0))}else b!==this.value()&&(c=this._trigger("slide",c,{handle:this.handles[d],value:b}),!1!==c&&this.value(b))},_stop:function(c,
d){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());this._trigger("stop",c,b)},_change:function(c,d){if(!this._keySliding&&!this._mouseSliding){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());this._lastChangedValue=d;this._trigger("change",c,b)}},value:function(c){if(arguments.length)this.options.value=
this._trimAlignValue(c),this._refreshValue(),this._change(null,0);else return this._value()},values:function(f,d){var b,k,a;if(1<arguments.length)this.options.values[f]=this._trimAlignValue(d),this._refreshValue(),this._change(null,f);else if(arguments.length)if(c.isArray(arguments[0])){b=this.options.values;k=arguments[0];for(a=0;a<b.length;a+=1)b[a]=this._trimAlignValue(k[a]),this._change(null,a);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(f):this.value();
else return this._values()},_setOption:function(f,d){var b,k=0;"range"===f&&!0===this.options.range&&("min"===d?(this.options.value=this._values(0),this.options.values=null):"max"===d&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));c.isArray(this.options.values)&&(k=this.options.values.length);c.Widget.prototype._setOption.apply(this,arguments);switch(f){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=0;b<k;b+=1)this._change(null,b);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},
_values:function(c){var d,b;if(arguments.length)return d=this.options.values[c],d=this._trimAlignValue(d);if(this.options.values&&this.options.values.length){d=this.options.values.slice();for(b=0;b<d.length;b+=1)d[b]=this._trimAlignValue(d[b]);return d}return[]},_trimAlignValue:function(c){if(c<=this._valueMin())return this._valueMin();if(c>=this._valueMax())return this._valueMax();var d=0<this.options.step?this.options.step:1,b=(c-this._valueMin())%d;c-=b;2*Math.abs(b)>=d&&(c+=0<b?d:-d);return parseFloat(c.toFixed(5))},
_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var f,d,b,k,a,e=this.options.range,g=this.options,n=this,p=!this._animateOff?g.animate:!1,m={};if(this.options.values&&this.options.values.length)this.handles.each(function(a){d=100*((n.values(a)-n._valueMin())/(n._valueMax()-n._valueMin()));m["horizontal"===n.orientation?"left":"bottom"]=d+"%";c(this).stop(1,1)[p?"animate":"css"](m,g.animate);if(!0===n.options.range)if("horizontal"===
n.orientation){if(0===a)n.range.stop(1,1)[p?"animate":"css"]({left:d+"%"},g.animate);if(1===a)n.range[p?"animate":"css"]({width:d-f+"%"},{queue:!1,duration:g.animate})}else{if(0===a)n.range.stop(1,1)[p?"animate":"css"]({bottom:d+"%"},g.animate);if(1===a)n.range[p?"animate":"css"]({height:d-f+"%"},{queue:!1,duration:g.animate})}f=d});else{b=this.value();k=this._valueMin();a=this._valueMax();d=a!==k?100*((b-k)/(a-k)):0;m["horizontal"===this.orientation?"left":"bottom"]=d+"%";this.handle.stop(1,1)[p?
"animate":"css"](m,g.animate);if("min"===e&&"horizontal"===this.orientation)this.range.stop(1,1)[p?"animate":"css"]({width:d+"%"},g.animate);if("max"===e&&"horizontal"===this.orientation)this.range[p?"animate":"css"]({width:100-d+"%"},{queue:!1,duration:g.animate});if("min"===e&&"vertical"===this.orientation)this.range.stop(1,1)[p?"animate":"css"]({height:d+"%"},g.animate);if("max"===e&&"vertical"===this.orientation)this.range[p?"animate":"css"]({height:100-d+"%"},{queue:!1,duration:g.animate})}},
_handleEvents:{keydown:function(f){var d,b,k,a=c(f.target).data("ui-slider-handle-index");switch(f.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(f.preventDefault(),!this._keySliding&&(this._keySliding=!0,c(f.target).addClass("ui-state-active"),d=this._start(f,a),!1===d))return}k=this.options.step;d=this.options.values&&this.options.values.length?
b=this.values(a):b=this.value();switch(f.keyCode){case c.ui.keyCode.HOME:b=this._valueMin();break;case c.ui.keyCode.END:b=this._valueMax();break;case c.ui.keyCode.PAGE_UP:b=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/5);break;case c.ui.keyCode.PAGE_DOWN:b=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/5);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(d===this._valueMax())return;b=this._trimAlignValue(d+k);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(d===
this._valueMin())return;b=this._trimAlignValue(d-k)}this._slide(f,a,b)},click:function(c){c.preventDefault()},keyup:function(f){var d=c(f.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(f,d),this._change(f,d),c(f.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(c){function r(c){return function(){var d=this.element.val();c.apply(this,arguments);this._refresh();d!==this.element.val()&&this._trigger("change")}}c.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var f={},d=this.element;c.each(["min","max","step"],function(b,c){var a=d.attr(c);void 0!==a&&a.length&&(f[c]=a)});return f},_events:{keydown:function(c){this._start(c)&&this._keydown(c)&&c.preventDefault()},keyup:"_stop",
focus:function(){this.previous=this.element.val()},blur:function(c){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",c))},mousewheel:function(c,d){if(d){if(!this.spinning&&!this._start(c))return!1;this._spin((0<d?1:-1)*this.options.step,c);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(c)},100);c.preventDefault()}},"mousedown .ui-spinner-button":function(f){function d(){this.element[0]!==
this.document[0].activeElement&&(this.element.focus(),this.previous=b,this._delay(function(){this.previous=b}))}var b;b=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();f.preventDefault();d.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;d.call(this)});!1!==this._start(f)&&this._repeat(null,c(f.currentTarget).hasClass("ui-spinner-up")?1:-1,f)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(f){if(c(f.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(f))return!1;this._repeat(null,c(f.currentTarget).hasClass("ui-spinner-up")?1:-1,f)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(0.5*c.height())&&0<c.height()&&
c.height(c.height());this.options.disabled&&this.disable()},_keydown:function(f){var d=this.options,b=c.ui.keyCode;switch(f.keyCode){case b.UP:return this._repeat(null,1,f),!0;case b.DOWN:return this._repeat(null,-1,f),!0;case b.PAGE_UP:return this._repeat(null,d.page,f),!0;case b.PAGE_DOWN:return this._repeat(null,-d.page,f),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){if(!this.spinning&&!1===this._trigger("start",c))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(c,d,b){c=c||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,d,b)},c);this._spin(d*this.options.step,b)},_spin:function(c,d){var b=this.value()||0;this.counter||
(this.counter=1);b=this._adjustValue(b+c*this._increment(this.counter));if(!this.spinning||!1!==this._trigger("spin",d,{value:b}))this._value(b),this.counter++},_increment:function(f){var d=this.options.incremental;return d?c.isFunction(d)?d(f):Math.floor(f*f*f/5E4-f*f/500+17*f/200+1):1},_precision:function(){var c=this._precisionOf(this.options.step);null!==this.options.min&&(c=Math.max(c,this._precisionOf(this.options.min)));return c},_precisionOf:function(c){c=c.toString();var d=c.indexOf(".");
return-1===d?0:c.length-d-1},_adjustValue:function(c){var d,b=this.options;d=null!==b.min?b.min:0;c=Math.round((c-d)/b.step)*b.step;c=d+c;c=parseFloat(c.toFixed(this._precision()));return null!==b.max&&c>b.max?b.max:null!==b.min&&c<b.min?b.min:c},_stop:function(c){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",c))},_setOption:function(c,d){if("culture"===c||"numberFormat"===c){var b=this._parse(this.element.val());this.options[c]=
d;this.element.val(this._format(b))}else{if("max"===c||"min"===c||"step"===c)"string"===typeof d&&(d=this._parse(d));"icons"===c&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(d.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(d.down));this._super(c,d);"disabled"===c&&(d?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))}},_setOptions:r(function(c){this._super(c);
this._value(this.element.val())}),_parse:function(c){"string"===typeof c&&""!==c&&(c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c);return""===c||isNaN(c)?null:c},_format:function(c){return""===c?"":window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(c,d){var b;""!==c&&(b=this._parse(c),null!==b&&(d||(b=this._adjustValue(b)),c=this._format(b)));this.element.val(c);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:r(function(c){this._stepUp(c)}),_stepUp:function(c){this._start()&&(this._spin((c||1)*this.options.step),
this._stop())},stepDown:r(function(c){this._stepDown(c)}),_stepDown:function(c){this._start()&&(this._spin((c||1)*-this.options.step),this._stop())},pageUp:r(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:r(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length)return this._parse(this.element.val());r(this._value).call(this,c)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(c,r){function f(c){return 1<c.hash.length&&decodeURIComponent(c.href.replace(b,""))===decodeURIComponent(location.href.replace(b,""))}var d=0,b=/#.*$/;c.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,a=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
a.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(a){c(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){c(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();a.active=this._initialActive();c.isArray(a.disabled)&&(a.disabled=c.unique(a.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&
this.anchors.length?this._findActive(a.active):c();this._refresh();this.active.length&&this.load(a.active)},_initialActive:function(){var b=this.options.active,a=this.options.collapsible,d=location.hash.substring(1);if(null===b&&(d&&this.tabs.each(function(a,f){if(c(f).attr("aria-controls")===d)return b=a,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b))b=this.tabs.length?0:!1;!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=a?!1:0));!a&&(!1===b&&this.anchors.length)&&
(b=0);return b},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?c():this._getPanelForTab(this.active)}},_tabKeydown:function(b){var a=c(this.document[0].activeElement).closest("li"),d=this.tabs.index(a),f=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:d++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:f=!1;d--;break;case c.ui.keyCode.END:d=this.anchors.length-1;break;case c.ui.keyCode.HOME:d=0;break;case c.ui.keyCode.SPACE:b.preventDefault();
clearTimeout(this.activating);this._activate(d);return;case c.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(d===this.options.active?!1:d);return;default:return}b.preventDefault();clearTimeout(this.activating);d=this._focusNextTab(d,f);b.ctrlKey||(a.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){!this._handlePageNav(b)&&(b.ctrlKey&&
b.keyCode===c.ui.keyCode.UP)&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===c.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===c.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,a){function d(){b>f&&(b=0);0>b&&(b=f);return b}for(var f=this.tabs.length-1;-1!==c.inArray(d(),this.options.disabled);)b=a?b+1:b-1;return b},
_focusNextTab:function(b,a){b=this._findNextTab(b,a);this.tabs.eq(b).focus();return b},_setOption:function(b,a){"active"===b?this._activate(a):"disabled"===b?this._setupDisabled(a):(this._super(b,a),"collapsible"===b&&(this.element.toggleClass("ui-tabs-collapsible",a),!a&&!1===this.options.active&&this._activate(0)),"event"===b&&this._setupEvents(a),"heightStyle"===b&&this._setupHeightStyle(a))},_tabId:function(b){return b.attr("aria-controls")||"ui-tabs-"+ ++d},_sanitizeSelector:function(b){return b?
b.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,a=this.tablist.children(":has(a[href])");b.disabled=c.map(a.filter(".ui-state-disabled"),function(b){return a.index(b)});this._processTabs();!1===b.active||!this.anchors.length?(b.active=!1,this.active=c()):this.active.length&&!c.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=c()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=
this.tabs.index(this.active);this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
c();this.anchors.each(function(a,d){var g,n,p,m=c(d).uniqueId().attr("id"),l=c(d).closest("li"),t=l.attr("aria-controls");f(d)?(g=d.hash,n=b.element.find(b._sanitizeSelector(g))):(p=b._tabId(l),g="#"+p,n=b.element.find(g),n.length||(n=b._createPanel(p),n.insertAfter(b.panels[a-1]||b.tablist)),n.attr("aria-live","polite"));n.length&&(b.panels=b.panels.add(n));t&&l.data("ui-tabs-aria-controls",t);l.attr({"aria-controls":g.substring(1),"aria-labelledby":m});n.attr("aria-labelledby",m)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return c("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){c.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var a=0,d;d=this.tabs[a];a++)!0===b||-1!==c.inArray(a,b)?c(d).addClass("ui-state-disabled").attr("aria-disabled","true"):c(d).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=b},_setupEvents:function(b){var a={click:function(a){a.preventDefault()}};b&&c.each(b.split(" "),function(b,c){a[c]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,a);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var a,d=this.element.parent();"fill"===b?(a=d.height(),a-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var b=c(this),d=b.css("position");"absolute"===d||"fixed"===d||(a-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){a-=c(this).outerHeight(!0)}),this.panels.each(function(){c(this).height(Math.max(0,a-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===b&&(a=0,this.panels.each(function(){a=Math.max(a,c(this).height("").height())}).height(a))},_eventHandler:function(b){var a=this.options,d=this.active,
f=c(b.currentTarget).closest("li"),n=f[0]===d[0],p=n&&a.collapsible,m=p?c():this._getPanelForTab(f),l=!d.length?c():this._getPanelForTab(d),d={oldTab:d,oldPanel:l,newTab:p?c():f,newPanel:m};b.preventDefault();if(!f.hasClass("ui-state-disabled")&&!f.hasClass("ui-tabs-loading")&&!this.running&&!(n&&!a.collapsible||!1===this._trigger("beforeActivate",b,d)))a.active=p?!1:this.tabs.index(f),this.active=n?c():f,this.xhr&&this.xhr.abort(),!l.length&&!m.length&&c.error("jQuery UI Tabs: Mismatching fragment identifier."),
m.length&&this.load(this.tabs.index(f),b),this._toggle(b,d)},_toggle:function(b,a){function d(){n.running=!1;n._trigger("activate",b,a)}function f(){a.newTab.closest("li").addClass("ui-tabs-active ui-state-active");p.length&&n.options.show?n._show(p,n.options.show,d):(p.show(),d())}var n=this,p=a.newPanel,m=a.oldPanel;this.running=!0;m.length&&this.options.hide?this._hide(m,this.options.hide,function(){a.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");f()}):(a.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
m.hide(),f());m.attr({"aria-expanded":"false","aria-hidden":"true"});a.oldTab.attr("aria-selected","false");p.length&&m.length?a.oldTab.attr("tabIndex",-1):p.length&&this.tabs.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1);p.attr({"aria-expanded":"true","aria-hidden":"false"});a.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:c.noop}))},_findActive:function(b){return!1===b?c():this.tabs.eq(b)},_getIndex:function(b){"string"===typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+b+"']")));return b},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){c.data(this,"ui-tabs-destroy")?c(this).remove():c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=c(this),a=b.data("ui-tabs-aria-controls");
a?b.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var a=this.options.disabled;!1!==a&&(b===r?a=!1:(b=this._getIndex(b),a=c.isArray(a)?c.map(a,function(a){return a!==b?a:null}):c.map(this.tabs,function(a,c){return c!==b?c:null})),this._setupDisabled(a))},disable:function(b){var a=this.options.disabled;if(!0!==a){if(b===r)a=!0;else{b=this._getIndex(b);
if(-1!==c.inArray(b,a))return;a=c.isArray(a)?c.merge([b],a).sort():[b]}this._setupDisabled(a)}},load:function(b,a){b=this._getIndex(b);var d=this,g=this.tabs.eq(b),n=g.find(".ui-tabs-anchor"),p=this._getPanelForTab(g),m={tab:g,panel:p};if(!f(n[0])&&(this.xhr=c.ajax(this._ajaxSettings(n,a,m)))&&"canceled"!==this.xhr.statusText)g.addClass("ui-tabs-loading"),p.attr("aria-busy","true"),this.xhr.success(function(b){setTimeout(function(){p.html(b);d._trigger("load",a,m)},1)}).complete(function(a,b){setTimeout(function(){"abort"===
b&&d.panels.stop(!1,!0);g.removeClass("ui-tabs-loading");p.removeAttr("aria-busy");a===d.xhr&&delete d.xhr},1)})},_ajaxSettings:function(b,a,d){var f=this;return{url:b.attr("href"),beforeSend:function(b,k){return f._trigger("beforeLoad",a,c.extend({jqXHR:b,ajaxSettings:k},d))}}},_getPanelForTab:function(b){b=c(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})})(jQuery);
(function(c){function r(b,d){var a=(b.attr("aria-describedby")||"").split(/\s+/);a.push(d);b.data("ui-tooltip-id",d).attr("aria-describedby",c.trim(a.join(" ")))}function f(b){var d=b.data("ui-tooltip-id"),a=(b.attr("aria-describedby")||"").split(/\s+/),d=c.inArray(d,a);-1!==d&&a.splice(d,1);b.removeData("ui-tooltip-id");(a=c.trim(a.join(" ")))?b.attr("aria-describedby",a):b.removeAttr("aria-describedby")}var d=0;c.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var b=c(this).attr("title")||
"";return c("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(b,d){var a=this;"disabled"===b?(this[d?"_disable":"_enable"](),this.options[b]=d):(this._super(b,d),"content"===b&&c.each(this.tooltips,function(b,
c){a._updateContent(c)}))},_disable:function(){var b=this;c.each(this.tooltips,function(d,a){var e=c.Event("blur");e.target=e.currentTarget=a[0];b.close(e,!0)});this.element.find(this.options.items).addBack().each(function(){var b=c(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=c(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var d=
this,a=c(b?b.target:this.element).closest(this.options.items);a.length&&!a.data("ui-tooltip-id")&&(a.attr("title")&&a.data("ui-tooltip-title",a.attr("title")),a.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&a.parents().each(function(){var a=c(this),b;a.data("ui-tooltip-open")&&(b=c.Event("blur"),b.target=b.currentTarget=this,d.close(b,!0));a.attr("title")&&(a.uniqueId(),d.parents[this.id]={element:this,title:a.attr("title")},a.attr("title",""))}),this._updateContent(a,b))},_updateContent:function(b,
c){var a;a=this.options.content;var d=this,f=c?c.type:null;if("string"===typeof a)return this._open(c,b,a);(a=a.call(b[0],function(a){b.data("ui-tooltip-open")&&d._delay(function(){c&&(c.type=f);this._open(c,b,a)})}))&&this._open(c,b,a)},_open:function(b,d,a){function e(a){p.of=a;f.is(":hidden")||f.position(p)}var f,n,p=c.extend({},this.options.position);if(a)if(f=this._find(d),f.length)f.find(".ui-tooltip-content").html(a);else{d.is("[title]")&&(b&&"mouseover"===b.type?d.attr("title",""):d.removeAttr("title"));
f=this._tooltip(d);r(d,f.attr("id"));f.find(".ui-tooltip-content").html(a);this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:e}),e(b)):f.position(c.extend({of:d},this.options.position));f.hide();this._show(f,this.options.show);this.options.show&&this.options.show.delay&&(n=this.delayedShow=setInterval(function(){f.is(":visible")&&(e(p.of),clearInterval(n))},c.fx.interval));this._trigger("open",b,{tooltip:f});a={keyup:function(a){a.keyCode===c.ui.keyCode.ESCAPE&&(a=c.Event(a),
a.currentTarget=d[0],this.close(a,!0))},remove:function(){this._removeTooltip(f)}};if(!b||"mouseover"===b.type)a.mouseleave="close";if(!b||"focusin"===b.type)a.focusout="close";this._on(!0,d,a)}},close:function(b){var d=this,a=c(b?b.currentTarget:this.element),e=this._find(a);this.closing||(clearInterval(this.delayedShow),a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title")),f(a),e.stop(!0),this._hide(e,this.options.hide,function(){d._removeTooltip(c(this))}),a.removeData("ui-tooltip-open"),
this._off(a,"mouseleave focusout keyup"),a[0]!==this.element[0]&&this._off(a,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&c.each(this.parents,function(a,b){c(b.element).attr("title",b.title);delete d.parents[a]}),this.closing=!0,this._trigger("close",b,{tooltip:e}),this.closing=!1)},_tooltip:function(b){var f="ui-tooltip-"+d++,a=c("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));c("<div>").addClass("ui-tooltip-content").appendTo(a);
a.appendTo(this.document[0].body);this.tooltips[f]=b;return a},_find:function(b){return(b=b.data("ui-tooltip-id"))?c("#"+b):c()},_removeTooltip:function(b){b.remove();delete this.tooltips[b.attr("id")]},_destroy:function(){var b=this;c.each(this.tooltips,function(d,a){var e=c.Event("blur");e.target=e.currentTarget=a[0];b.close(e,!0);c("#"+d).remove();a.data("ui-tooltip-title")&&(a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))})}})})(jQuery);
(function(c,r,f){function d(a){return function(){var b=arguments[0],c=arguments,d;d="["+(a?a+":":"")+b+"] "+arguments[1].replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1);return b+2<c.length?(a=c[b+2],"function"===typeof a?a.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"===typeof a?"undefined":"string"!==typeof a?Q(a):a):a});d=d+"\nhttp://errors.angularjs.org/1.2.1/"+(a?a+"/":"")+b;for(b=2;b<arguments.length;b++)d=d+(2==b?"?":"&")+"p"+(b-2)+"="+encodeURIComponent("function"===typeof arguments[b]?
arguments[b].toString().replace(/ \{[\s\S]*$/,""):"undefined"===typeof arguments[b]?"undefined":"string"!==typeof arguments[b]?JSON.stringify(arguments[b]):arguments[b]);return Error(d)}}function b(a){if(null==a||x(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:F(a)||I(a)||0===b||"number"===typeof b&&0<b&&b-1 in a}function k(a,c,d){var e;if(a)if(L(a))for(e in a)"prototype"!=e&&("length"!=e&&"name"!=e&&a.hasOwnProperty(e))&&c.call(d,a[e],e);else if(a.forEach&&a.forEach!==k)a.forEach(c,d);else if(b(a))for(e=
0;e<a.length;e++)c.call(d,a[e],e);else for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e);return a}function a(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function e(b,c,d){for(var e=a(b),h=0;h<e.length;h++)c.call(d,b[e[h]],e[h]);return e}function g(a){return function(b,c){a(c,b)}}function n(){for(var a=Ha.length,b;a;){a--;b=Ha[a].charCodeAt(0);if(57==b)return Ha[a]="A",Ha.join("");if(90==b)Ha[a]="0";else return Ha[a]=String.fromCharCode(b+1),Ha.join("")}Ha.unshift("0");return Ha.join("")}
function p(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function m(a){var b=a.$$hashKey;k(arguments,function(b){b!==a&&k(b,function(b,c){a[c]=b})});p(a,b);return a}function l(a){return parseInt(a,10)}function t(a,b){return m(new (m(function(){},{prototype:a})),b)}function v(){}function u(a){return a}function w(a){return function(){return a}}function z(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function K(a){return null!=a&&"object"==typeof a}function F(a){return"string"==
typeof a}function H(a){return"number"==typeof a}function y(a){return"[object Date]"==Zb.apply(a)}function I(a){return"[object Array]"==Zb.apply(a)}function L(a){return"function"==typeof a}function J(a){return"[object RegExp]"==Zb.apply(a)}function x(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function S(a){return a&&(a.nodeName||a.on&&a.find)}function C(a,b,c){var d=[];k(a,function(a,e,h){d.push(b.call(c,a,e,h))});return d}function B(a,b){if(a.indexOf)return a.indexOf(b);for(var c=
0;c<a.length;c++)if(b===a[c])return c;return-1}function N(a,b){var c=B(a,b);0<=c&&a.splice(c,1);return b}function D(a,b){if(x(a)||a&&a.$evalAsync&&a.$watch)throw Vb("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw Vb("cpi","Can't copy! Source and destination are identical.");if(I(a))for(var c=b.length=0;c<a.length;c++)b.push(D(a[c]));else{c=b.$$hashKey;k(b,function(a,c){delete b[c]});for(var d in a)b[d]=D(a[d]);p(b,c)}}else(b=a)&&(I(a)?b=D(a,
[]):y(a)?b=new Date(a.getTime()):J(a)?b=RegExp(a.source):K(a)&&(b=D(a,{})));return b}function la(a,b){b=b||{};for(var c in a)a.hasOwnProperty(c)&&"$$"!==c.substr(0,2)&&(b[c]=a[c]);return b}function U(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c=typeof a,d;if(c==typeof b&&"object"==c)if(I(a)){if(!I(b))return!1;if((c=a.length)==b.length){for(d=0;d<c;d++)if(!U(a[d],b[d]))return!1;return!0}}else{if(y(a))return y(b)&&a.getTime()==b.getTime();if(J(a)&&J(b))return a.toString()==
b.toString();if(a&&a.$evalAsync&&a.$watch||b&&b.$evalAsync&&b.$watch||x(a)||x(b)||I(b))return!1;c={};for(d in a)if(!("$"===d.charAt(0)||L(a[d]))){if(!U(a[d],b[d]))return!1;c[d]=!0}for(d in b)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b[d]!==f&&!L(b[d]))return!1;return!0}return!1}function Y(){return r.securityPolicy&&r.securityPolicy.isActive||r.querySelector&&!(!r.querySelector("[ng-csp]")&&!r.querySelector("[data-ng-csp]"))}function M(a,b){var c=2<arguments.length?Eb.call(arguments,2):[];return L(b)&&
!(b instanceof RegExp)?c.length?function(){return arguments.length?b.apply(a,c.concat(Eb.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}:b}function O(a,b){var c=b;"string"===typeof a&&"$"===a.charAt(0)?c=f:x(b)?c="$WINDOW":b&&r===b?c="$DOCUMENT":b&&(b.$evalAsync&&b.$watch)&&(c="$SCOPE");return c}function Q(a,b){return"undefined"===typeof a?f:JSON.stringify(a,O,b?"  ":null)}function W(a){return F(a)?JSON.parse(a):a}function P(a){a&&0!==a.length?
(a=Aa(""+a),a=!("f"==a||"0"==a||"false"==a||"no"==a||"n"==a||"[]"==a)):a=!1;return a}function ha(a){a=da(a).clone();try{a.html("")}catch(b){}var c=da("<div>").append(a).html();try{return 3===a[0].nodeType?Aa(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Aa(b)})}catch(d){return Aa(c)}}function oa(a){try{return decodeURIComponent(a)}catch(b){}}function wa(a){var b={},c,d;k((a||"").split("&"),function(a){a&&(c=a.split("="),d=oa(c[0]),s(d)&&(a=s(c[1])?oa(c[1]):!0,b[d]?I(b[d])?
b[d].push(a):b[d]=[b[d],a]:b[d]=a))});return b}function xa(a){var b=[];k(a,function(a,c){I(a)?k(a,function(a){b.push(ia(c,!0)+(!0===a?"":"="+ia(a,!0)))}):b.push(ia(c,!0)+(!0===a?"":"="+ia(a,!0)))});return b.length?b.join("&"):""}function sa(a){return ia(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ia(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function ma(a,b){function c(a){a&&
d.push(a)}var d=[a],e,h,f=["ng:app","ng-app","x-ng-app","data-ng-app"],q=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;k(f,function(b){f[b]=!0;c(r.getElementById(b));b=b.replace(":","\\:");a.querySelectorAll&&(k(a.querySelectorAll("."+b),c),k(a.querySelectorAll("."+b+"\\:"),c),k(a.querySelectorAll("["+b+"]"),c))});k(d,function(a){if(!e){var b=q.exec(" "+a.className+" ");b?(e=a,h=(b[2]||"").replace(/\s+/g,",")):k(a.attributes,function(b){!e&&f[b.name]&&(e=a,h=b.value)})}});e&&b(e,h?[h]:[])}function pa(a,b){var d=
function(){a=da(a);if(a.injector()){var c=a[0]===r?"document":ha(a);throw Vb("btstrpd","App Already Bootstrapped with this Element '{0}'",c);}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);b.unshift("ng");c=eb(b);c.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_DEFER_BOOTSTRAP!/;if(c&&!e.test(c.name))return d();c.name=c.name.replace(e,"");ic.resumeBootstrap=function(a){k(a,
function(a){b.push(a)});d()}}function na(a,b){b=b||"_";return a.replace(oc,function(a,c){return(c?b:"")+a.toLowerCase()})}function qa(a,b,c){if(!a)throw Vb("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function q(a,b,c){c&&I(a)&&(a=a[a.length-1]);qa(L(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a));return a}function A(a,b){if("hasOwnProperty"===a)throw Vb("badname","hasOwnProperty is not a valid {0} name",b);}function h(a,b,c){if(!b)return a;
b=b.split(".");for(var d,e=a,h=b.length,f=0;f<h;f++)d=b[f],a&&(a=(e=a)[d]);return!c&&L(a)?M(e,a):a}function E(a){if(a.startNode===a.endNode)return da(a.startNode);var b=a.startNode,c=[b];do{b=b.nextSibling;if(!b)break;c.push(b)}while(b!==a.endNode);return da(c)}function G(a){function b(a,c,d){return a[c]||(a[c]=d())}var c=d("$injector"),e=d("ng");return b(b(a,"angular",Object),"module",function(){var a={};return function(d,h,f){if("hasOwnProperty"===d)throw e("badname","hasOwnProperty is not a valid {0} name",
"module");h&&a.hasOwnProperty(d)&&(a[d]=null);return b(a,d,function(){function a(c,d,e){return function(){b[e||"push"]([c,d,arguments]);return g}}if(!h)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var b=[],e=[],q=a("$injector","invoke"),g={_invokeQueue:b,_runBlocks:e,requires:h,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),
service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:q,run:function(a){e.push(a);return this}};f&&q(f);return g})}})}function ba(a){return a.replace(wc,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Ea,"Moz$1")}function ea(a,b,c,d){function e(a){var f=c&&a?[this.filter(a)]:
[this],q=b,g,l,m,A,n,k;if(!d||null!=a)for(;f.length;){g=f.shift();l=0;for(m=g.length;l<m;l++){A=da(g[l]);q?A.triggerHandler("$destroy"):q=!q;n=0;for(A=(k=A.children()).length;n<A;n++)f.push(Db(k[n]))}}return h.apply(this,arguments)}var h=Db.fn[a],h=h.$original||h;e.$original=h;Db.fn[a]=e}function ca(a){if(a instanceof ca)return a;if(!(this instanceof ca)){if(F(a)&&"<"!=a.charAt(0))throw Gb("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
return new ca(a)}if(F(a)){var b=r.createElement("div");b.innerHTML="<div>&#160;</div>"+a;b.removeChild(b.firstChild);T(this,b.childNodes);da(r.createDocumentFragment()).append(this)}else T(this,a)}function Ta(a){return a.cloneNode(!0)}function ta(a){Fa(a);var b=0;for(a=a.childNodes||[];b<a.length;b++)ta(a[b])}function R(a,b,c,d){if(s(d))throw Gb("offargs","jqLite#off() does not support the `selector` argument");var e=Z(a,"events");Z(a,"handle")&&(z(b)?k(e,function(b,c){ac(a,c,b);delete e[c]}):k(b.split(" "),
function(b){z(c)?(ac(a,b,e[b]),delete e[b]):N(e[b]||[],c)}))}function Fa(a,b){var c=a[dc],d=Jb[c];d&&(b?delete Jb[c].data[b]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),R(a)),delete Jb[c],a[dc]=f))}function Z(a,b,c){var d=a[dc],d=Jb[d||-1];if(s(c))d||(a[dc]=d=++uc,d=Jb[d]={}),d[b]=c;else return d&&d[b]}function X(a,b,c){var d=Z(a,"data"),e=s(c),h=!e&&s(b),f=h&&!K(b);!d&&!f&&Z(a,"data",d={});if(e)d[b]=c;else if(h){if(f)return d&&d[b];m(d,b)}else return d}function Ba(a,b){return!a.getAttribute?
!1:-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function Da(a,b){b&&a.setAttribute&&k(b.split(" "),function(b){a.setAttribute("class",Ya((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ya(b)+" "," ")))})}function V(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");k(b.split(" "),function(a){a=Ya(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});a.setAttribute("class",Ya(c))}}function T(a,b){if(b){b=
!b.nodeName&&s(b.length)&&!x(b)?b:[b];for(var c=0;c<b.length;c++)a.push(b[c])}}function sb(a,b){return Ga(a,"$"+(b||"ngController")+"Controller")}function Ga(a,b,c){a=da(a);9==a[0].nodeType&&(a=a.find("html"));for(b=I(b)?b:[b];a.length;){for(var d=0,e=b.length;d<e;d++)if((c=a.data(b[d]))!==f)return c;a=a.parent()}}function Pa(a,b){var c=jc[b.toLowerCase()];return c&&yc[a.nodeName]&&c}function gb(a,b){var c=function(c,d){c.preventDefault||(c.preventDefault=function(){c.returnValue=!1});c.stopPropagation||
(c.stopPropagation=function(){c.cancelBubble=!0});c.target||(c.target=c.srcElement||r);if(z(c.defaultPrevented)){var e=c.preventDefault;c.preventDefault=function(){c.defaultPrevented=!0;e.call(c)};c.defaultPrevented=!1}c.isDefaultPrevented=function(){return c.defaultPrevented||!1===c.returnValue};k(b[d||c.type],function(b){b.call(a,c)});8>=La?(c.preventDefault=null,c.stopPropagation=null,c.isDefaultPrevented=null):(delete c.preventDefault,delete c.stopPropagation,delete c.isDefaultPrevented)};c.elem=
a;return c}function Na(a){var b=typeof a,c;"object"==b&&null!==a?"function"==typeof(c=a.$$hashKey)?c=a.$$hashKey():c===f&&(c=a.$$hashKey=n()):c=a;return b+":"+c}function db(a){k(a,this.put,this)}function hb(a){var b,c;if("function"==typeof a){if(!(b=a.$inject))b=[],a.length&&(c=a.toString().replace(Zc,""),c=c.match(zc),k(c[1].split(Ac),function(a){a.replace(Xc,function(a,c,d){b.push(d)})})),a.$inject=b}else I(a)?(c=a.length-1,q(a[c],"fn"),b=a.slice(0,c)):q(a,"fn",!0);return b}function eb(a){function b(a){return function(b,
c){if(K(b))k(b,g(a));else return a(b,c)}}function c(a,b){A(a,"service");if(L(b)||I(b))b=y.instantiate(b);if(!b.$get)throw sc("pget","Provider '{0}' must define $get factory method.",a);return E[a+l]=b}function d(a,b){return c(a,{$get:b})}function e(a){var b=[],c,d,h,f;k(a,function(a){if(!n.get(a)){n.put(a,!0);try{if(F(a)){c=Wb(a);b=b.concat(e(c.requires)).concat(c._runBlocks);d=c._invokeQueue;h=0;for(f=d.length;h<f;h++){var g=d[h],l=y.get(g[0]);l[g[1]].apply(l,g[2])}}else L(a)?b.push(y.invoke(a)):
I(a)?b.push(y.invoke(a)):q(a,"module")}catch(m){throw I(a)&&(a=a[a.length-1]),m.message&&(m.stack&&-1==m.stack.indexOf(m.message))&&(m=m.message+"\n"+m.stack),sc("modulerr","Failed to instantiate module {0} due to:\n{1}",a,m.stack||m.message||m);}}});return b}function h(a,b){function c(d){if(a.hasOwnProperty(d)){if(a[d]===f)throw sc("cdep","Circular dependency found: {0}",m.join(" <- "));return a[d]}try{return m.unshift(d),a[d]=f,a[d]=b(d)}finally{m.shift()}}function d(a,b,e){var h=[],f=hb(a),q,g,
l;g=0;for(q=f.length;g<q;g++){l=f[g];if("string"!==typeof l)throw sc("itkn","Incorrect injection token! Expected service name as string, got {0}",l);h.push(e&&e.hasOwnProperty(l)?e[l]:c(l))}a.$inject||(a=a[q]);switch(b?-1:h.length){case 0:return a();case 1:return a(h[0]);case 2:return a(h[0],h[1]);case 3:return a(h[0],h[1],h[2]);case 4:return a(h[0],h[1],h[2],h[3]);case 5:return a(h[0],h[1],h[2],h[3],h[4]);case 6:return a(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return a(h[0],h[1],h[2],h[3],h[4],h[5],
h[6]);case 8:return a(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7]);case 9:return a(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8]);case 10:return a(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9]);default:return a.apply(b,h)}}return{invoke:d,instantiate:function(a,b){var c=function(){},e;c.prototype=(I(a)?a[a.length-1]:a).prototype;c=new c;e=d(a,c,b);return K(e)||L(e)?e:c},get:c,annotate:hb,has:function(b){return E.hasOwnProperty(b+l)||a.hasOwnProperty(b)}}}var f={},l="Provider",m=[],n=new db,E={$provide:{provider:b(c),
factory:b(d),service:b(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:b(function(a,b){return d(a,w(b))}),constant:b(function(a,b){A(a,"constant");E[a]=b;p[a]=b}),decorator:function(a,b){var c=y.get(a+l),d=c.$get;c.$get=function(){var a=C.invoke(d,c);return C.invoke(b,null,{$delegate:a})}}}},y=E.$injector=h(E,function(){throw sc("unpr","Unknown provider: {0}",m.join(" <- "));}),p={},C=p.$injector=h(p,function(a){a=y.get(a+l);return C.invoke(a.$get,a)});k(e(a),
function(a){C.invoke(a||v)});return C}function ob(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;k(a,function(a){!b&&"a"===Aa(a.nodeName)&&(b=a)});return b}function h(){var a=c.hash(),d;a?(d=f.getElementById(a))?d.scrollIntoView():(d=e(f.getElementsByName(a)))?d.scrollIntoView():"top"===a&&b.scrollTo(0,0):b.scrollTo(0,0)}var f=b.document;a&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(h)});
return h}]}function ib(a,b,c,d){function e(a){try{a.apply(null,Eb.call(arguments,1))}finally{if(p--,0===p)for(;C.length;)try{C.pop()()}catch(b){c.error(b)}}}function h(a,b){(function Cd(){k(x,function(a){a()});t=b(Cd,a)})()}function q(){u=null;B!=g.url()&&(B=g.url(),k(V,function(a){a(g.url())}))}var g=this,l=b[0],m=a.location,A=a.history,n=a.setTimeout,E=a.clearTimeout,y={};g.isMock=!1;var p=0,C=[];g.$$completeOutstandingRequest=e;g.$$incOutstandingRequestCount=function(){p++};g.notifyWhenNoOutstandingRequests=
function(a){k(x,function(a){a()});0===p?a():C.push(a)};var x=[],t;g.addPollFn=function(a){z(t)&&h(100,n);x.push(a);return a};var B=m.href,G=b.find("base"),u=null;g.url=function(b,c){m!==a.location&&(m=a.location);if(b){if(B!=b)return B=b,d.history?c?A.replaceState(null,"",b):(A.pushState(null,"",b),G.attr("href",G.attr("href"))):(u=b,c?m.replace(b):m.href=b),g}else return u||m.href.replace(/%27/g,"'")};var V=[],T=!1;g.onUrlChange=function(b){if(!T){if(d.history)da(a).on("popstate",q);if(d.hashchange)da(a).on("hashchange",
q);else g.addPollFn(q);T=!0}V.push(b);return b};g.baseHref=function(){var a=G.attr("href");return a?a.replace(/^https?\:\/\/[^\/]*/,""):""};var s={},I="",N=g.baseHref();g.cookies=function(a,b){var d,e,h,q;if(a)b===f?l.cookie=escape(a)+"=;path="+N+";expires=Thu, 01 Jan 1970 00:00:00 GMT":F(b)&&(d=(l.cookie=escape(a)+"="+escape(b)+";path="+N).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(l.cookie!==I){I=l.cookie;d=I.split("; ");
s={};for(h=0;h<d.length;h++)e=d[h],q=e.indexOf("="),0<q&&(a=unescape(e.substring(0,q)),s[a]===f&&(s[a]=unescape(e.substring(q+1))))}return s}};g.defer=function(a,b){var c;p++;c=n(function(){delete y[c];e(a)},b||0);y[c]=!0;return c};g.defer.cancel=function(a){return y[a]?(delete y[a],E(a),e(v),!0):!1}}function fb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new ib(a,d,b,c)}]}function Ia(){this.$get=function(){function a(c,e){function h(a){a!=k&&(E?E==a&&(E=a.n):E=a,
f(a.n,a.p),f(a,k),k=a,k.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(c in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",c);var q=0,g=m({},e,{id:c}),l={},A=e&&e.capacity||Number.MAX_VALUE,n={},k=null,E=null;return b[c]={put:function(a,b){var c=n[a]||(n[a]={key:a});h(c);if(!z(b))return a in l||q++,l[a]=b,q>A&&this.remove(E.key),b},get:function(a){var b=n[a];if(b)return h(b),l[a]},remove:function(a){var b=n[a];b&&(b==k&&(k=b.p),b==E&&(E=b.n),f(b.n,b.p),delete n[a],delete l[a],
q--)},removeAll:function(){l={};q=0;n={};k=E=null},destroy:function(){n=g=l=null;delete b[c]},info:function(){return m({},g,{size:q})}}}var b={};a.info=function(){var a={};k(b,function(b,c){a[c]=b.info()});return a};a.get=function(a){return b[a]};return a}}function Qa(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Kb(a){var b={},c="Directive",d=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,e=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,h=/^\s*(https?|ftp|mailto|tel|file):/,q=/^\s*(https?|ftp|file):|data:image\//,
l=/^(on[a-z]+|formaction)$/;this.directive=function Bd(d,e){A(d,"directive");F(d)?(qa(e,"directiveFactory"),b.hasOwnProperty(d)||(b[d]=[],a.factory(d+c,["$injector","$exceptionHandler",function(a,c){var e=[];k(b[d],function(b,h){try{var f=a.invoke(b);L(f)?f={compile:w(f)}:!f.compile&&f.link&&(f.compile=w(f.link));f.priority=f.priority||0;f.index=h;f.name=f.name||d;f.require=f.require||f.controller&&f.name;f.restrict=f.restrict||"A";e.push(f)}catch(q){c(q)}});return e}])),b[d].push(e)):k(d,g(Bd));
return this};this.aHrefSanitizationWhitelist=function(a){return s(a)?(h=a,this):h};this.imgSrcSanitizationWhitelist=function(a){return s(a)?(q=a,this):q};this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate",function(a,g,A,n,E,y,p,C,x,B,G){function V(a,b,c,d,e){a instanceof da||(a=da(a));k(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=da(b).wrap("<span></span>").parent()[0])});var h=v(a,
b,a,c,d,e);return function(b,c,d){qa(b,"scope");var e=c?Fb.clone.call(a):a;k(d,function(a,b){e.data("$"+b+"Controller",a)});d=0;for(var f=e.length;d<f;d++){var q=e[d];(1==q.nodeType||9==q.nodeType)&&e.eq(d).data("$scope",b)}T(e,"ng-scope");c&&c(e,b);h&&h(b,e,e);return e}}function T(a,b){try{a.addClass(b)}catch(c){}}function v(a,b,c,d,e,h){function q(a,c,d,e){var h,l,m,n,A,k,E,y=[];A=0;for(k=c.length;A<k;A++)y.push(c[A]);E=A=0;for(k=g.length;A<k;E++)l=y[E],c=g[A++],h=g[A++],m=da(l),c?(c.scope?(n=a.$new(),
m.data("$scope",n),T(m,"ng-scope")):n=a,(m=c.transclude)||!e&&b?c(h,n,l,d,s(a,m||b)):c(h,n,l,f,e)):h&&h(a,l.childNodes,f,e)}for(var g=[],l,m,A,n=0;n<a.length;n++)m=new Ga,l=N(a[n],[],m,0===n?d:f,e),l=(h=l.length?ea(l,a[n],m,b,c,null,[],[],h):null)&&h.terminal||!a[n].childNodes||!a[n].childNodes.length?null:v(a[n].childNodes,h?h.transclude:b),g.push(h),g.push(l),A=A||h||l,h=null;return A?q:null}function s(a,b){return function(c,d,e){var h=!1;c||(c=a.$new(),h=c.$$transcluded=!0);d=b(c,d,e);if(h)d.on("$destroy",
M(c,c.$destroy));return d}}function N(a,b,c,h,f){var q=c.$attr,g;switch(a.nodeType){case 1:ba(b,Ra(Nb(a).toLowerCase()),"E",h,f);var l,m,A;g=a.attributes;for(var n=0,k=g&&g.length;n<k;n++){var E=!1,y=!1;l=g[n];if(!La||8<=La||l.specified){m=l.name;A=Ra(m);X.test(A)&&(m=na(A.substr(6),"-"));var p=A.replace(/(Start|End)$/,"");A===p+"Start"&&(E=m,y=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6));A=Ra(m.toLowerCase());q[A]=m;c[A]=l=Ya(La&&"href"==m?decodeURIComponent(a.getAttribute(m,2)):l.value);
Pa(a,A)&&(c[A]=!0);Wa(a,b,l,A);ba(b,A,"A",h,f,E,y)}}a=a.className;if(F(a)&&""!==a)for(;g=e.exec(a);)A=Ra(g[2]),ba(b,A,"C",h,f)&&(c[A]=Ya(g[3])),a=a.substr(g.index+g[0].length);break;case 3:z(b,a.nodeValue);break;case 8:try{if(g=d.exec(a.nodeValue))A=Ra(g[1]),ba(b,A,"M",h,f)&&(c[A]=Ya(g[2]))}catch(C){}}b.sort(R);return b}function D(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Cb("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);1==a.nodeType&&
(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return da(d)}function ya(a,b,c){return function(d,e,h,f,q){e=D(e[0],b,c);return a(d,e,h,f,q)}}function ea(a,b,c,d,e,h,q,l,m){function n(a,b,c,d){if(a){c&&(a=ya(a,c,d));a.require=aa.require;if(G===aa||aa.$$isolateScope)a=H(a,{isolateScope:!0});q.push(a)}if(b){c&&(b=ya(b,c,d));b.require=aa.require;if(G===aa||aa.$$isolateScope)b=H(b,{isolateScope:!0});l.push(b)}}function E(a,b,c){var d,e="data",h=!1;if(F(a)){for(;"^"==
(d=a.charAt(0))||"?"==d;)a=a.substr(1),"^"==d&&(e="inheritedData"),h=h||"?"==d;d=null;c&&"data"===e&&(d=c[a]);d=d||b[e]("$"+a+"Controller");if(!d&&!h)throw Cb("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,w);}else I(a)&&(d=[],k(a,function(a){d.push(E(a,b,c))}));return d}function C(a,d,e,h,m){function n(a,b){var c;2>arguments.length&&(b=a,a=f);v&&(c=I);return m(a,b,c)}var x,t,V,lb,s,aa,I={},N;x=b===e?c:la(c,new Ga(da(e),c.$attr));t=x.$$element;if(G){var D=/^\s*([@=&])(\??)\s*(\w*)\s*$/;
h=da(e);aa=d.$new(!0);u&&u===G.$$originalDirective?h.data("$isolateScope",aa):h.data("$isolateScopeNoTemplate",aa);T(h,"ng-isolate-scope");k(G.scope,function(a,b){var c=a.match(D)||[],e=c[3]||b,h="?"==c[2],c=c[1],f,q,l;aa.$$isolateBindings[b]=c+e;switch(c){case "@":x.$observe(e,function(a){aa[b]=a});x.$$observers[e].$$scope=d;x[e]&&(aa[b]=g(x[e])(d));break;case "=":if(h&&!x[e])break;q=y(x[e]);l=q.assign||function(){f=aa[b]=q(d);throw Cb("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",
x[e],G.name);};f=aa[b]=q(d);aa.$watch(function(){var a=q(d);a!==aa[b]&&(a!==f?f=aa[b]=a:l(d,a=f=aa[b]));return a});break;case "&":q=y(x[e]);aa[b]=function(a){return q(d,a)};break;default:throw Cb("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",G.name,b,a);}})}N=m&&n;B&&k(B,function(a){var b={$scope:a===G||a.$$isolateScope?aa:d,$element:t,$attrs:x,$transclude:N},c;s=a.controller;"@"==s&&(s=x[a.name]);c=p(s,b);I[a.name]=c;v||t.data("$"+a.name+"Controller",
c);a.controllerAs&&(b.$scope[a.controllerAs]=c)});h=0;for(V=q.length;h<V;h++)try{lb=q[h],lb(lb.isolateScope?aa:d,t,x,lb.require&&E(lb.require,t,I),N)}catch(w){A(w,ha(t))}h=d;if(G&&(G.template||null===G.templateUrl))h=aa;a&&a(h,e.childNodes,f,m);for(h=l.length-1;0<=h;h--)try{lb=l[h],lb(lb.isolateScope?aa:d,t,x,lb.require&&E(lb.require,t,I),N)}catch(Ka){A(Ka,ha(t))}}m=m||{};var x=-Number.MAX_VALUE,t,B=m.controllerDirectives,G=m.newIsolateScopeDirective,u=m.templateDirective;m=m.nonTlbTranscludeDirective;
for(var lb=!1,v=!1,s=c.$$element=da(b),aa,w,Ka,Cc=d,ba,R=0,z=a.length;R<z;R++){aa=a[R];var ca=aa.$$start,Wa=aa.$$end;ca&&(s=D(b,ca,Wa));Ka=f;if(x>aa.priority)break;if(Ka=aa.scope)t=t||aa,aa.templateUrl||(Bc("new/isolated scope",G,aa,s),K(Ka)&&(G=aa));w=aa.name;!aa.templateUrl&&aa.controller&&(Ka=aa.controller,B=B||{},Bc("'"+w+"' controller",B[w],aa,s),B[w]=aa);if(Ka=aa.transclude)lb=!0,aa.$$tlb||(Bc("transclusion",m,aa,s),m=aa),"element"==Ka?(v=!0,x=aa.priority,Ka=D(b,ca,Wa),s=c.$$element=da(r.createComment(" "+
w+": "+c[w]+" ")),b=s[0],Va(e,da(Eb.call(Ka,0)),b),Cc=V(Ka,d,x,h&&h.name,{nonTlbTranscludeDirective:m})):(Ka=da(Ta(b)).contents(),s.html(""),Cc=V(Ka,d));if(aa.template)if(Bc("template",u,aa,s),u=aa,Ka=L(aa.template)?aa.template(s,c):aa.template,Ka=Ca(Ka),aa.replace){h=aa;Ka=da("<div>"+Ya(Ka)+"</div>").contents();b=Ka[0];if(1!=Ka.length||1!==b.nodeType)throw Cb("tplrt","Template for directive '{0}' must have exactly one root element. {1}",w,"");Va(e,s,b);z={$attr:{}};Ka=N(b,[],z);var Ad=a.splice(R+
1,a.length-(R+1));G&&S(Ka);a=a.concat(Ka).concat(Ad);J(c,z);z=a.length}else s.html(Ka);if(aa.templateUrl)Bc("template",u,aa,s),u=aa,aa.replace&&(h=aa),C=sb(a.splice(R,a.length-R),s,c,e,Cc,q,l,{controllerDirectives:B,newIsolateScopeDirective:G,templateDirective:u,nonTlbTranscludeDirective:m}),z=a.length;else if(aa.compile)try{ba=aa.compile(s,c,Cc),L(ba)?n(null,ba,ca,Wa):ba&&n(ba.pre,ba.post,ca,Wa)}catch(ta){A(ta,ha(s))}aa.terminal&&(C.terminal=!0,x=Math.max(x,aa.priority))}C.scope=t&&!0===t.scope;
C.transclude=lb&&Cc;return C}function S(a){for(var b=0,c=a.length;b<c;b++)a[b]=t(a[b],{$$isolateScope:!0})}function ba(d,e,h,q,g,l,m){if(e===g)return null;g=null;if(b.hasOwnProperty(e)){var n;e=a.get(e+c);for(var k=0,E=e.length;k<E;k++)try{if(n=e[k],(q===f||q>n.priority)&&-1!=n.restrict.indexOf(h))l&&(n=t(n,{$$start:l,$$end:m})),d.push(n),g=n}catch(y){A(y)}}return g}function J(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;k(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,
d,!0,c[e]))});k(b,function(b,h){"class"==h?(T(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==h?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"!=h.charAt(0)&&!a.hasOwnProperty(h)&&(a[h]=b,d[h]=c[h])})}function sb(a,b,c,d,e,h,f,q){var g=[],l,A,y=b[0],p=a.shift(),C=m({},p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),x=L(p.templateUrl)?p.templateUrl(b,c):p.templateUrl;b.html("");n.get(B.getTrustedResourceUrl(x),{cache:E}).success(function(m){var n,
E;m=Ca(m);if(p.replace){m=da("<div>"+Ya(m)+"</div>").contents();n=m[0];if(1!=m.length||1!==n.nodeType)throw Cb("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,x);m={$attr:{}};Va(d,b,n);var t=N(n,[],m);K(p.scope)&&S(t);a=t.concat(a);J(c,m)}else n=y,b.html(m);a.unshift(C);l=ea(a,n,c,e,b,p,h,f,q);k(d,function(a,c){a==n&&(d[c]=b[0])});for(A=v(b[0].childNodes,e);g.length;){m=g.shift();E=g.shift();var B=g.shift(),G=g.shift(),t=b[0];E!==y&&(t=Ta(n),Va(B,da(E),t));E=
l.transclude?s(m,l.transclude):G;l(A,m,t,d,E)}g=null}).error(function(a,b,c,d){throw Cb("tpload","Failed to load template: {0}",d.url);});return function(a,b,c,d,e){g?(g.push(b),g.push(c),g.push(d),g.push(e)):l(A,b,c,d,e)}}function R(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Bc(a,b,c,d){if(b)throw Cb("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,ha(d));}function z(a,b){var c=g(b,!0);c&&a.push({priority:0,
compile:w(function(a,b){var d=b.parent(),e=d.data("$binding")||[];e.push(c);T(d.data("$binding",e),"ng-binding");a.$watch(c,function(a){b[0].nodeValue=a})})})}function ca(a,b){if("xlinkHref"==b||"IMG"!=Nb(a)&&("src"==b||"ngSrc"==b))return B.RESOURCE_URL}function Wa(a,b,c,d){var e=g(c,!0);if(e){if("multiple"===d&&"SELECT"===Nb(a))throw Cb("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ha(a));b.push({priority:100,compile:function(){return{pre:function(b,c,h){c=h.$$observers||
(h.$$observers={});if(l.test(d))throw Cb("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");if(e=g(h[d],!0,ca(a,d)))h[d]=e(b),(c[d]||(c[d]=[])).$$inter=!0,(h.$$observers&&h.$$observers[d].$$scope||b).$watch(e,function(a){h.$set(d,a)})}}}})}}function Va(a,b,c){var d=b[0],e=b.length,h=d.parentNode,f,q;if(a){f=0;for(q=a.length;f<q;f++)if(a[f]==d){a[f++]=c;q=f+e-1;for(var g=a.length;f<g;f++,q++)q<g?
a[f]=a[q]:delete a[f];a.length-=e-1;break}}h&&h.replaceChild(c,d);a=r.createDocumentFragment();a.appendChild(d);c[da.expando]=d[da.expando];d=1;for(e=b.length;d<e;d++)h=b[d],da(h).remove(),a.appendChild(h),delete b[d];b[0]=c;b.length=1}function H(a,b){return m(function(){return a.apply(null,arguments)},a,b)}var Ga=function(a,b){this.$$element=a;this.$attr=b||{}};Ga.prototype={$normalize:Ra,$addClass:function(a){a&&0<a.length&&G.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&G.removeClass(this.$$element,
a)},$set:function(a,b,c,d){function e(a,b){var c=[],d=a.split(/\s+/),h=b.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var q=d[f],g=0;g<h.length;g++)if(q==h[g])continue a;c.push(q)}return c}if("class"==a)b=b||"",c=this.$$element.attr("class")||"",this.$removeClass(e(c,b).join(" ")),this.$addClass(e(b,c).join(" "));else{var g=Pa(this.$$element[0],a);g&&(this.$$element.prop(a,b),d=g);this[a]=b;d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=na(a,"-"));g=Nb(this.$$element);if("A"===g&&"href"===a||
"IMG"===g&&"src"===a)if(!La||8<=La)if(g=xb(b).href,""!==g&&("href"===a&&!g.match(h)||"src"===a&&!g.match(q)))this[a]=b="unsafe:"+g;!1!==c&&(null===b||b===f?this.$$element.removeAttr(d):this.$$element.attr(d,b))}(c=this.$$observers)&&k(c[a],function(a){try{a(b)}catch(c){A(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);e.push(b);C.$evalAsync(function(){e.$$inter||b(c[a])});return b}};var ta=g.startSymbol(),Z=g.endSymbol(),Ca="{{"==ta||"}}"==Z?u:function(a){return a.replace(/\{\{/g,
ta).replace(/}}/g,Z)},X=/^ngAttr[A-Z]/;return V}]}function Ra(a){return ba(a.replace(ad,""))}function jb(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){A(b,"controller");K(b)?m(a,b):a[b]=c};this.$get=["$injector","$window",function(c,e){return function(f,g){var l,m,n;F(f)&&(l=f.match(b),m=l[1],n=l[3],f=a.hasOwnProperty(m)?a[m]:h(g.$scope,m,!0)||h(e,m,!0),q(f,m,!0));l=c.instantiate(f,g);if(n){if(!(g&&"object"==typeof g.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",
m||f.name,n);g.$scope[n]=l}return l}}]}function ya(){this.$get=["$window",function(a){return da(a.document)}]}function Wa(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function Va(a){var b={},c,d,e;if(!a)return b;k(a.split("\n"),function(a){e=a.indexOf(":");c=Aa(Ya(a.substr(0,e)));d=Ya(a.substr(e+1));c&&(b[c]=b[c]?b[c]+(", "+d):d)});return b}function Ca(a){var b=K(a)?a:f;return function(c){b||(b=Va(a));return c?b[Aa(c)]||null:b}}function tb(a,b,c){if(L(c))return c(a,
b);k(c,function(c){a=c(a,b)});return a}function Oa(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,c=/^\)\]\}',?\n/,d={"Content-Type":"application/json;charset=utf-8"},h=this.defaults={transformResponse:[function(d){F(d)&&(d=d.replace(c,""),a.test(d)&&b.test(d)&&(d=W(d)));return d}],transformRequest:[function(a){return K(a)&&"[object File]"!==Zb.apply(a)?Q(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:d,put:d,patch:d},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},
q=this.interceptors=[],g=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,c,d,l,n){function A(a){function c(a){var b=m({},a,{data:tb(a.data,a.headers,d.transformResponse)});return 200<=a.status&&300>a.status?b:l.reject(b)}var d={transformRequest:h.transformRequest,transformResponse:h.transformResponse},e=function(a){function b(a){var c;k(a,function(b,d){L(b)&&(c=b(),null!=c?a[d]=c:delete a[d])})}var c=h.headers,d=m({},a.headers),
e,f,c=m({},c.common,c[Aa(a.method)]);b(c);b(d);a:for(e in c){a=Aa(e);for(f in d)if(Aa(f)===a)continue a;d[e]=c[e]}return d}(a);m(d,a);d.headers=e;d.method=rb(d.method);(a=Ma(d.url)?b.cookies()[d.xsrfCookieName||h.xsrfCookieName]:f)&&(e[d.xsrfHeaderName||h.xsrfHeaderName]=a);var q=[function(a){e=a.headers;var b=tb(a.data,Ca(e),a.transformRequest);z(a.data)&&k(e,function(a,b){"content-type"===Aa(b)&&delete e[b]});z(a.withCredentials)&&!z(h.withCredentials)&&(a.withCredentials=h.withCredentials);return E(a,
b,e).then(c,c)},f],g=l.when(d);for(k(C,function(a){(a.request||a.requestError)&&q.unshift(a.request,a.requestError);(a.response||a.responseError)&&q.push(a.response,a.responseError)});q.length;){a=q.shift();var n=q.shift(),g=g.then(a,n)}g.success=function(a){g.then(function(b){a(b.data,b.status,b.headers,d)});return g};g.error=function(a){g.then(null,function(b){a(b.data,b.status,b.headers,d)});return g};return g}function E(b,c,e){function f(a,b,c){k&&(200<=a&&300>a?k.put(x,[a,b,Va(c)]):k.remove(x));
q(b,a,c);d.$$phase||d.$apply()}function q(a,c,d){c=Math.max(c,0);(200<=c&&300>c?m.resolve:m.reject)({data:a,status:c,headers:Ca(d),config:b})}function g(){var a=B(A.pendingRequests,b);-1!==a&&A.pendingRequests.splice(a,1)}var m=l.defer(),n=m.promise,k,C,x=y(b.url,b.params);A.pendingRequests.push(b);n.then(g,g);if((b.cache||h.cache)&&!1!==b.cache&&"GET"==b.method)k=K(b.cache)?b.cache:K(h.cache)?h.cache:p;if(k)if(C=k.get(x),s(C)){if(C.then)return C.then(g,g),C;I(C)?q(C[1],C[0],D(C[2])):q(C,200,{})}else k.put(x,
n);z(C)&&a(b.method,x,c,f,e,b.timeout,b.withCredentials,b.responseType);return n}function y(a,b){if(!b)return a;var c=[];e(b,function(a,b){null===a||z(a)||(I(a)||(a=[a]),k(a,function(a){K(a)&&(a=Q(a));c.push(ia(b)+"="+ia(a))}))});return a+(-1==a.indexOf("?")?"?":"&")+c.join("&")}var p=c("$http"),C=[];k(q,function(a){C.unshift(F(a)?n.get(a):n.invoke(a))});k(g,function(a,b){var c=F(a)?n.get(a):n.invoke(a);C.splice(b,0,{response:function(a){return c(l.when(a))},responseError:function(a){return c(l.reject(a))}})});
A.pendingRequests=[];(function(a){k(arguments,function(a){A[a]=function(b,c){return A(m(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){k(arguments,function(a){A[a]=function(b,c,d){return A(m(d||{},{method:a,url:b,data:c}))}})})("post","put");A.defaults=h;return A}]}function ec(){this.$get=["$browser","$window","$document",function(a,b,c){return fc(a,bd,a.defer,b.angular.callbacks,c[0],b.location.protocol.replace(":",""))}]}function fc(a,b,c,d,e,h){function f(a,b){var c=
e.createElement("script"),d=function(){e.body.removeChild(c);b&&b()};c.type="text/javascript";c.src=a;La?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&d()}:c.onload=c.onerror=d;e.body.appendChild(c);return d}return function(e,q,g,l,m,n,A,E){function y(){C=-1;t&&t();B&&B.abort()}function p(b,d,e,f){var g=h||xb(q).protocol;G&&c.cancel(G);t=B=null;d="file"==g?e?200:404:d;b(1223==d?204:d,e,f);a.$$completeOutstandingRequest(v)}var C;a.$$incOutstandingRequestCount();q=q||a.url();
if("jsonp"==Aa(e)){var x="_"+(d.counter++).toString(36);d[x]=function(a){d[x].data=a};var t=f(q.replace("JSON_CALLBACK","angular.callbacks."+x),function(){d[x].data?p(l,200,d[x].data):p(l,C||-2);delete d[x]})}else{var B=new b;B.open(e,q,!0);k(m,function(a,b){s(a)&&B.setRequestHeader(b,a)});B.onreadystatechange=function(){if(4==B.readyState){var a=B.getAllResponseHeaders();p(l,C||B.status,B.responseType?B.response:B.responseText,a)}};A&&(B.withCredentials=!0);E&&(B.responseType=E);B.send(g||null)}if(0<
n)var G=c(y,n);else n&&n.then&&n.then(y)}}function pc(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function h(g,l,m){for(var n,A,k=0,E=[],y=g.length,p=!1,C=[];k<y;)-1!=(n=g.indexOf(a,k))&&-1!=(A=g.indexOf(b,n+f))?(k!=n&&E.push(g.substring(k,n)),E.push(k=c(p=g.substring(n+f,A))),k.exp=p,k=A+q,p=!0):(k!=y&&E.push(g.substring(k)),k=y);if(!(y=E.length))E.push(""),
y=1;if(m&&1<E.length)throw Nc("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",g);if(!l||p)return C.length=y,k=function(a){try{for(var b=0,c=y,h;b<c;b++){if("function"==typeof(h=E[b]))h=h(a),h=m?e.getTrusted(m,h):e.valueOf(h),null===h||z(h)?h="":"string"!=typeof h&&(h=Q(h));C[b]=h}return C.join("")}catch(f){a=Nc("interr","Can't interpolate: {0}\n{1}",
g,f.toString()),d(a)}},k.exp=g,k.parts=E,k}var f=a.length,q=b.length;h.startSymbol=function(){return a};h.endSymbol=function(){return b};return h}]}function Sb(){this.$get=["$rootScope","$window","$q",function(a,b,c){function d(h,f,q,g){var l=b.setInterval,m=b.clearInterval,n=c.defer(),A=n.promise,k=0,E=s(g)&&!g;q=s(q)?q:0;A.then(null,null,h);A.$$intervalId=l(function(){n.notify(k++);0<q&&k>=q&&(n.resolve(k),m(A.$$intervalId),delete e[A.$$intervalId]);E||a.$apply()},f);e[A.$$intervalId]=n;return A}
var e={};d.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1};return d}]}function qc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),
SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function kb(a){a=a.split("/");for(var b=a.length;b--;)a[b]=
sa(a[b]);return a.join("/")}function Tb(a,b,c){a=xb(a,c);b.$$protocol=a.protocol;b.$$host=a.hostname;b.$$port=l(a.port)||dd[a.protocol]||null}function Ub(a,b,c){var d="/"!==a.charAt(0);d&&(a="/"+a);a=xb(a,c);b.$$path=decodeURIComponent(d&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname);b.$$search=wa(a.search);b.$$hash=decodeURIComponent(a.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Xa(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function Hb(a){var b=
a.indexOf("#");return-1==b?a:a.substr(0,b)}function gc(a){return a.substr(0,Hb(a).lastIndexOf("/")+1)}function Lb(a,b){this.$$html5=!0;b=b||"";var c=gc(a);Tb(a,this,a);this.$$parse=function(b){var d=Xa(c,b);if(!F(d))throw Jc("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',b,c);Ub(d,this,a);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=xa(this.$$search),b=this.$$hash?"#"+sa(this.$$hash):"";this.$$url=kb(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};
this.$$rewrite=function(d){var e;if((e=Xa(a,d))!==f)return d=e,(e=Xa(b,e))!==f?c+(Xa("/",e)||e):a+d;if((e=Xa(c,d))!==f)return c+e;if(c==d+"/")return c}}function Bb(a,b){var c=gc(a);Tb(a,this,a);this.$$parse=function(d){var e=Xa(a,d)||Xa(c,d),e="#"==e.charAt(0)?Xa(b,e):this.$$html5?e:"";if(!F(e))throw Jc("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',d,b);Ub(e,this,a);this.$$compose()};this.$$compose=function(){var c=xa(this.$$search),d=this.$$hash?"#"+sa(this.$$hash):"";this.$$url=kb(this.$$path)+
(c?"?"+c:"")+d;this.$$absUrl=a+(this.$$url?b+this.$$url:"")};this.$$rewrite=function(b){if(Hb(a)==Hb(b))return b}}function hc(a,b){this.$$html5=!0;Bb.apply(this,arguments);var c=gc(a);this.$$rewrite=function(d){var e;if(a==Hb(d))return d;if(e=Xa(c,d))return a+b+e;if(c===d+"/")return c}}function vb(a){return function(){return this[a]}}function ub(a,b){return function(c){if(z(c))return this[a];this[a]=b(c);this.$$compose();return this}}function ja(){var a="",b=!1;this.hashPrefix=function(b){return s(b)?
(a=b,this):a};this.html5Mode=function(a){return s(a)?(b=a,this):b};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(d,e,h,f){function q(a){d.$broadcast("$locationChangeSuccess",g.absUrl(),a)}var g,l=e.baseHref(),m=e.url();b?(l=m.substring(0,m.indexOf("/",m.indexOf("//")+2))+(l||"/"),h=h.history?Lb:hc):(l=Hb(m),h=Bb);g=new h(l,"#"+a);g.$$parse(g.$$rewrite(m));f.on("click",function(a){if(!a.ctrlKey&&!(a.metaKey||2==a.which)){for(var b=da(a.target);"a"!==Aa(b[0].nodeName);)if(b[0]===
f[0]||!(b=b.parent())[0])return;var h=b.prop("href"),q=g.$$rewrite(h);h&&(!b.attr("target")&&q&&!a.isDefaultPrevented())&&(a.preventDefault(),q!=e.url()&&(g.$$parse(q),d.$apply(),c.angular["ff-684208-preventDefault"]=!0))}});g.absUrl()!=m&&e.url(g.absUrl(),!0);e.onUrlChange(function(a){g.absUrl()!=a&&(d.$broadcast("$locationChangeStart",a,g.absUrl()).defaultPrevented?e.url(g.absUrl()):(d.$evalAsync(function(){var b=g.absUrl();g.$$parse(a);q(b)}),d.$$phase||d.$digest()))});var n=0;d.$watch(function(){var a=
e.url(),b=g.$$replace;if(!n||a!=g.absUrl())n++,d.$evalAsync(function(){d.$broadcast("$locationChangeStart",g.absUrl(),a).defaultPrevented?g.$$parse(a):(e.url(g.absUrl(),b),q(a))});g.$$replace=!1;return n});return g}]}function ka(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a};this.$get=["$window",function(c){function d(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+
":"+a.line));return a}function e(a){var b=c.console||{},h=b[a]||b.log||v;return h.apply?function(){var a=[];k(arguments,function(b){a.push(d(b))});return h.apply(b,a)}:function(a,b){h(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function ua(a,b){if("constructor"===a)throw bc("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',b);return a}
function ga(a,b){if(a&&a.constructor===a)throw bc("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a&&a.document&&a.location&&a.alert&&a.setInterval)throw bc("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a&&(a.nodeName||a.on&&a.find))throw bc("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);return a}function ra(a,b,c,d,e){e=e||{};b=b.split(".");for(var h,q=0;1<b.length;q++){h=
ua(b.shift(),d);var g=a[h];g||(g={},a[h]=g);a=g;a.then&&e.unwrapPromises&&(Qb(d),"$$v"in a||function(a){a.then(function(b){a.$$v=b})}(a),a.$$v===f&&(a.$$v={}),a=a.$$v)}h=ua(b.shift(),d);return a[h]=c}function $a(a,b,c,d,e,h,q){ua(a,h);ua(b,h);ua(c,h);ua(d,h);ua(e,h);return!q.unwrapPromises?function(h,q){var g=q&&q.hasOwnProperty(a)?q:h;if(null===g||g===f)return g;g=g[a];if(!b||null===g||g===f)return g;g=g[b];if(!c||null===g||g===f)return g;g=g[c];if(!d||null===g||g===f)return g;g=g[d];return!e||null===
g||g===f?g:g=g[e]}:function(q,g){var l=g&&g.hasOwnProperty(a)?g:q,m;if(null===l||l===f)return l;if((l=l[a])&&l.then)Qb(h),"$$v"in l||(m=l,m.$$v=f,m.then(function(a){m.$$v=a})),l=l.$$v;if(!b||null===l||l===f)return l;if((l=l[b])&&l.then)Qb(h),"$$v"in l||(m=l,m.$$v=f,m.then(function(a){m.$$v=a})),l=l.$$v;if(!c||null===l||l===f)return l;if((l=l[c])&&l.then)Qb(h),"$$v"in l||(m=l,m.$$v=f,m.then(function(a){m.$$v=a})),l=l.$$v;if(!d||null===l||l===f)return l;if((l=l[d])&&l.then)Qb(h),"$$v"in l||(m=l,m.$$v=
f,m.then(function(a){m.$$v=a})),l=l.$$v;if(!e||null===l||l===f)return l;if((l=l[e])&&l.then)Qb(h),"$$v"in l||(m=l,m.$$v=f,m.then(function(a){m.$$v=a})),l=l.$$v;return l}}function ab(a,b,c){if(Lc.hasOwnProperty(a))return Lc[a];var d=a.split("."),e=d.length,h;if(b.csp)h=6>e?$a(d[0],d[1],d[2],d[3],d[4],c,b):function(a,h){var q=0,g;do g=$a(d[q++],d[q++],d[q++],d[q++],d[q++],c,b)(a,h),h=f,a=g;while(q<e);return g};else{var q="var l, fn, p;\n";k(d,function(a,d){ua(a,c);q+="if(s === null || s === undefined) return s;\nl=s;\ns="+
(d?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"];\n'+(b.unwrapPromises?'if (s && s.then) {\n pw("'+c.replace(/\"/g,'\\"')+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var q=q+"return s;",g=new Function("s","k","pw",q);g.toString=function(){return q};h=function(a,b){return g(a,b,Qb)}}"hasOwnProperty"!==a&&(Lc[a]=h);return h}function fa(){var a={},b={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(a){return s(a)?
(b.unwrapPromises=!!a,this):b.unwrapPromises};this.logPromiseWarnings=function(a){return s(a)?(b.logPromiseWarnings=a,this):b.logPromiseWarnings};this.$get=["$filter","$sniffer","$log",function(c,d,e){b.csp=d.csp;Qb=function(a){b.logPromiseWarnings&&!Oc.hasOwnProperty(a)&&(Oc[a]=!0,e.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))};return function(d){var e;switch(typeof d){case "string":if(a.hasOwnProperty(d))return a[d];
e=new Kc(b);e=(new vc(e,c,b)).parse(d,!1);"hasOwnProperty"!==d&&(a[d]=e);return e;case "function":return d;default:return v}}}]}function Mb(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return pb(function(b){a.$evalAsync(b)},b)}]}function pb(a,b){function c(a){return a}function d(a){return q(a)}var e=function(){var g=[],l,m;return m={resolve:function(b){if(g){var c=g;g=f;l=h(b);c.length&&a(function(){for(var a,b=0,d=c.length;b<d;b++)a=c[b],l.then(a[0],a[1],a[2])})}},reject:function(a){m.resolve(q(a))},
notify:function(b){if(g){var c=g;g.length&&a(function(){for(var a,d=0,e=c.length;d<e;d++)a=c[d],a[2](b)})}},promise:{then:function(a,h,f){var q=e(),m=function(d){try{q.resolve((L(a)?a:c)(d))}catch(e){q.reject(e),b(e)}},n=function(a){try{q.resolve((L(h)?h:d)(a))}catch(c){q.reject(c),b(c)}},A=function(a){try{q.notify((L(f)?f:c)(a))}catch(d){b(d)}};g?g.push([m,n,A]):l.then(m,n,A);return q.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,c){var d=e();c?d.resolve(a):
d.reject(a);return d.promise}function d(e,h){var f=null;try{f=(a||c)()}catch(q){return b(q,!1)}return f&&L(f.then)?f.then(function(){return b(e,h)},function(a){return b(a,!1)}):b(e,h)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},h=function(b){return b&&L(b.then)?b:{then:function(c){var d=e();a(function(){d.resolve(c(b))});return d.promise}}},q=function(c){return{then:function(h,f){var q=e();a(function(){try{q.resolve((L(f)?f:d)(c))}catch(a){q.reject(a),b(a)}});return q.promise}}};
return{defer:e,reject:q,when:function(f,g,l,m){var n=e(),A,k=function(a){try{return(L(g)?g:c)(a)}catch(d){return b(d),q(d)}},E=function(a){try{return(L(l)?l:d)(a)}catch(c){return b(c),q(c)}},y=function(a){try{return(L(m)?m:c)(a)}catch(d){b(d)}};a(function(){h(f).then(function(a){A||(A=!0,n.resolve(h(a).then(k,E,y)))},function(a){A||(A=!0,n.resolve(E(a)))},function(a){A||n.notify(y(a))})});return n.promise},all:function(a){var b=e(),c=0,d=I(a)?[]:{};k(a,function(a,e){c++;h(a).then(function(a){d.hasOwnProperty(e)||
(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise}}}function kc(){var a=10,c=d("$rootScope");this.digestTtl=function(b){arguments.length&&(a=b);return a};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,e,h,f){function g(){this.$id=n();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this["this"]=this.$root=this;this.$$destroyed=!1;this.$$asyncQueue=
[];this.$$postDigestQueue=[];this.$$listeners={};this.$$isolateBindings={}}function l(a){if(k.$$phase)throw c("inprog","{0} already in progress",k.$$phase);k.$$phase=a}function m(a,b){var c=h(a);q(c,b);return c}function A(){}g.prototype={constructor:g,$new:function(a){a?(a=new g,a.$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=this.$$postDigestQueue):(a=function(){},a.prototype=this,a=new a,a.$id=n());a["this"]=a;a.$$listeners={};a.$parent=this;a.$$watchers=a.$$nextSibling=
a.$$childHead=a.$$childTail=null;a.$$prevSibling=this.$$childTail;this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a;return a},$watch:function(a,b,c){var d=m(a,"watch"),e=this.$$watchers,h={fn:b,last:A,get:d,exp:a,eq:!!c};if(!L(b)){var f=m(b||v,"listener");h.fn=function(a,b,c){f(c)}}if("string"==typeof a&&d.constant){var q=h.fn;h.fn=function(a,b,c){q.call(this,a,b,c);N(e,h)}}e||(e=this.$$watchers=[]);e.unshift(h);return function(){N(e,h)}},$watchCollection:function(a,
c){var d=this,e,f,q=0,g=h(a),l=[],m={},n=0;return this.$watch(function(){f=g(d);var a,c;if(K(f))if(b(f)){e!==l&&(e=l,n=e.length=0,q++);a=f.length;n!==a&&(q++,e.length=n=a);for(c=0;c<a;c++)e[c]!==f[c]&&(q++,e[c]=f[c])}else{e!==m&&(e=m={},n=0,q++);a=0;for(c in f)f.hasOwnProperty(c)&&(a++,e.hasOwnProperty(c)?e[c]!==f[c]&&(q++,e[c]=f[c]):(n++,e[c]=f[c],q++));if(n>a)for(c in q++,e)e.hasOwnProperty(c)&&!f.hasOwnProperty(c)&&(n--,delete e[c])}else e!==f&&(e=f,q++);return q},function(){c(f,e,d)})},$digest:function(){var b,
d,h,f,q=this.$$asyncQueue,g=this.$$postDigestQueue,m,n,E=a,y,p=[],C,x,t;l("$digest");do{n=!1;for(y=this;q.length;)try{t=q.shift(),t.scope.$eval(t.expression)}catch(B){e(B)}do{if(f=y.$$watchers)for(m=f.length;m--;)try{if((b=f[m])&&(d=b.get(y))!==(h=b.last)&&!(b.eq?U(d,h):"number"==typeof d&&"number"==typeof h&&isNaN(d)&&isNaN(h)))n=!0,b.last=b.eq?D(d):d,b.fn(d,h===A?d:h,y),5>E&&(C=4-E,p[C]||(p[C]=[]),x=L(b.exp)?"fn: "+(b.exp.name||b.exp.toString()):b.exp,x+="; newVal: "+Q(d)+"; oldVal: "+Q(h),p[C].push(x))}catch(G){e(G)}if(!(f=
y.$$childHead||y!==this&&y.$$nextSibling))for(;y!==this&&!(f=y.$$nextSibling);)y=y.$parent}while(y=f);if(n&&!E--)throw k.$$phase=null,c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,Q(p));}while(n||q.length);for(k.$$phase=null;g.length;)try{g.shift()()}catch(u){e(u)}},$destroy:function(){if(!(k==this||this.$$destroyed)){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);
a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a){!k.$$phase&&!k.$$asyncQueue.length&&f.defer(function(){k.$$asyncQueue.length&&k.$digest()});this.$$asyncQueue.push({scope:this,expression:a})},
$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return l("$apply"),this.$eval(a)}catch(b){e(b)}finally{k.$$phase=null;try{k.$digest()}catch(c){throw e(c),c;}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);return function(){c[B(c,b)]=null}},$emit:function(a,b){var c=[],d,h=this,f=!1,q={name:a,targetScope:h,stopPropagation:function(){f=!0},preventDefault:function(){q.defaultPrevented=!0},defaultPrevented:!1},g=[q].concat(Eb.call(arguments,
1)),l,m;do{d=h.$$listeners[a]||c;q.currentScope=h;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,g)}catch(n){e(n)}else d.splice(l,1),l--,m--;if(f)break;h=h.$parent}while(h);return q},$broadcast:function(a,b){var c=this,d=this,h={name:a,targetScope:this,preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},f=[h].concat(Eb.call(arguments,1)),q,g;do{c=d;h.currentScope=c;d=c.$$listeners[a]||[];q=0;for(g=d.length;q<g;q++)if(d[q])try{d[q].apply(null,f)}catch(l){e(l)}else d.splice(q,
1),q--,g--;if(!(d=c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}while(c=d);return h}};var k=new g;return k}]}function Pb(a){if("self"===a)return a;if(F(a)){if(-1<a.indexOf("***"))throw Rb("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);a=a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return RegExp("^"+a+"$")}if(J(a))return RegExp("^"+a.source+"$");throw Rb("imatcher",
'Matchers may only be "self", string patterns or RegExp objects');}function Xb(a){var b=[];s(a)&&k(a,function(a){b.push(Pb(a))});return b}function Dc(){this.SCE_CONTEXTS=zb;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=Xb(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=Xb(a));return b};this.$get=["$log","$document","$injector",function(c,d,e){function h(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);
b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var q=function(a){throw Rb("unsafe","Attempting to use an unsafe value in a safe context.");};e.has("$sanitize")&&(q=e.get("$sanitize"));var g=h(),l={};l[zb.HTML]=h(g);l[zb.CSS]=h(g);l[zb.URL]=h(g);l[zb.JS]=h(g);l[zb.RESOURCE_URL]=h(l[zb.URL]);return{trustAs:function(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw Rb("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",
a,b);if(null===b||b===f||""===b)return b;if("string"!==typeof b)throw Rb("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)},getTrusted:function(c,d){if(null===d||d===f||""===d)return d;var e=l.hasOwnProperty(c)?l[c]:null;if(e&&d instanceof e)return d.$$unwrapTrustedValue();if(c===zb.RESOURCE_URL){var e=xb(d.toString()),h,g,m=!1;h=0;for(g=a.length;h<g;h++)if("self"===a[h]?Ma(e):a[h].exec(e.href)){m=!0;break}if(m){h=0;for(g=b.length;h<g;h++)if("self"===
b[h]?Ma(e):b[h].exec(e.href)){m=!1;break}}if(m)return d;throw Rb("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",d.toString());}if(c===zb.HTML)return q(d);throw Rb("unsafe","Attempting to use an unsafe value in a safe context.");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Ob(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$document","$sceDelegate",function(b,c,d){if(a&&
La&&(c=c[0].documentMode,c!==f&&8>c))throw Rb("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=D(zb);e.isEnabled=function(){return a};e.trustAs=d.trustAs;e.getTrusted=d.getTrusted;e.valueOf=d.valueOf;a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=u);e.parseAs=function(a,c){var d=
b(c);return d.literal&&d.constant?d:function(b,c){return e.getTrusted(a,d(b,c))}};var h=e.parseAs,q=e.getTrusted,g=e.trustAs;k(zb,function(a,b){var c=Aa(b);e[ba("parse_as_"+c)]=function(b){return h(a,b)};e[ba("get_trusted_"+c)]=function(b){return q(a,b)};e[ba("trust_as_"+c)]=function(b){return g(a,b)}});return e}]}function Yb(){this.$get=["$window","$document",function(a,b){var c={},d=l((/android (\d+)/.exec(Aa((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),h=
b[0]||{},f,q=/^(Moz|webkit|O|ms)(?=[A-Z])/,g=h.body&&h.body.style,m=!1,n=!1;if(g){for(var A in g)if(m=q.exec(A)){f=m[0];f=f.substr(0,1).toUpperCase()+f.substr(1);break}f||(f="WebkitOpacity"in g&&"webkit");m=!!("transition"in g||f+"Transition"in g);n=!!("animation"in g||f+"Animation"in g);if(d&&(!m||!n))m=F(h.body.style.webkitTransition),n=F(h.body.style.webkitAnimation)}return{history:!(!a.history||!a.history.pushState||4>d||e),hashchange:"onhashchange"in a&&(!h.documentMode||7<h.documentMode),hasEvent:function(a){if("input"==
a&&9==La)return!1;if(z(c[a])){var b=h.createElement("div");c[a]="on"+a in b}return c[a]},csp:Y(),vendorPrefix:f,transitions:m,animations:n,msie:La}}]}function bb(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){function e(f,q,g){var l=c.defer(),m=l.promise,n=s(g)&&!g;q=b.defer(function(){try{l.resolve(f())}catch(b){l.reject(b),d(b)}finally{delete h[m.$$timeoutId]}n||a.$apply()},q);m.$$timeoutId=q;h[q]=l;return m}var h={};e.cancel=function(a){return a&&a.$$timeoutId in
h?(h[a.$$timeoutId].reject("canceled"),delete h[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return e}]}function xb(a,b){var c=a;La&&(nb.setAttribute("href",c),c=nb.href);nb.setAttribute("href",c);var c=nb.pathname,d=a;0===d.indexOf(b)&&(d=d.replace(b,""));Pc.exec(d)||(c=(d=Pc.exec(c))?d[1]:c);c="/"===c.charAt(0)?c:"/"+c;return{href:nb.href,protocol:nb.protocol?nb.protocol.replace(/:$/,""):"",host:nb.host,search:nb.search?nb.search.replace(/^\?/,""):"",hash:nb.hash?nb.hash.replace(/^#/,""):"",
hostname:nb.hostname,port:nb.port,pathname:c}}function Ma(a){a=F(a)?xb(a):a;return a.protocol===Qc.protocol&&a.host===Qc.host}function va(){this.$get=w(c)}function Sa(a){function b(d,e){if(K(d)){var h={};k(d,function(a,c){h[c]=b(c,a)});return h}return a.factory(d+c,e)}var c="Filter";this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}];b("currency",cb);b("date",wb);b("filter",Za);b("json",xc);b("limitTo",Ab);b("lowercase",kd);b("number",Ua);b("orderBy",lc);b("uppercase",
xd)}function Za(){return function(a,b,c){if(!I(a))return a;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0};"function"!==d&&(c="boolean"===d&&c?function(a,b){return ic.equals(a,b)}:function(a,b){b=(""+b).toLowerCase();return-1<(""+a).toLowerCase().indexOf(b)});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case "boolean":case "number":case "string":return c(a,b);case "object":switch(typeof b){case "object":return c(a,
b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case "array":for(d=0;d<a.length;d++)if(f(a[d],b))return!0;return!1;default:return!1}};switch(typeof b){case "boolean":case "number":case "string":b={$:b};case "object":for(var q in b)"$"==q?function(){if(b[q]){var a=q;e.push(function(c){return f(c,b[a])})}}():function(){if("undefined"!=typeof b[q]){var a=q;e.push(function(c){return f(h(c,a),b[a])})}}();break;case "function":e.push(b);break;default:return a}for(var d=[],g=
0;g<a.length;g++){var l=a[g];e.check(l)&&d.push(l)}return d}}function cb(a){var b=a.NUMBER_FORMATS;return function(a,c){z(c)&&(c=b.CURRENCY_SYM);return mb(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,c)}}function Ua(a){var b=a.NUMBER_FORMATS;return function(a,c){return mb(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function mb(a,b,c,d,e){if(isNaN(a)||!isFinite(a))return"";var h=0>a;a=Math.abs(a);var f=a+"",q="",g=[],l=!1;if(-1!==f.indexOf("e")){var m=f.match(/([\d\.]+)e(-?)(\d+)/);
m&&"-"==m[2]&&m[3]>e+1?f="0":(q=f,l=!0)}if(l)0<e&&(-1<a&&1>a)&&(q=a.toFixed(e));else{f=(f.split(Rc)[1]||"").length;z(e)&&(e=Math.min(Math.max(b.minFrac,f),b.maxFrac));f=Math.pow(10,e);a=Math.round(a*f)/f;a=(""+a).split(Rc);f=a[0];a=a[1]||"";var m=0,n=b.lgSize,A=b.gSize;if(f.length>=n+A){m=f.length-n;for(l=0;l<m;l++)0===(m-l)%A&&0!==l&&(q+=c),q+=f.charAt(l)}for(l=m;l<f.length;l++)0===(f.length-l)%n&&0!==l&&(q+=c),q+=f.charAt(l);for(;a.length<e;)a+="0";e&&"0"!==e&&(q+=d+a.substr(0,e))}g.push(h?b.negPre:
b.posPre);g.push(q);g.push(h?b.negSuf:b.posSuf);return g.join("")}function qb(a,b,c){var d="";0>a&&(d="-",a=-a);for(a=""+a;a.length<b;)a="0"+a;c&&(a=a.substr(a.length-b));return d+a}function za(a,b,c,d){c=c||0;return function(e){e=e["get"+a]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return qb(e,b,d)}}function Ja(a,b){return function(c,d){var e=c["get"+a](),h=rb(b?"SHORT"+a:a);return d[h][e]}}function wb(a){function b(a){var d;if(d=a.match(c)){a=new Date(0);var e=0,h=0,f=d[8]?a.setUTCFullYear:a.setFullYear,
q=d[8]?a.setUTCHours:a.setHours;d[9]&&(e=l(d[9]+d[10]),h=l(d[9]+d[11]));f.call(a,l(d[1]),l(d[2])-1,l(d[3]));e=l(d[4]||0)-e;h=l(d[5]||0)-h;f=l(d[6]||0);d=Math.round(1E3*parseFloat("0."+(d[7]||0)));q.call(a,e,h,f,d)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d){var e="",h=[],f,q;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;F(c)&&(c=wd.test(c)?l(c):b(c));H(c)&&(c=new Date(c));if(!y(c))return c;for(;d;)(q=md.exec(d))?
(h=h.concat(Eb.call(q,1)),d=h.pop()):(h.push(d),d=null);k(h,function(b){f=fd[b];e+=f?f(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return e}}function xc(){return function(a){return Q(a,!0)}}function Ab(){return function(a,b){if(!I(a)&&!F(a))return a;b=l(b);if(F(a))return b?0<=b?a.slice(0,b):a.slice(b,a.length):"";var c=[],d,e;b>a.length?b=a.length:b<-a.length&&(b=-a.length);0<b?(d=0,e=b):(d=a.length+b,e=a.length);for(;d<e;d++)c.push(a[d]);return c}}function lc(a){return function(b,
c,d){function e(a,b){return P(b)?function(b,c){return a(c,b)}:a}if(!I(b)||!c)return b;c=I(c)?c:[c];c=C(c,function(b){var c=!1,d=b||u;if(F(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0),b=b.substring(1);d=a(b)}return e(function(a,b){var c;c=d(a);var e=d(b),h=typeof c,f=typeof e;h==f?("string"==h&&(c=c.toLowerCase(),e=e.toLowerCase()),c=c===e?0:c<e?-1:1):c=h<f?-1:1;return c},c)});for(var h=[],f=0;f<b.length;f++)h.push(b[f]);return h.sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=
c[d](a,b);if(0!==e)return e}return 0},d))}}function yb(a){L(a)&&(a={link:a});a.restrict=a.restrict||"AC";return w(a)}function mc(a,b){function c(b,d){d=d?"-"+na(d,"-"):"";a.removeClass((b?Gc:Fc)+d).addClass((b?Fc:Gc)+d)}var d=this,e=a.parent().controller("form")||Ic,h=0,f=d.$error={},q=[];d.$name=b.name||b.ngForm;d.$dirty=!1;d.$pristine=!0;d.$valid=!0;d.$invalid=!1;e.$addControl(d);a.addClass(rc);c(!0);d.$addControl=function(a){A(a.$name,"input");q.push(a);a.$name&&(d[a.$name]=a)};d.$removeControl=
function(a){a.$name&&d[a.$name]===a&&delete d[a.$name];k(f,function(b,c){d.$setValidity(c,!0,a)});N(q,a)};d.$setValidity=function(a,b,q){var g=f[a];if(b)g&&(N(g,q),g.length||(h--,h||(c(b),d.$valid=!0,d.$invalid=!1),f[a]=!1,c(!0,a),e.$setValidity(a,!0,d)));else{h||c(b);if(g){if(-1!=B(g,q))return}else f[a]=g=[],h++,c(!1,a),e.$setValidity(a,!1,d);g.push(q);d.$valid=!1;d.$invalid=!0}};d.$setDirty=function(){a.removeClass(rc).addClass(Hc);d.$dirty=!0;d.$pristine=!1;e.$setDirty()};d.$setPristine=function(){a.removeClass(Hc).addClass(rc);
d.$dirty=!1;d.$pristine=!0;k(q,function(a){a.$setPristine()})}}function $b(a,b,c,e,h,q){var g=function(){var d=b.val();if(P(c.ngTrim||"T"))d=Ya(d);e.$viewValue!==d&&a.$apply(function(){e.$setViewValue(d)})};if(h.hasEvent("input"))b.on("input",g);else{var m,n=function(){m||(m=q.defer(function(){g();m=null}))};b.on("keydown",function(a){a=a.keyCode;91===a||(15<a&&19>a||37<=a&&40>=a)||n()});b.on("change",g);if(h.hasEvent("paste"))b.on("paste cut",n)}e.$render=function(){b.val(e.$isEmpty(e.$viewValue)?
"":e.$viewValue)};var A=c.ngPattern,k=function(a,b){if(e.$isEmpty(b)||a.test(b))return e.$setValidity("pattern",!0),b;e.$setValidity("pattern",!1);return f};A&&((h=A.match(/^\/(.*)\/([gim]*)$/))?(A=RegExp(h[1],h[2]),h=function(a){return k(A,a)}):h=function(c){var e=a.$eval(A);if(!e||!e.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",A,e,ha(b));return k(e,c)},e.$formatters.push(h),e.$parsers.push(h));if(c.ngMinlength){var E=l(c.ngMinlength);h=function(a){if(!e.$isEmpty(a)&&
a.length<E)return e.$setValidity("minlength",!1),f;e.$setValidity("minlength",!0);return a};e.$parsers.push(h);e.$formatters.push(h)}if(c.ngMaxlength){var y=l(c.ngMaxlength);h=function(a){if(!e.$isEmpty(a)&&a.length>y)return e.$setValidity("maxlength",!1),f;e.$setValidity("maxlength",!0);return a};e.$parsers.push(h);e.$formatters.push(h)}}function Ib(a,b){a="ngClass"+a;return function(){return{restrict:"AC",link:function(c,d,e){function h(a){if(!0===b||c.$index%2===b)q&&!U(a,q)&&e.$removeClass(f(q)),
e.$addClass(f(a));q=D(a)}function f(a){if(I(a))return a.join(" ");if(K(a)){var b=[];k(a,function(a,c){a&&b.push(c)});return b.join(" ")}return a}var q;c.$watch(e[a],h,!0);e.$observe("class",function(b){h(c.$eval(e[a]))});"ngClass"!==a&&c.$watch("$index",function(d,h){var q=d&1;q!==h&1&&(q===b?(q=c.$eval(e[a]),e.$addClass(f(q))):(q=c.$eval(e[a]),e.$removeClass(f(q))))})}}}}var Aa=function(a){return F(a)?a.toLowerCase():a},rb=function(a){return F(a)?a.toUpperCase():a},La,da,Db,Eb=[].slice,Ec=[].push,
Zb=Object.prototype.toString,Vb=d("ng"),ic=c.angular||(c.angular={}),Wb,Nb,Ha=["0","0","0"];La=l((/msie (\d+)/.exec(Aa(navigator.userAgent))||[])[1]);isNaN(La)&&(La=l((/trident\/.*; rv:(\d+)/.exec(Aa(navigator.userAgent))||[])[1]));v.$inject=[];u.$inject=[];var Ya=function(){return!String.prototype.trim?function(a){return F(a)?a.replace(/^\s*/,"").replace(/\s*$/,""):a}:function(a){return F(a)?a.trim():a}}();Nb=9>La?function(a){a=a.nodeName?a:a[0];return a.scopeName&&"HTML"!=a.scopeName?rb(a.scopeName+
":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var oc=/[A-Z]/g,tc={full:"1.2.1",major:1,minor:2,dot:1,codeName:"underscore-empathy"},Jb=ca.cache={},dc=ca.expando="ng-"+(new Date).getTime(),uc=1,cc=c.document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},ac=c.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},wc=/([\:\-\_]+(.))/g,Ea=/^moz([A-Z])/,
Gb=d("jqLite"),Fb=ca.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===r.readyState?setTimeout(b):(this.on("DOMContentLoaded",b),ca(c).on("load",b))},toString:function(){var a=[];k(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?da(this[a]):da(this[this.length+a])},length:0,push:Ec,sort:[].sort,splice:[].splice},jc={};k("multiple selected checked disabled readOnly required open".split(" "),function(a){jc[Aa(a)]=a});var yc={};k("input select option textarea button form details".split(" "),
function(a){yc[rb(a)]=!0});k({data:X,inheritedData:Ga,scope:function(a){return da(a).data("$scope")||Ga(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return da(a).data("$isolateScope")||da(a).data("$isolateScopeNoTemplate")},controller:sb,injector:function(a){return Ga(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ba,css:function(a,b,c){b=ba(b);if(s(c))a.style[b]=c;else{var d;8>=La&&(d=a.currentStyle&&a.currentStyle[b],""===d&&(d="auto"));d=d||a.style[b];
8>=La&&(d=""===d?f:d);return d}},attr:function(a,b,c){var d=Aa(b);if(jc[d])if(s(c))c?(a[b]=!0,a.setAttribute(b,d)):(a[b]=!1,a.removeAttribute(d));else return a[b]||(a.attributes.getNamedItem(b)||v).specified?d:f;else if(s(c))a.setAttribute(b,c);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?f:a},prop:function(a,b,c){if(s(c))a[b]=c;else return a[b]},text:function(){function a(c,d){var e=b[c.nodeType];if(z(d))return e?c[e]:"";c[e]=d}var b=[];9>La?(b[1]="innerText",b[3]="nodeValue"):b[1]=
b[3]="textContent";a.$dv="";return a}(),val:function(a,b){if(z(b)){if("SELECT"===Nb(a)&&a.multiple){var c=[];k(a.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(z(b))return a.innerHTML;for(var c=0,d=a.childNodes;c<d.length;c++)ta(d[c]);a.innerHTML=b}},function(a,b){ca.prototype[b]=function(b,c){var d,e;if((2==a.length&&a!==Ba&&a!==sb?b:c)===f){if(K(b)){for(d=0;d<this.length;d++)if(a===X)a(this[d],b);else for(e in b)a(this[d],
e,b[e]);return this}d=a.$dv;e=d===f?Math.min(this.length,1):this.length;for(var h=0;h<e;h++){var q=a(this[h],b,c);d=d?d+q:q}return d}for(d=0;d<this.length;d++)a(this[d],b,c);return this}});k({removeData:Fa,dealoc:ta,on:function lb(a,b,c,d){if(s(d))throw Gb("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var e=Z(a,"events"),h=Z(a,"handle");e||Z(a,"events",e={});h||Z(a,"handle",h=gb(a,e));k(b.split(" "),function(b){var d=e[b];if(!d){if("mouseenter"==b||"mouseleave"==
b){var f=r.body.contains||r.body.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||!(1===d.nodeType&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};e[b]=[];lb(a,{mouseleave:"mouseout",mouseenter:"mouseover"}[b],function(a){var c=a.relatedTarget;(!c||c!==this&&!f(this,c))&&h(a,b)})}else cc(a,b,h),e[b]=[];d=e[b]}d.push(c)})},
off:R,replaceWith:function(a,b){var c,d=a.parentNode;ta(a);k(new ca(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a);c=b})},children:function(a){var b=[];k(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.childNodes||[]},append:function(a,b){k(new ca(b),function(b){(1===a.nodeType||11===a.nodeType)&&a.appendChild(b)})},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;k(new ca(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,
b){b=da(b)[0];var c=a.parentNode;c&&c.replaceChild(b,a);b.appendChild(a)},remove:function(a){ta(a);var b=a.parentNode;b&&b.removeChild(a)},after:function(a,b){var c=a,d=a.parentNode;k(new ca(b),function(a){d.insertBefore(a,c.nextSibling);c=a})},addClass:V,removeClass:Da,toggleClass:function(a,b,c){z(c)&&(c=!Ba(a,b));(c?V:Da)(a,b)},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(a=a.nextSibling;null!=a&&1!==
a.nodeType;)a=a.nextSibling;return a},find:function(a,b){return a.getElementsByTagName(b)},clone:Ta,triggerHandler:function(a,b,c){b=(Z(a,"events")||{})[b];c=c||[];var d=[{preventDefault:v,stopPropagation:v}];k(b,function(b){b.apply(a,d.concat(c))})}},function(a,b){ca.prototype[b]=function(b,c,d){for(var e,h=0;h<this.length;h++)z(e)?(e=a(this[h],b,c,d),s(e)&&(e=da(e))):T(e,a(this[h],b,c,d));return s(e)?e:this};ca.prototype.bind=ca.prototype.on;ca.prototype.unbind=ca.prototype.off});db.prototype={put:function(a,
b){this[Na(a)]=b},get:function(a){return this[Na(a)]},remove:function(a){var b=this[a=Na(a)];delete this[a];return b}};var zc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Ac=/,/,Xc=/^\s*(_?)(\S+?)\1\s*$/,Zc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,sc=d("$injector"),Yc=d("$animate"),$c=["$provide",function(a){this.$$selectors={};this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw Yc("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d;a.factory(d,
c)};this.$get=["$timeout",function(a){return{enter:function(b,c,d,e){d=d&&d[d.length-1];var h=c&&c[0]||d&&d.parentNode,f=d&&d.nextSibling||null;k(b,function(a){h.insertBefore(a,f)});e&&a(e,0,!1)},leave:function(b,c){b.remove();c&&a(c,0,!1)},move:function(a,b,c,d){this.enter(a,b,c,d)},addClass:function(b,c,d){c=F(c)?c:I(c)?c.join(" "):"";k(b,function(a){V(a,c)});d&&a(d,0,!1)},removeClass:function(b,c,d){c=F(c)?c:I(c)?c.join(" "):"";k(b,function(a){Da(a,c)});d&&a(d,0,!1)},enabled:v}}]}],Cb=d("$compile");
Kb.$inject=["$provide"];var ad=/^(x[\:\-_]|data[\:\-_])/i,bd=c.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw d("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.");},Nc=d("$interpolate"),cd=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,dd={http:80,https:443,ftp:21},Jc=d("$location");hc.prototype=Bb.prototype=Lb.prototype={$$html5:!1,
$$replace:!1,absUrl:vb("$$absUrl"),url:function(a,b){if(z(a))return this.$$url;var c=cd.exec(a);c[1]&&this.path(decodeURIComponent(c[1]));if(c[2]||c[1])this.search(c[3]||"");this.hash(c[5]||"",b);return this},protocol:vb("$$protocol"),host:vb("$$host"),port:vb("$$port"),path:ub("$$path",function(a){return"/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(F(a))this.$$search=wa(a);else if(K(a))this.$$search=a;else throw Jc("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");
break;default:z(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:ub("$$hash",u),replace:function(){this.$$replace=!0;return this}};var bc=d("$parse"),Oc={},Qb,nc={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:v,"+":function(a,b,c,d){c=c(a,b);d=d(a,b);return s(c)?s(d)?c+d:c:s(d)?d:f},"-":function(a,b,c,d){c=c(a,b);d=d(a,b);return(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,
b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":v,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,
b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}},ed={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Kc=function(a){this.options=a};Kc.prototype={constructor:Kc,lex:function(a){this.text=a;this.index=0;this.ch=f;this.lastCh=":";this.tokens=[];var b;for(a=[];this.index<this.text.length;){this.ch=this.text.charAt(this.index);if(this.is("\"'"))this.readString(this.ch);
else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch)){if(this.readIdent(),this.was("{,")&&"{"===a[0]&&(b=this.tokens[this.tokens.length-1]))b.json=-1===b.text.indexOf(".")}else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&a.unshift(this.ch),this.is("}]")&&a.shift(),this.index++;else if(this.isWhitespace(this.ch)){this.index++;continue}else{var c=
this.ch+this.peek(),d=c+this.peek(2),e=nc[this.ch],h=nc[c],q=nc[d];q?(this.tokens.push({index:this.index,text:d,fn:q}),this.index+=3):h?(this.tokens.push({index:this.index,text:c,fn:h}),this.index+=2):e?(this.tokens.push({index:this.index,text:this.ch,fn:e,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},
peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;b=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw bc("lexerr",
"Lexer Error: {0} at column{1} in expression [{2}].",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Aa(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else if(this.isExpOperator(c)&&(!d||!this.isNumber(d))&&"e"==a.charAt(a.length-1))this.throwError("Invalid exponent");else break}this.index++}a*=
1;this.tokens.push({index:b,text:a,json:!0,fn:function(){return a}})},readIdent:function(){for(var a=this,b="",c=this.index,d,e,h,f;this.index<this.text.length;){f=this.text.charAt(this.index);if("."===f||this.isIdent(f)||this.isNumber(f))"."===f&&(d=this.index),b+=f;else break;this.index++}if(d)for(e=this.index;e<this.text.length;){f=this.text.charAt(e);if("("===f){h=b.substr(d-c+1);b=b.substr(0,d-c);this.index=e;break}if(this.isWhitespace(f))e++;else break}c={index:c,text:b};if(nc.hasOwnProperty(b))c.fn=
nc[b],c.json=nc[b];else{var q=ab(b,this.options,this.text);c.fn=m(function(a,b){return q(a,b)},{assign:function(c,d){return ra(c,b,d,a.text,a.options)}})}this.tokens.push(c);h&&(this.tokens.push({index:d,text:".",json:!1}),this.tokens.push({index:d+1,text:h,json:!1}))},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var h=this.text.charAt(this.index),d=d+h;if(e)"u"===h?(h=this.text.substring(this.index+1,this.index+5),h.match(/[\da-f]{4}/i)||
this.throwError("Invalid unicode escape [\\u"+h+"]"),this.index+=4,c+=String.fromCharCode(parseInt(h,16))):c=(e=ed[h])?c+e:c+h,e=!1;else if("\\"===h)e=!0;else{if(h===a){this.index++;this.tokens.push({index:b,text:d,string:c,json:!0,fn:function(){return c}});return}c+=h}this.index++}this.throwError("Unterminated quote",b)}};var vc=function(a,b,c){this.lexer=a;this.$filter=b;this.options=c};vc.ZERO=function(){return 0};vc.prototype={constructor:vc,parse:function(a,b){this.text=a;this.json=b;this.tokens=
this.lexer.lex(a);b&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:a,index:0})});var c=b?this.primary():this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);c.literal=!!c.literal;c.constant=!!c.constant;return c},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();
else if(this.expect("{"))a=this.object();else{var b=this.expect();(a=b.fn)||this.throwError("not a primary expression",b);b.json&&(a.constant=!0,a.literal=!0)}for(var c;b=this.expect("(","[",".");)"("===b.text?(a=this.functionCall(a,c),c=null):"["===b.text?(c=a,a=this.objectIndex(a)):"."===b.text?(c=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw bc("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,
a,b.index+1,this.text,this.text.substring(b.index));},peekToken:function(){if(0===this.tokens.length)throw bc("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(0<this.tokens.length){var e=this.tokens[0],h=e.text;if(h===a||h===b||h===c||h===d||!a&&!b&&!c&&!d)return e}return!1},expect:function(a,b,c,d){return(a=this.peek(a,b,c,d))?(this.json&&!a.json&&this.throwError("is not valid json",a),this.tokens.shift(),a):!1},consume:function(a){this.expect(a)||
this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,b){return m(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return m(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return m(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===
a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var h=a[e];h&&(d=h(b,c))}return d}},filterChain:function(){for(var a=this.expression(),b;;)if(b=this.expect("|"))a=this.binaryFn(a,b.fn,this.filter());else return a},filter:function(){for(var a=this.expect(),b=this.$filter(a.text),c=[];;)if(a=this.expect(":"))c.push(this.expression());else{var d=function(a,d,e){e=[e];for(var h=0;h<c.length;h++)e.push(c[h](a,d));return b.apply(a,e)};return function(){return d}}},expression:function(){return this.assignment()},
assignment:function(){var a=this.ternary(),b,c;return(c=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,c.index)+"] can not be assigned to",c),b=this.ternary(),function(c,d){return a.assign(c,b(c,d),d)}):a},ternary:function(){var a=this.logicalOR(),b,c;if(this.expect("?")){b=this.ternary();if(c=this.expect(":"))return this.ternaryFn(a,b,this.ternary());this.throwError("expected :",c)}else return a},logicalOR:function(){for(var a=this.logicalAND(),b;;)if(b=
this.expect("||"))a=this.binaryFn(a,b.fn,this.logicalAND());else return a},logicalAND:function(){var a=this.equality(),b;if(b=this.expect("&&"))a=this.binaryFn(a,b.fn,this.logicalAND());return a},equality:function(){var a=this.relational(),b;if(b=this.expect("==","!=","===","!=="))a=this.binaryFn(a,b.fn,this.equality());return a},relational:function(){var a=this.additive(),b;if(b=this.expect("<",">","<=",">="))a=this.binaryFn(a,b.fn,this.relational());return a},additive:function(){for(var a=this.multiplicative(),
b;b=this.expect("+","-");)a=this.binaryFn(a,b.fn,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a=this.binaryFn(a,b.fn,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(vc.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var b=this,c=this.expect().text,d=ab(c,this.options,this.text);return m(function(b,
c,e){return d(e||a(b,c),c)},{assign:function(d,e,h){return ra(a(d,h),c,e,b.text,b.options)}})},objectIndex:function(a){var b=this,c=this.expression();this.consume("]");return m(function(d,e){var h=a(d,e),q=c(d,e),g;if(!h)return f;if((h=ga(h[q],b.text))&&h.then&&b.options.unwrapPromises)g=h,"$$v"in h||(g.$$v=f,g.then(function(a){g.$$v=a})),h=h.$$v;return h},{assign:function(d,e,h){var f=c(d,h);return ga(a(d,h),b.text)[f]=e}})},functionCall:function(a,b){var c=[];if(")"!==this.peekToken().text){do c.push(this.expression());
while(this.expect(","))}this.consume(")");var d=this;return function(e,h){for(var f=[],q=b?b(e,h):e,g=0;g<c.length;g++)f.push(c[g](e,h));g=a(e,h,q)||v;ga(q,d.text);ga(g,d.text);f=g.apply?g.apply(q,f):g(f[0],f[1],f[2],f[3],f[4]);return ga(f,d.text)}},arrayDeclaration:function(){var a=[],b=!0;if("]"!==this.peekToken().text){do{var c=this.expression();a.push(c);c.constant||(b=!1)}while(this.expect(","))}this.consume("]");return m(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},
{literal:!0,constant:b})},object:function(){var a=[],b=!0;if("}"!==this.peekToken().text){do{var c=this.expect(),c=c.string||c.text;this.consume(":");var d=this.expression();a.push({key:c,value:d});d.constant||(b=!1)}while(this.expect(","))}this.consume("}");return m(function(b,c){for(var d={},e=0;e<a.length;e++){var h=a[e];d[h.key]=h.value(b,c)}return d},{literal:!0,constant:b})}};var Lc={},Rb=d("$sce"),zb={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},nb=r.createElement("a"),
Pc=/^\/?.*?:(\/.*)/,Qc=xb(c.location.href,!0);Sa.$inject=["$provide"];cb.$inject=["$locale"];Ua.$inject=["$locale"];var Rc=".",fd={yyyy:za("FullYear",4),yy:za("FullYear",2,0,!0),y:za("FullYear",1),MMMM:Ja("Month"),MMM:Ja("Month",!0),MM:za("Month",2,1),M:za("Month",1,1),dd:za("Date",2),d:za("Date",1),HH:za("Hours",2),H:za("Hours",1),hh:za("Hours",2,-12),h:za("Hours",1,-12),mm:za("Minutes",2),m:za("Minutes",1),ss:za("Seconds",2),s:za("Seconds",1),sss:za("Milliseconds",3),EEEE:Ja("Day"),EEE:Ja("Day",
!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?"+":"")+(qb(Math[0<a?"floor":"ceil"](a/60),2)+qb(Math.abs(a%60),2))}},md=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,wd=/^\-?\d+$/;wb.$inject=["$locale"];var kd=w(Aa),xd=w(rb);lc.$inject=["$parse"];var yd=w({restrict:"E",compile:function(a,b){8>=La&&(!b.href&&!b.name&&b.$set("href",""),a.append(r.createComment("IE fix")));return function(a,b){b.on("click",
function(a){b.attr("href")||a.preventDefault()})}}}),Mc={};k(jc,function(a,b){if("multiple"!=a){var c=Ra("ng-"+b);Mc[c]=function(){return{priority:100,compile:function(){return function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}});k(["src","srcset","href"],function(a){var b=Ra("ng-"+a);Mc[b]=function(){return{priority:99,link:function(c,d,e){e.$observe(b,function(b){b&&(e.$set(a,b),La&&d.prop(a,e[a]))})}}}});var Ic={$addControl:v,$removeControl:v,$setValidity:v,$setDirty:v,$setPristine:v};
mc.$inject=["$element","$attrs","$scope"];var Uc=function(a){return["$timeout",function(b){return{name:"form",restrict:a?"EAC":"E",controller:mc,compile:function(){return{pre:function(a,c,d,e){if(!d.action){var h=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};cc(c[0],"submit",h);c.on("$destroy",function(){b(function(){ac(c[0],"submit",h)},0,!1)})}var q=c.parent().controller("form"),g=d.name||d.ngForm;g&&ra(a,g,e,g);if(q)c.on("$destroy",function(){q.$removeControl(e);g&&ra(a,g,f,
g);m(e,Ic)})}}}}}]},zd=Uc(),gd=Uc(!0),hd=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,id=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,jd=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Sc={text:$b,number:function(a,b,c,d,e,h){$b(a,b,c,d,e,h);d.$parsers.push(function(a){var b=d.$isEmpty(a);if(b||jd.test(a))return d.$setValidity("number",!0),""===a?null:b?a:parseFloat(a);d.$setValidity("number",!1);return f});d.$formatters.push(function(a){return d.$isEmpty(a)?"":
""+a});c.min&&(a=function(a){var b=parseFloat(c.min);if(!d.$isEmpty(a)&&a<b)return d.$setValidity("min",!1),f;d.$setValidity("min",!0);return a},d.$parsers.push(a),d.$formatters.push(a));c.max&&(a=function(a){var b=parseFloat(c.max);if(!d.$isEmpty(a)&&a>b)return d.$setValidity("max",!1),f;d.$setValidity("max",!0);return a},d.$parsers.push(a),d.$formatters.push(a));d.$formatters.push(function(a){if(d.$isEmpty(a)||H(a))return d.$setValidity("number",!0),a;d.$setValidity("number",!1);return f})},url:function(a,
b,c,d,e,h){$b(a,b,c,d,e,h);a=function(a){if(d.$isEmpty(a)||hd.test(a))return d.$setValidity("url",!0),a;d.$setValidity("url",!1);return f};d.$formatters.push(a);d.$parsers.push(a)},email:function(a,b,c,d,e,h){$b(a,b,c,d,e,h);a=function(a){if(d.$isEmpty(a)||id.test(a))return d.$setValidity("email",!0),a;d.$setValidity("email",!1);return f};d.$formatters.push(a);d.$parsers.push(a)},radio:function(a,b,c,d){z(c.name)&&b.attr("name",n());b.on("click",function(){b[0].checked&&a.$apply(function(){d.$setViewValue(c.value)})});
d.$render=function(){b[0].checked=c.value==d.$viewValue};c.$observe("value",d.$render)},checkbox:function(a,b,c,d){var e=c.ngTrueValue,h=c.ngFalseValue;F(e)||(e=!0);F(h)||(h=!1);b.on("click",function(){a.$apply(function(){d.$setViewValue(b[0].checked)})});d.$render=function(){b[0].checked=d.$viewValue};d.$isEmpty=function(a){return a!==e};d.$formatters.push(function(a){return a===e});d.$parsers.push(function(a){return a?e:h})},hidden:v,button:v,submit:v,reset:v},Tc=["$browser","$sniffer",function(a,
b){return{restrict:"E",require:"?ngModel",link:function(c,d,e,h){h&&(Sc[Aa(e.type)]||Sc.text)(c,d,e,h,b,a)}}}],Fc="ng-valid",Gc="ng-invalid",rc="ng-pristine",Hc="ng-dirty",ld=["$scope","$exceptionHandler","$attrs","$element","$parse",function(a,b,c,e,h){function f(a,b){b=b?"-"+na(b,"-"):"";e.removeClass((a?Gc:Fc)+b).addClass((a?Fc:Gc)+b)}this.$modelValue=this.$viewValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=
!1;this.$name=c.name;var q=h(c.ngModel),g=q.assign;if(!g)throw d("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,ha(e));this.$render=v;this.$isEmpty=function(a){return z(a)||""===a||null===a||a!==a};var l=e.inheritedData("$formController")||Ic,m=0,n=this.$error={};e.addClass(rc);f(!0);this.$setValidity=function(a,b){n[a]!==!b&&(b?(n[a]&&m--,m||(f(!0),this.$valid=!0,this.$invalid=!1)):(f(!1),this.$invalid=!0,this.$valid=!1,m++),n[a]=!b,f(b,a),l.$setValidity(a,b,
this))};this.$setPristine=function(){this.$dirty=!1;this.$pristine=!0;e.removeClass(Hc).addClass(rc)};this.$setViewValue=function(c){this.$viewValue=c;this.$pristine&&(this.$dirty=!0,this.$pristine=!1,e.removeClass(rc).addClass(Hc),l.$setDirty());k(this.$parsers,function(a){c=a(c)});this.$modelValue!==c&&(this.$modelValue=c,g(a,c),k(this.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}}))};var A=this;a.$watch(function(){var b=q(a);if(A.$modelValue!==b){var c=A.$formatters,d=c.length;for(A.$modelValue=
b;d--;)b=c[d](b);A.$viewValue!==b&&(A.$viewValue=b,A.$render())}})}],nd=function(){return{require:["ngModel","^?form"],controller:ld,link:function(a,b,c,d){var e=d[0],h=d[1]||Ic;h.$addControl(e);a.$on("$destroy",function(){h.$removeControl(e)})}}},od=w({require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Vc=function(){return{require:"?ngModel",link:function(a,b,c,d){if(d){c.required=!0;var e=function(a){if(c.required&&d.$isEmpty(a))d.$setValidity("required",
!1);else return d.$setValidity("required",!0),a};d.$formatters.push(e);d.$parsers.unshift(e);c.$observe("required",function(){e(d.$viewValue)})}}}},pd=function(){return{require:"ngModel",link:function(a,b,c,d){var e=(a=/\/(.*)\//.exec(c.ngList))&&RegExp(a[1])||c.ngList||",";d.$parsers.push(function(a){if(!z(a)){var b=[];a&&k(a.split(e),function(a){a&&b.push(Ya(a))});return b}});d.$formatters.push(function(a){return I(a)?a.join(", "):f});d.$isEmpty=function(a){return!a||!a.length}}}},qd=/^(true|false|\d+)$/,
rd=function(){return{priority:100,compile:function(a,b){return qd.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},sd=yb(function(a,b,c){b.addClass("ng-binding").data("$binding",c.ngBind);a.$watch(c.ngBind,function(a){b.text(a==f?"":a)})}),td=["$interpolate",function(a){return function(b,c,d){b=a(c.attr(d.$attr.ngBindTemplate));c.addClass("ng-binding").data("$binding",b);d.$observe("ngBindTemplate",function(a){c.text(a)})}}],
ud=["$sce","$parse",function(a,b){return function(c,d,e){d.addClass("ng-binding").data("$binding",e.ngBindHtml);var h=b(e.ngBindHtml);c.$watch(function(){return(h(c)||"").toString()},function(b){d.html(a.getTrustedHtml(h(c))||"")})}}],vd=Ib("",!0),Dd=Ib("Odd",0),Ed=Ib("Even",1),Fd=yb({compile:function(a,b){b.$set("ngCloak",f);a.removeClass("ng-cloak")}}),Gd=[function(){return{scope:!0,controller:"@"}}],Wc={};k("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var b=Ra("ng-"+a);Wc[b]=["$parse",function(c){return{compile:function(d,e){var h=c(e[b]);return function(b,c,d){c.on(Aa(a),function(a){b.$apply(function(){h(b,{$event:a})})})}}}}]});var Hd=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(b,c,d,e,h){var f,q;b.$watch(d.ngIf,function(e){P(e)?q||(q=b.$new(),h(q,function(b){f={startNode:b[0],endNode:b[b.length++]=r.createComment(" end ngIf: "+d.ngIf+" ")};a.enter(b,c.parent(),
c)})):(q&&(q.$destroy(),q=null),f&&(a.leave(E(f)),f=null))})}}}],Id=["$http","$templateCache","$anchorScroll","$compile","$animate","$sce",function(a,b,c,d,e,h){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",compile:function(f,q){var g=q.ngInclude||q.src,l=q.onload||"",m=q.autoscroll;return function(f,q,n,A,k){var E=0,y,p,C=function(){y&&(y.$destroy(),y=null);p&&(e.leave(p),p=null)};f.$watch(h.parseAsResourceUrl(g),function(h){var g=function(){s(m)&&(!m||f.$eval(m))&&c()},n=++E;
h?(a.get(h,{cache:b}).success(function(a){if(n===E){var b=f.$new();k(b,function(c){C();y=b;p=c;p.html(a);e.enter(p,null,q,g);d(p.contents())(y);y.$emit("$includeContentLoaded");f.$eval(l)})}}).error(function(){n===E&&C()}),f.$emit("$includeContentRequested")):C()})}}}}],Jd=yb({compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),Kd=yb({terminal:!0,priority:1E3}),Ld=["$locale","$interpolate",function(a,b){var c=/{}/g;return{restrict:"EA",link:function(d,e,h){var f=h.count,q=h.$attr.when&&
e.attr(h.$attr.when),g=h.offset||0,l=d.$eval(q)||{},m={},n=b.startSymbol(),A=b.endSymbol(),E=/^when(Minus)?(.+)$/;k(h,function(a,b){E.test(b)&&(l[Aa(b.replace("when","").replace("Minus","-"))]=e.attr(h.$attr[b]))});k(l,function(a,d){m[d]=b(a.replace(c,n+f+"-"+g+A))});d.$watch(function(){var b=parseFloat(d.$eval(f));if(isNaN(b))return"";b in l||(b=a.pluralCat(b-g));return m[b](d,e,!0)},function(a){e.text(a)})}}}],Md=["$parse","$animate",function(a,c){var e=d("ngRepeat");return{transclude:"element",
priority:1E3,terminal:!0,$$tlb:!0,link:function(d,h,f,q,g){var l=f.ngRepeat,m=l.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),n,y,p,C,x,t,B={$id:Na};if(!m)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",l);f=m[1];q=m[2];(m=m[4])?(n=a(m),y=function(a,b,c){t&&(B[t]=a);B[x]=b;B.$index=c;return n(d,B)}):(p=function(a,b){return Na(b)},C=function(a){return a});m=f.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!m)throw e("iidexp",
"'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",f);x=m[3]||m[1];t=m[2];var G={};d.$watchCollection(q,function(a){var f,q,m=h[0],n,B={},u,V,T,v,s,I,N=[];if(b(a))s=a,n=y||p;else{n=y||C;s=[];for(T in a)a.hasOwnProperty(T)&&"$"!=T.charAt(0)&&s.push(T);s.sort()}u=s.length;q=N.length=s.length;for(f=0;f<q;f++)if(T=a===s?f:s[f],v=a[T],v=n(T,v,f),A(v,"`track by` id"),G.hasOwnProperty(v))I=G[v],delete G[v],B[v]=I,N[f]=I;else{if(B.hasOwnProperty(v))throw k(N,
function(a){a&&a.startNode&&(G[a.id]=a)}),e("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",l,v);N[f]={id:v};B[v]=!1}for(T in G)G.hasOwnProperty(T)&&(I=G[T],f=E(I),c.leave(f),k(f,function(a){a.$$NG_REMOVED=!0}),I.scope.$destroy());f=0;for(q=s.length;f<q;f++){T=a===s?f:s[f];v=a[T];I=N[f];N[f-1]&&(m=N[f-1].endNode);if(I.startNode){V=I.scope;n=m;do n=n.nextSibling;while(n&&n.$$NG_REMOVED);I.startNode!=n&&c.move(E(I),
null,da(m));m=I.endNode}else V=d.$new();V[x]=v;t&&(V[t]=T);V.$index=f;V.$first=0===f;V.$last=f===u-1;V.$middle=!(V.$first||V.$last);V.$odd=!(V.$even=0===(f&1));I.startNode||g(V,function(a){a[a.length++]=r.createComment(" end ngRepeat: "+l+" ");c.enter(a,null,da(m));m=a;I.scope=V;I.startNode=m&&m.endNode?m.endNode:a[0];I.endNode=a[a.length-1];B[I.id]=I})}G=B})}}}],Nd=["$animate",function(a){return function(b,c,d){b.$watch(d.ngShow,function(b){a[P(b)?"removeClass":"addClass"](c,"ng-hide")})}}],Od=["$animate",
function(a){return function(b,c,d){b.$watch(d.ngHide,function(b){a[P(b)?"addClass":"removeClass"](c,"ng-hide")})}}],Pd=yb(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&k(c,function(a,c){b.css(c,"")});a&&b.css(a)},!0)}),Qd=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,c,d,e){var h,f,q=[];b.$watch(d.ngSwitch||d.on,function(c){for(var g=0,l=q.length;g<l;g++)q[g].$destroy(),a.leave(f[g]);f=[];q=[];if(h=e.cases["!"+
c]||e.cases["?"])b.$eval(d.change),k(h,function(c){var d=b.$new();q.push(d);c.transclude(d,function(b){var d=c.element;f.push(b);a.enter(b,d.parent(),d)})})})}}}],Rd=yb({transclude:"element",priority:800,require:"^ngSwitch",compile:function(a,b){return function(a,c,d,e,h){e.cases["!"+b.ngSwitchWhen]=e.cases["!"+b.ngSwitchWhen]||[];e.cases["!"+b.ngSwitchWhen].push({transclude:h,element:c})}}}),Sd=yb({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||
[];d.cases["?"].push({transclude:e,element:b})}}),Td=yb({controller:["$element","$transclude",function(a,b){if(!b)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ha(a));this.$transclude=b}],link:function(a,b,c,d){d.$transclude(function(a){b.html("");b.append(a)})}}),Ud=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){"text/ng-template"==c.type&&a.put(c.id,
b[0].text)}}}],Vd=d("ngOptions"),Wd=w({terminal:!0}),Xd=["$compile","$parse",function(b,c){var d=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,e={$setViewValue:v};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d=this,h={},f=e,q;d.databound=c.ngModel;d.init=function(a,b,c){f=a;q=c};d.addOption=function(b){A(b,
'"option value"');h[b]=!0;f.$viewValue==b&&(a.val(b),q.parent()&&q.remove())};d.removeOption=function(a){this.hasOption(a)&&(delete h[a],f.$viewValue==a&&this.renderUnknownOption(a))};d.renderUnknownOption=function(b){b="? "+Na(b)+" ?";q.val(b);a.prepend(q);a.val(b);q.prop("selected",!0)};d.hasOption=function(a){return h.hasOwnProperty(a)};b.$on("$destroy",function(){d.renderUnknownOption=v})}],link:function(e,h,q,g){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(G.parent()&&
G.remove(),b.val(a),""===a&&x.prop("selected",!0)):z(a)&&x?b.val(""):d.renderUnknownOption(a)};b.on("change",function(){a.$apply(function(){G.parent()&&G.remove();c.$setViewValue(b.val())})})}function m(a,b,c){var d;c.$render=function(){var a=new db(c.$viewValue);k(b.find("option"),function(b){b.selected=s(a.get(b.value))})};a.$watch(function(){U(d,c.$viewValue)||(d=D(c.$viewValue),c.$render())});b.on("change",function(){a.$apply(function(){var a=[];k(b.find("option"),function(b){b.selected&&a.push(b.value)});
c.$setViewValue(a)})})}function n(e,h,q){function g(){var b={"":[]},c=[""],d,f,l,n,p;n=q.$modelValue;p=G(e)||[];var T=k?a(p):p,v,N,D;N={};l=!1;var w,ya;if(y)if(u&&I(n)){l=new db([]);for(D=0;D<n.length;D++)N[A]=n[D],l.put(u(e,N),n[D])}else l=new db(n);for(D=0;v=T.length,D<v;D++){f=D;if(k){f=T[D];if("$"===f.charAt(0))continue;N[k]=f}N[A]=p[f];d=E(e,N)||"";if(!(f=b[d]))f=b[d]=[],c.push(d);y?d=s(l.remove(u?u(e,N):x(e,N))):(u?(d={},d[A]=n,d=u(e,d)===u(e,N)):d=n===x(e,N),l=l||d);w=m(e,N);w=s(w)?w:"";f.push({id:u?
u(e,N):k?T[D]:D,label:w,selected:d})}y||(C||null===n?b[""].unshift({id:"",label:"",selected:!l}):l||b[""].unshift({id:"?",label:"",selected:!0}));N=0;for(T=c.length;N<T;N++){d=c[N];f=b[d];V.length<=N?(n={element:B.clone().attr("label",d),label:f.label},p=[n],V.push(p),h.append(n.element)):(p=V[N],n=p[0],n.label!=d&&n.element.attr("label",n.label=d));w=null;D=0;for(v=f.length;D<v;D++)l=f[D],(d=p[D+1])?(w=d.element,d.label!==l.label&&w.text(d.label=l.label),d.id!==l.id&&w.val(d.id=l.id),w[0].selected!==
l.selected&&w.prop("selected",d.selected=l.selected)):(""===l.id&&C?ya=C:(ya=t.clone()).val(l.id).attr("selected",l.selected).text(l.label),p.push({element:ya,label:l.label,id:l.id,selected:l.selected}),w?w.after(ya):n.element.append(ya),w=ya);for(D++;p.length>D;)p.pop().element.remove()}for(;V.length>N;)V.pop()[0].element.remove()}var l;if(!(l=p.match(d)))throw Vd("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",p,ha(h));
var m=c(l[2]||l[1]),A=l[4]||l[6],k=l[5],E=c(l[3]||""),x=c(l[2]?l[1]:A),G=c(l[7]),u=l[8]?c(l[8]):null,V=[[{element:h,label:""}]];C&&(b(C)(e),C.removeClass("ng-scope"),C.remove());h.html("");h.on("change",function(){e.$apply(function(){var a,b=G(e)||[],c={},d,g,l,m,n,E,p;if(y){g=[];m=0;for(E=V.length;m<E;m++){a=V[m];l=1;for(n=a.length;l<n;l++)if((d=a[l].element)[0].selected){d=d.val();k&&(c[k]=d);if(u)for(p=0;p<b.length&&!(c[A]=b[p],u(e,c)==d);p++);else c[A]=b[d];g.push(x(e,c))}}}else if(d=h.val(),
"?"==d)g=f;else if(""===d)g=null;else if(u)for(p=0;p<b.length;p++){if(c[A]=b[p],u(e,c)==d){g=x(e,c);break}}else c[A]=b[d],k&&(c[k]=d),g=x(e,c);q.$setViewValue(g)})});q.$render=g;e.$watch(g)}if(g[1]){var A=g[0],E=g[1],y=q.multiple,p=q.ngOptions,C=!1,x,t=da(r.createElement("option")),B=da(r.createElement("optgroup")),G=t.clone();g=0;for(var u=h.children(),V=u.length;g<V;g++)if(""===u[g].value){x=C=u.eq(g);break}A.init(E,C,G);if(y&&(q.required||q.ngRequired)){var T=function(a){E.$setValidity("required",
!q.required||a&&a.length);return a};E.$parsers.push(T);E.$formatters.unshift(T);q.$observe("required",function(){T(E.$viewValue)})}p?n(e,h,E):y?m(e,h,E):l(e,h,E,A)}}}}],Yd=["$interpolate",function(a){var b={addOption:v,removeOption:v};return{restrict:"E",priority:100,compile:function(c,d){if(z(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var h=c.parent(),f=h.data("$selectController")||h.parent().data("$selectController");f&&f.databound?c.prop("selected",!1):f=
b;e?a.$watch(e,function(a,b){d.$set("value",a);a!==b&&f.removeOption(b);f.addOption(a)}):f.addOption(d.value);c.on("$destroy",function(){f.removeOption(d.value)})}}}}],Zd=w({restrict:"E",terminal:!0});(Db=c.jQuery)?(da=Db,m(Db.fn,{scope:Fb.scope,isolateScope:Fb.isolateScope,controller:Fb.controller,injector:Fb.injector,inheritedData:Fb.inheritedData}),ea("remove",!0,!0,!1),ea("empty",!1,!1,!1),ea("html",!1,!1,!0)):da=ca;ic.element=da;(function(a){m(a,{bootstrap:pa,copy:D,extend:m,equals:U,element:da,
forEach:k,injector:eb,noop:v,bind:M,toJson:Q,fromJson:W,identity:u,isUndefined:z,isDefined:s,isString:F,isFunction:L,isObject:K,isNumber:H,isElement:S,isArray:I,version:tc,isDate:y,lowercase:Aa,uppercase:rb,callbacks:{counter:0},$$minErr:d,$$csp:Y});Wb=G(c);try{Wb("ngLocale")}catch(b){Wb("ngLocale",[]).provider("$locale",qc)}Wb("ng",["ngLocale"],["$provide",function(a){a.provider("$compile",Kb).directive({a:yd,input:Tc,textarea:Tc,form:zd,script:Ud,select:Xd,style:Zd,option:Yd,ngBind:sd,ngBindHtml:ud,
ngBindTemplate:td,ngClass:vd,ngClassEven:Ed,ngClassOdd:Dd,ngCloak:Fd,ngController:Gd,ngForm:gd,ngHide:Od,ngIf:Hd,ngInclude:Id,ngInit:Jd,ngNonBindable:Kd,ngPluralize:Ld,ngRepeat:Md,ngShow:Nd,ngStyle:Pd,ngSwitch:Qd,ngSwitchWhen:Rd,ngSwitchDefault:Sd,ngOptions:Wd,ngTransclude:Td,ngModel:nd,ngList:pd,ngChange:od,required:Vc,ngRequired:Vc,ngValue:rd}).directive(Mc).directive(Wc);a.provider({$anchorScroll:ob,$animate:$c,$browser:fb,$cacheFactory:Ia,$controller:jb,$document:ya,$exceptionHandler:Wa,$filter:Sa,
$interpolate:pc,$interval:Sb,$http:Oa,$httpBackend:ec,$location:ja,$log:ka,$parse:fa,$rootScope:kc,$q:Mb,$sce:Ob,$sceDelegate:Dc,$sniffer:Yb,$templateCache:Qa,$timeout:bb,$window:va})}])})(ic);da(r).ready(function(){ma(r,pa)})})(window,document);!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-start{clip:rect(0,auto,auto,0);-ms-zoom:1.0001;}.ng-animate-active{clip:rect(-1px,auto,auto,0);-ms-zoom:1;}</style>');
(function(){function c(){r();(new MutationObserver(function(a){a.forEach(function(a){a.addedNodes&&Array.forEach(a.addedNodes,function(a){a instanceof Element&&(a.childElementCount?Array.forEach(a.querySelectorAll("input[type=range]"),f):a.mozMatchesSelector("input[type=range]")&&f(a))})})})).observe(document,{childList:!0,subtree:!0})}function r(){Array.forEach(document.querySelectorAll("input[type=range]"),f)}function f(a){"range"!=a.type&&d(a)}function d(a){function c(a){var b=(parseFloat(getComputedStyle(this).width)-
n.width)/la;b&&(S+=(a.clientX-C)/b,C=a.clientX,L=!0,this.value=S)}function d(){this.removeEventListener("mousemove",c,!0);this.removeEventListener("mouseup",d,!0);a.dispatchEvent(t);a.dispatchEvent(v)}function f(){J||(this.style.boxShadow=!g?"0 0 0 2px #fb0":"inset 0 0 20px rgba(0,127,255,.1), 0 0 1px rgba(0,127,255,.4)")}function k(a){return!isNaN(a)&&+a==parseFloat(a)}function F(){B=k(a.min)?+a.min:0;N=k(a.max)?+a.max:100;N<B&&(N=100<B?B:100);D=k(a.step)&&0<a.step?+a.step:1;la=N-B;r(!0)}function r(c){!y&&
!I&&(U=a.getAttribute("value"));k(U)||(U=(B+N)/2);U=Math.round((U-B)/D)*D+B;U<B?U=B:U>N&&(U=B+~~(la/D)*D);var d=L;L=!1;d&&U!=x&&a.dispatchEvent(t);if(c||U!=x)x=U,b(a,{background:"-moz-element(#__sliderthumb__) "+(la?100*((U-B)/la):0)+"% no-repeat, "+p})}var y,I,L,J,x,S,C,B,N,D,la,U=a.value;e||(e=document.body.appendChild(document.createElement("hr")),b(e,{"-moz-appearance":g?"scale-horizontal":"scalethumb-horizontal",display:"block",visibility:"visible",opacity:1,position:"fixed",top:"-999999px"}),
document.mozSetImageElement("__sliderthumb__",e));var Y=function(){return""+U};a.__defineGetter__("value",Y);a.__defineSetter__("value",function O(b){U=""+b;y=!0;r();delete a.value;a.value=U;a.__defineGetter__("value",Y);a.__defineSetter__("value",O)});Object.defineProperty(a,"type",{get:function(){return"range"}});["min","max","step"].forEach(function(b){a.hasAttribute(b)&&(I=!0);Object.defineProperty(a,b,{get:function(){return this.hasAttribute(b)?this.getAttribute(b):""},set:function(a){null===
a?this.removeAttribute(b):this.setAttribute(b,a)}})});a.readOnly=!0;b(a,m);F();(new MutationObserver(function(b){b.forEach(function(b){"value"!=b.attributeName?(F(),I=!0):y||(U=a.getAttribute("value"),r())})})).observe(a,l);a.addEventListener("mousedown",function(a){J=!0;setTimeout(function(){J=!1},0);if(!a.button&&la){var b=(parseFloat(getComputedStyle(this).width)-n.width)/la;if(b){var e=a.clientX-this.getBoundingClientRect().left-n.width/2-(U-B)*b;Math.abs(e)>n.radius&&(L=!0,this.value-=-e/b);
S=U;C=a.clientX;this.addEventListener("mousemove",c,!0);this.addEventListener("mouseup",d,!0)}}},!0);a.addEventListener("keydown",function(a){36<a.keyCode&&41>a.keyCode&&(f.call(this),L=!0,this.value=U+(38==a.keyCode||39==a.keyCode?D:-D))},!0);a.addEventListener("focus",f,!0);a.addEventListener("blur",function(){this.style.boxShadow=""},!0)}function b(a,b){for(var c in b)a.style.setProperty(c,b[c],"important")}var k=document.createElement("input");try{if(k.type="range","range"==k.type)return}catch(a){return}k.style.background=
"linear-gradient(red, red)";if(k.style.backgroundImage&&"MozAppearance"in k.style){var e,g="MacIntel"==navigator.platform,n={radius:g?9:6,width:g?22:12,height:g?16:20},p="linear-gradient(transparent "+(g?"6px, #999 6px, #999 7px, #ccc 8px, #bbb 9px, #bbb 10px, transparent 10px":"9px, #999 9px, #bbb 10px, #fff 11px, transparent 11px")+", transparent)",m={"min-width":n.width+"px","min-height":n.height+"px","max-height":n.height+"px",padding:"0 0 "+(g?"2px":"1px"),border:0,"border-radius":0,cursor:"default",
"text-indent":"-999999px"},l={attributes:!0,attributeFilter:["min","max","step","value"]},t=document.createEvent("HTMLEvents");t.initEvent("input",!0,!1);var v=document.createEvent("HTMLEvents");v.initEvent("change",!0,!1);"loading"==document.readyState?document.addEventListener("DOMContentLoaded",c,!0):c();addEventListener("pageshow",r,!0)}})();
(function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(a){return 0==a?0:0<a?1:-1});var c={subtract:function(a,b){return{x:a.x-b.x,y:a.y-b.y}},dotProduct:function(a,b){return a.x*b.x+a.y*b.y},square:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},scale:function(a,b){return{x:a.x*b,y:a.y*b}}},r=Math.pow(2,-65),f=function(a,e){for(var f=[],g=e.length-1,m=2*g-1,n=[],k=[],p=[],F=[],r=[[1,0.6,0.3,0.1],[0.4,0.6,0.6,0.4],[0.1,0.3,0.6,1]],y=0;y<=g;y++)n[y]=c.subtract(e[y],a);for(y=0;y<=g-1;y++)k[y]=c.subtract(e[y+
1],e[y]),k[y]=c.scale(k[y],3);for(y=0;y<=g-1;y++)for(var I=0;I<=g;I++)p[y]||(p[y]=[]),p[y][I]=c.dotProduct(k[y],n[I]);for(y=0;y<=m;y++)F[y]||(F[y]=[]),F[y].y=0,F[y].x=parseFloat(y)/m;m=g-1;for(n=0;n<=g+m;n++){y=Math.max(0,n-m);for(k=Math.min(n,g);y<=k;y++)j=n-y,F[y+j].y+=p[j][y]*r[j][y]}g=e.length-1;F=d(F,2*g-1,f,0);m=c.subtract(a,e[0]);p=c.square(m);for(y=r=0;y<F;y++)m=c.subtract(a,b(e,g,f[y],null,null)),m=c.square(m),m<p&&(p=m,r=f[y]);m=c.subtract(a,e[g]);m=c.square(m);m<p&&(p=m,r=1);return{location:r,
distance:p}},d=function(a,c,e,f){var g=[],m=[],n=[],k=[],p=0,H,y;y=Math.sgn(a[0].y);for(var I=1;I<=c;I++)H=Math.sgn(a[I].y),H!=y&&p++,y=H;switch(p){case 0:return 0;case 1:if(64<=f)return e[0]=(a[0].x+a[c].x)/2,1;var L,J,p=a[0].y-a[c].y;y=a[c].x-a[0].x;I=a[0].x*a[c].y-a[c].x*a[0].y;H=max_distance_below=0;for(L=1;L<c;L++)J=p*a[L].x+y*a[L].y+I,J>H?H=J:J<max_distance_below&&(max_distance_below=J);J=y;L=0*J-1*p;H=(1*(I-H)-0*J)*(1/L);J=y;y=I-max_distance_below;L=0*J-1*p;p=(1*y-0*J)*(1/L);y=Math.min(H,p);
if(Math.max(H,p)-y<r)return n=a[c].x-a[0].x,k=a[c].y-a[0].y,e[0]=0+1*(n*(a[0].y-0)-k*(a[0].x-0))*(1/(0*n-1*k)),1}b(a,c,0.5,g,m);a=d(g,c,n,f+1);c=d(m,c,k,f+1);for(f=0;f<a;f++)e[f]=n[f];for(f=0;f<c;f++)e[f+a]=k[f];return a+c},b=function(a,b,c,d,e){for(var f=[[]],g=0;g<=b;g++)f[0][g]=a[g];for(a=1;a<=b;a++)for(g=0;g<=b-a;g++)f[a]||(f[a]=[]),f[a][g]||(f[a][g]={}),f[a][g].x=(1-c)*f[a-1][g].x+c*f[a-1][g+1].x,f[a][g].y=(1-c)*f[a-1][g].y+c*f[a-1][g+1].y;if(null!=d)for(g=0;g<=b;g++)d[g]=f[g][0];if(null!=e)for(g=
0;g<=b;g++)e[g]=f[b-g][g];return f[b][0]},k={},a=function(a){var b=k[a];if(!b){var b=[],c=function(a){return function(b){return a}},d=function(){return function(a){return a}},e=function(){return function(a){return 1-a}},f=function(a){return function(b){for(var c=1,d=0;d<a.length;d++)c*=a[d](b);return c}};b.push(new function(){return function(b){return Math.pow(b,a)}});for(var g=1;g<a;g++){for(var m=[new c(a)],n=0;n<a-g;n++)m.push(new d);for(n=0;n<g;n++)m.push(new e);b.push(new f(m))}b.push(new function(){return function(b){return Math.pow(1-
b,a)}});k[a]=b}return b},e=function(b,c){for(var d=a(b.length-1),e=0,f=0,g=0;g<b.length;g++)e+=b[g].x*d[g](c),f+=b[g].y*d[g](c);return{x:e,y:f}},g=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},n=function(a){return a[0].x==a[1].x&&a[0].y==a[1].y},p=function(a,b,c){if(n(a))return{point:a[0],location:b};for(var d=e(a,b),f=0,m=0<c?1:-1,k=null;f<Math.abs(c);)b+=0.005*m,k=e(a,b),f+=g(k,d),d=k;return{point:k,location:b}},m=function(a,b){var c=e(a,b),d=e(a.slice(0,a.length-1),b),
f=d.y-c.y,c=d.x-c.x;return 0==f?Infinity:Math.atan(f/c)};window.jsBezier={distanceFromCurve:f,gradientAtPoint:m,gradientAtPointAlongCurveFrom:function(a,b,c){b=p(a,b,c);1<b.location&&(b.location=1);0>b.location&&(b.location=0);return m(a,b.location)},nearestPointOnCurve:function(a,c){var d=f(a,c);return{point:b(c,c.length-1,d.location,null,null),location:d.location}},pointOnCurve:e,pointAlongCurveFrom:function(a,b,c){return p(a,b,c).point},perpendicularToCurveAt:function(a,b,c,d){b=p(a,b,null==d?
0:d);a=m(a,b.location);d=Math.atan(-1/a);a=c/2*Math.sin(d);c=c/2*Math.cos(d);return[{x:b.point.x+c,y:b.point.y+a},{x:b.point.x-c,y:b.point.y-a}]},locationAlongCurveFrom:function(a,b,c){return p(a,b,c).location},getLength:function(a){if(n(a))return 0;for(var b=e(a,0),c=0,d=0,f=null;1>d;)d+=0.005,f=e(a,d),c+=g(f,b),b=f;return c}}})();
(function(){var c=function(a){return"[object Array]"===Object.prototype.toString.call(a)},r=function(a){return"string"===typeof a},f=function(a){return"boolean"===typeof a},d=function(a){return null==a?!1:"[object Object]"===Object.prototype.toString.call(a)},b=function(a){return"[object Date]"===Object.prototype.toString.call(a)},k=function(a){return"[object Function]"===Object.prototype.toString.call(a)},a=function(a,b,d){a=c(a)?a:[a.x,a.y];b=c(b)?b:[b.x,b.y];return d(a,b)};jsPlumbUtil={isArray:c,
isString:r,isBoolean:f,isNull:function(a){return null==a},isObject:d,isDate:b,isFunction:k,isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},isNumber:function(a){return"[object Number]"===Object.prototype.toString.call(a)},clone:function(a){if(r(a))return""+a;if(f(a))return!!a;if(b(a))return new Date(a.getTime());if(k(a))return a;if(c(a)){for(var g=[],n=0;n<a.length;n++)g.push(this.clone(a[n]));return g}if(d(a)){g={};for(n in a)g[n]=this.clone(a[n]);return g}return a},merge:function(a,
b){var n=this.clone(a),k;for(k in b)if(null==n[k]||r(b[k])||f(b[k]))n[k]=b[k];else if(c(b[k])){var m=[];c(n[k])&&m.push.apply(m,n[k]);m.push.apply(m,b[k]);n[k]=m}else if(d(b[k])){d(n[k])||(n[k]={});for(var l in b[k])n[k][l]=b[k][l]}return n},copyValues:function(a,b,c){for(var d=0;d<a.length;d++)c[a[d]]=b[a[d]]},functionChain:function(a,b,c){for(var d=0;d<c.length;d++){var f=c[d][0][c[d][1]].apply(c[d][0],c[d][2]);if(f===b)return f}return a},populate:function(a,b){var f=function(a){if(null!=a){if(r(a)){var e=
a.match(/(\${.*?})/g);if(null!=e)for(var l=0;l<e.length;l++){var k=b[e[l].substring(2,e[l].length-1)];null!=k&&(a=a.replace(e[l],k))}return a}if(c(a)){e=[];for(l=0;l<a.length;l++)e.push(f(a[l]));return e}if(d(a)){e={};for(l in a)e[l]=f(a[l]);return e}return a}};return f(a)},convertStyle:function(a,b){if("transparent"===a)return a;var c=a,d=function(a){return 1==a.length?"0"+a:a},f=/(rgb[a]?\()(.*)(\))/;a.match(f)&&(f=a.match(f)[2].split(","),c="#"+d(Number(f[0]).toString(16))+d(Number(f[1]).toString(16))+
d(Number(f[2]).toString(16)),!b&&4==f.length&&(c+=d(Number(f[3]).toString(16))));return c},gradient:function(b,c){return a(b,c,function(a,b){return b[0]==a[0]?b[1]>a[1]?Infinity:-Infinity:b[1]==a[1]?b[0]>a[0]?0:-0:(b[1]-a[1])/(b[0]-a[0])})},normal:function(a,b){return-1/this.gradient(a,b)},lineLength:function(b,c){return a(b,c,function(a,b){return Math.sqrt(Math.pow(b[1]-a[1],2)+Math.pow(b[0]-a[0],2))})},segment:function(b,c){return a(b,c,function(a,b){return b[0]>a[0]?b[1]>a[1]?2:1:b[0]==a[0]?b[1]>
a[1]?2:1:b[1]>a[1]?3:4})},theta:function(b,c){return a(b,c,function(a,b){var c=jsPlumbUtil.gradient(a,b),c=Math.atan(c),d=jsPlumbUtil.segment(a,b);if(4==d||3==d)c+=Math.PI;0>c&&(c+=2*Math.PI);return c})},intersects:function(a,b){var c=a.x,d=a.x+a.w,f=a.y,l=a.y+a.h,k=b.x,v=b.x+b.w,u=b.y,w=b.y+b.h;return c<=k&&k<=d&&f<=u&&u<=l||c<=v&&v<=d&&f<=u&&u<=l||c<=k&&k<=d&&f<=w&&w<=l||c<=v&&k<=d&&f<=w&&w<=l||k<=c&&c<=v&&u<=f&&f<=w||k<=d&&d<=v&&u<=f&&f<=w||k<=c&&c<=v&&u<=l&&l<=w||k<=d&&c<=v&&u<=l&&l<=w},segmentMultipliers:[null,
[1,-1],[1,1],[-1,1],[-1,-1]],inverseSegmentMultipliers:[null,[-1,-1],[-1,1],[1,1],[1,-1]],pointOnLine:function(a,b,c){var d=jsPlumbUtil.gradient(a,b);b=jsPlumbUtil.segment(a,b);b=0<c?jsPlumbUtil.segmentMultipliers[b]:jsPlumbUtil.inverseSegmentMultipliers[b];var f=Math.atan(d),d=Math.abs(c*Math.sin(f))*b[1];c=Math.abs(c*Math.cos(f))*b[0];return{x:a.x+c,y:a.y+d}},perpendicularLineTo:function(a,b,c){a=jsPlumbUtil.gradient(a,b);var d=Math.atan(-1/a);a=c/2*Math.sin(d);c=c/2*Math.cos(d);return[{x:b.x+c,
y:b.y+a},{x:b.x-c,y:b.y-a}]},findWithFunction:function(a,b){if(a)for(var c=0;c<a.length;c++)if(b(a[c]))return c;return-1},clampToGrid:function(a,b,c,d,f){return[d||null==c?a:(Math.floor(a/c[0])+(a%c[0]>=c[0]/2?1:0))*c[0],f||null==c?b:(Math.floor(b/c[1])+(b%c[1]>=c[1]/2?1:0))*c[1]]},indexOf:function(a,b){return jsPlumbUtil.findWithFunction(a,function(a){return a==b})},removeWithFunction:function(a,b){var c=jsPlumbUtil.findWithFunction(a,b);-1<c&&a.splice(c,1);return-1!=c},remove:function(a,b){var c=
jsPlumbUtil.indexOf(a,b);-1<c&&a.splice(c,1);return-1!=c},addWithFunction:function(a,b,c){-1==jsPlumbUtil.findWithFunction(a,c)&&a.push(b)},addToList:function(a,b,c,d){var f=a[b];null==f&&(f=[],a[b]=f);f[d?"unshift":"push"](c);return f},extend:function(a,b,d,f){d=d||{};b=c(b)?b:[b];for(f=0;f<b.length;f++)for(var m in b[f].prototype)b[f].prototype.hasOwnProperty(m)&&(a.prototype[m]=b[f].prototype[m]);m=function(a){return function(){for(var c=0;c<b.length;c++)b[c].prototype[a]&&b[c].prototype[a].apply(this,
arguments);return d[a].apply(this,arguments)}};for(var l in d)a.prototype[l]=m(l);return a},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})},logEnabled:!0,log:function(){if(jsPlumbUtil.logEnabled&&"undefined"!=typeof console)try{console.log(arguments[arguments.length-1])}catch(a){}},group:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.group(a)},groupEnd:function(a){jsPlumbUtil.logEnabled&&
"undefined"!=typeof console&&console.groupEnd(a)},time:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.time(a)},timeEnd:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.timeEnd(a)},removeElement:function(a){null!=a&&null!=a.parentNode&&a.parentNode.removeChild(a)},removeElements:function(a){for(var b=0;b<a.length;b++)jsPlumbUtil.removeElement(a[b])},sizeElement:function(a,b,c,d,f){a&&(a.style.height=f+"px",a.height=f,a.style.width=d+"px",a.width=d,
a.style.left=b+"px",a.style.top=c+"px")},wrap:function(a,b,c){a=a||function(){};b=b||function(){};return function(){var d=null;try{d=b.apply(this,arguments)}catch(f){jsPlumbUtil.log("jsPlumb function failed : "+f)}if(null==c||d!==c)try{d=a.apply(this,arguments)}catch(l){jsPlumbUtil.log("wrapped function failed : "+l)}return d}},EventGenerator:function(){var a={},b=!1,c=["ready"];this.bind=function(b,c,d){jsPlumbUtil.addToList(a,b,c,!0);return this};this.fire=function(d,f,l){if(!b&&a[d]){var k=a[d].length,
v=0,u=!1,w=null;if(!this.shouldFireEvent||this.shouldFireEvent(d,f,l))for(;!u&&v<k&&!1!==w;){if(-1!=jsPlumbUtil.findWithFunction(c,function(a){return a===d}))a[d][v](f,l);else try{w=a[d][v](f,l)}catch(r){jsPlumbUtil.log("jsPlumb: fire failed for event "+d+" : "+r)}v++;if(null==a||null==a[d])u=!0}}return this};this.unbind=function(b){b?delete a[b]:a={};return this};this.getListener=function(b){return a[b]};this.setSuspendEvents=function(a){b=a};this.isSuspendEvents=function(){return b};this.cleanupListeners=
function(){for(var b in a)a[b].splice(0),delete a[b]}}};jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}};Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},f=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};d.prototype=
this.prototype;f.prototype=new d;return f})})();
(function(){var c=!!document.createElement("canvas").getContext,r=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),f=function(){if(void 0===f.vml){var b=document.body.appendChild(document.createElement("div"));b.innerHTML='<v:shape id="vml_flag1" adj="1" />';var c=b.firstChild;null!=c&&null!=c.style?(c.style.behavior="url(#default#VML)",f.vml=c?"object"==typeof c.adj:!0):f.vml=!1;b.parentNode.removeChild(b)}return f.vml},d=function(b){var c=
{},a=[],d={},f={},n={};this.register=function(p){var m=jsPlumb.CurrentLibrary,l=m.getElementObject(p),t=b.getId(p),v=m.getOffset(l);c[t]||(c[t]=p,a.push(p),d[t]={});var u=function(a,c){if(a)for(var l=0;l<a.childNodes.length;l++)if(3!=a.childNodes[l].nodeType&&8!=a.childNodes[l].nodeType){var k=m.getElementObject(a.childNodes[l]),p=b.getId(a.childNodes[l],null,!0);p&&(f[p]&&0<f[p])&&(k=m.getOffset(k),d[t][p]={id:p,offset:{left:k.left-v.left,top:k.top-v.top}},n[p]=t);u(a.childNodes[l])}};u(p)};this.updateOffsets=
function(a){var c=jsPlumb.CurrentLibrary,f=c.getElementObject(a);a=c.getDOMElement(f);a=b.getId(a);var g=d[a],f=c.getOffset(f);if(g)for(var k in g)g=c.getElementObject(k),g=c.getOffset(g),d[a][k]={id:k,offset:{left:g.left-f.left,top:g.top-f.top}},n[k]=a};this.endpointAdded=function(a){var m=jsPlumb.CurrentLibrary,l=document.body,t=b.getId(a),v=m.getElementObject(a),v=jsPlumb.CurrentLibrary.getOffset(v),u=a.parentNode;for(f[t]=f[t]?f[t]+1:1;null!=u&&u!=l;){if((a=b.getId(u,null,!0))&&c[a]){l=m.getElementObject(u);
m=m.getOffset(l);null==d[a][t]&&(d[a][t]={id:t,offset:{left:v.left-m.left,top:v.top-m.top}},n[t]=a);break}u=u.parentNode}};this.endpointDeleted=function(a){if(f[a.elementId]&&(f[a.elementId]--,0>=f[a.elementId]))for(var b in d)d[b]&&(delete d[b][a.elementId],delete n[a.elementId])};this.changeId=function(a,b){d[b]=d[a];d[a]={};n[b]=n[a];n[a]=null};this.getElementsForDraggable=function(a){return d[a]};this.elementRemoved=function(a){var b=n[a];b&&(delete d[b][a],delete n[a])};this.reset=function(){c=
{};a=[];d={};f={}}};window.console||(window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}});window.jsPlumbAdapter={headless:!1,getAttribute:function(b,c){return b.getAttribute(c)},setAttribute:function(b,c,a){b.setAttribute(c,a)},appendToRoot:function(b){document.body.appendChild(b)},getRenderModes:function(){return["canvas","svg","vml"]},isRenderModeAvailable:function(b){return{canvas:c,svg:r,vml:f()}[b]},getDragManager:function(b){return new d(b)},
setRenderMode:function(b){var c;if(b){b=b.toLowerCase();var a=this.isRenderModeAvailable("canvas"),d=this.isRenderModeAvailable("svg"),f=this.isRenderModeAvailable("vml");"svg"===b?d?c="svg":a?c="canvas":f&&(c="vml"):"canvas"===b&&a?c="canvas":f&&(c="vml")}return c}}})();
(function(){var c=jsPlumbUtil,r=function(a){return s.CurrentLibrary.getElementObject(a)},f=function(a){return s.CurrentLibrary.getDOMElement(a)},d=function(a,b){var c=s.CurrentLibrary.getOffset(r(a));if(null!=b){var d=b.getZoom();return{left:c.left/d,top:c.top/d}}return c},b=function(){return""+(new Date).getTime()},k=function(a){if(a._jsPlumb.paintStyle&&a._jsPlumb.hoverPaintStyle){var b={};s.extend(b,a._jsPlumb.paintStyle);s.extend(b,a._jsPlumb.hoverPaintStyle);delete a._jsPlumb.hoverPaintStyle;
b.gradient&&a._jsPlumb.paintStyle.fillStyle&&delete b.gradient;a._jsPlumb.hoverPaintStyle=b}},a="click dblclick mouseenter mouseout mousemove mousedown mouseup contextmenu".split(" "),e={mouseout:"mouseexit"},g=function(a){return null==a?null:a.split(" ")},n=function(a,b,d){if(a.getDefaultType){for(var e=a.getTypeDescriptor(),f=c.merge({},a.getDefaultType()),g=0,l=a._jsPlumb.types.length;g<l;g++)f=c.merge(f,a._jsPlumb.instance.getType(a._jsPlumb.types[g],e));b&&(f=c.populate(f,b));a.applyType(f,d);
d||a.repaint()}},p=window.jsPlumbUIComponent=function(b){jsPlumbUtil.EventGenerator.apply(this,arguments);var d=arguments,f=this.idPrefix+(new Date).getTime(),g=s.CurrentLibrary;this._jsPlumb={instance:b._jsPlumb,parameters:b.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:b.beforeDetach,beforeDrop:b.beforeDrop,overlayPlacements:[],hoverClass:b.hoverClass||b._jsPlumb.Defaults.HoverClass||s.Defaults.HoverClass,types:[]};this.getId=function(){return f};
if(b.events)for(var l in b.events)this.bind(l,b.events[l]);this.clone=function(){var a={};this.constructor.apply(a,d);return a}.bind(this);this.isDetachAllowed=function(a){var b=!0;if(this._jsPlumb.beforeDetach)try{b=this._jsPlumb.beforeDetach(a)}catch(d){c.log("jsPlumb: beforeDetach callback failed",d)}return b};this.isDropAllowed=function(a,b,d,e,f){var g=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:a,targetId:b,scope:d,connection:e,dropEndpoint:f});if(this._jsPlumb.beforeDrop)try{g=
this._jsPlumb.beforeDrop({sourceId:a,targetId:b,scope:d,connection:e,dropEndpoint:f})}catch(l){c.log("jsPlumb: beforeDrop callback failed",l)}return g};var m=[],n=function(a,b,c){m.push([a,b,c]);a.bind(b,c)},k=[],p=function(a,b,c){var d=e[c]||c,f=function(a){b.fire(d,b,a)};k.push([a,c,f]);g.bind(a,c,f)};this.bindListeners=function(a,b,c){n(a,"click",function(a,c){b.fire("click",b,c)});n(a,"dblclick",function(a,c){b.fire("dblclick",b,c)});n(a,"contextmenu",function(a,c){b.fire("contextmenu",b,c)});
n(a,"mouseenter",function(a,d){b.isHover()||(c(!0),b.fire("mouseenter",b,d))});n(a,"mouseexit",function(a,d){b.isHover()&&(c(!1),b.fire("mouseexit",b,d))});n(a,"mousedown",function(a,c){b.fire("mousedown",b,c)});n(a,"mouseup",function(a,c){b.fire("mouseup",b,c)})};this.unbindListeners=function(){for(var a=0;a<m.length;a++){var b=m[a];b[0].unbind(b[1],b[2])}m=null};this.attachListeners=function(b,c){for(var d=0,e=a.length;d<e;d++)p(b,c,a[d])};this.detachListeners=function(){for(var a=0;a<k.length;a++)g.unbind(k[a][0],
k[a][1],k[a][2]);k=null};this.reattachListenersForElement=function(b){if(1<arguments.length){for(var c=0,d=a.length;c<d;c++)g.unbind(b,a[c],void 0);c=1;for(d=arguments.length;c<d;c++)this.attachListeners(b,arguments[c])}}};jsPlumbUtil.extend(p,jsPlumbUtil.EventGenerator,{getParameter:function(a){return this._jsPlumb.parameters[a]},setParameter:function(a,b){this._jsPlumb.parameters[a]=b},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(a){this._jsPlumb.parameters=a},
addClass:function(a){null!=this.canvas&&s.CurrentLibrary.addClass(r(this.canvas),a)},removeClass:function(a){null!=this.canvas&&s.CurrentLibrary.removeClass(r(this.canvas),a)},setType:function(a,b,c){this._jsPlumb.types=g(a)||[];n(this,b,c)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(a,b){n(this,a,b)},hasType:function(a){return-1!=jsPlumbUtil.indexOf(this._jsPlumb.types,a)},addType:function(a,b,c){a=g(a);var d=!1;if(null!=a){for(var e=0,f=a.length;e<f;e++)this.hasType(a[e])||
(this._jsPlumb.types.push(a[e]),d=!0);d&&n(this,b,c)}},removeType:function(a,b){var d=g(a),e=!1,f=function(a){a=c.indexOf(this._jsPlumb.types,a);return-1!=a?(this._jsPlumb.types.splice(a,1),!0):!1}.bind(this);if(null!=d){for(var l=0,m=d.length;l<m;l++)e=f(d[l])||e;e&&n(this,null,b)}},toggleType:function(a,b,c){a=g(a);if(null!=a){for(var d=0,e=a.length;d<e;d++){var f=jsPlumbUtil.indexOf(this._jsPlumb.types,a[d]);-1!=f?this._jsPlumb.types.splice(f,1):this._jsPlumb.types.push(a[d])}n(this,b,c)}},applyType:function(a,
b){this.setPaintStyle(a.paintStyle,b);this.setHoverPaintStyle(a.hoverPaintStyle,b);if(a.parameters)for(var c in a.parameters)this.setParameter(c,a.parameters[c])},setPaintStyle:function(a,b){this._jsPlumb.paintStyle=a;this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle;k(this);b||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(a,b){this._jsPlumb.hoverPaintStyle=a;k(this);b||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},
cleanup:function(){this.unbindListeners();this.detachListeners()},destroy:function(){this.cleanupListeners();this._jsPlumb=this.clone=null},isHover:function(){return this._jsPlumb.hover},setHover:function(a,c,d){var e=s.CurrentLibrary;if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=a;if(null!=this.canvas&&null!=this._jsPlumb.instance.hoverClass)e[a?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.hoverClass);
null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=a?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(d=d||b(),this.repaint({timestamp:d,recalc:!1})));if(this.getAttachedElements&&!c&&(c=b(),d=this.getAttachedElements()))for(var e=0,f=d.length;e<f;e++)(!this||this!=d[e])&&d[e].setHover(a,!0,c)}}});var m=function(a,b){for(var c=-1,d=0,e=a._jsPlumb.overlays.length;d<e;d++)if(b===a._jsPlumb.overlays[d].id){c=d;break}return c},l=function(a,
b){var c=s.extend({cssClass:b.cssClass,labelStyle:a.labelStyle,id:"__label",component:a,_jsPlumb:a._jsPlumb.instance},b);return new (s.Overlays[a._jsPlumb.instance.getRenderMode()].Label)(c)},t=function(a,b){var d=null;if(c.isArray(b)){var d=b[0],e=s.extend({component:a,_jsPlumb:a._jsPlumb.instance},b[1]);3==b.length&&s.extend(e,b[2]);d=new (s.Overlays[a._jsPlumb.instance.getRenderMode()][d])(e)}else d=b.constructor==String?new (s.Overlays[a._jsPlumb.instance.getRenderMode()][b])({component:a,_jsPlumb:a._jsPlumb.instance}):
b;a._jsPlumb.overlays.push(d)},v=window.OverlayCapableJsPlumbUIComponent=function(a){p.apply(this,arguments);this._jsPlumb.overlays=[];var b;b=this.defaultOverlayKeys||[];var c=a.overlays;c||(c=[]);for(var d=0,e=b.length;d<e;d++)c.unshift.apply(c,this._jsPlumb.instance.Defaults[b[d]]||s.Defaults[b[d]]||[]);if(b=c){c=0;for(d=b.length;c<d;c++)t(this,b[c])}a.label&&this._jsPlumb.overlays.push(l(this,{label:a.label,location:a.labelLocation||this.defaultLabelLocation||0.5,labelStyle:a.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle||
s.Defaults.LabelStyle}))};jsPlumbUtil.extend(v,p,{applyType:function(a,b){this.removeAllOverlays(b);if(a.overlays)for(var c=0,d=a.overlays.length;c<d;c++)this.addOverlay(a.overlays[c],!0)},setHover:function(a,b,c){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()){b=0;for(c=this._jsPlumb.overlays.length;b<c;b++)this._jsPlumb.overlays[b][a?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)}},addOverlay:function(a,b){t(this,a);b||this.repaint()},getOverlay:function(a){a=
m(this,a);return 0<=a?this._jsPlumb.overlays[a]:null},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(a){(a=this.getOverlay(a))&&a.hide()},hideOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;a<b;a++)this._jsPlumb.overlays[a].hide()},showOverlay:function(a){(a=this.getOverlay(a))&&a.show()},showOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;a<b;a++)this._jsPlumb.overlays[a].show()},removeAllOverlays:function(a){for(var b=0,c=this._jsPlumb.overlays.length;b<
c;b++)this._jsPlumb.overlays[b].cleanup&&this._jsPlumb.overlays[b].cleanup();this._jsPlumb.overlays.splice(0,this._jsPlumb.overlays.length);a||this.repaint()},removeOverlay:function(a){a=m(this,a);if(-1!=a){var b=this._jsPlumb.overlays[a];b.cleanup&&b.cleanup();this._jsPlumb.overlays.splice(a,1)}},removeOverlays:function(){for(var a=0,b=arguments.length;a<b;a++)this.removeOverlay(arguments[a])},getLabel:function(){var a=this.getOverlay("__label");return null!=a?a.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},
setLabel:function(a){var b=this.getOverlay("__label");b?a.constructor==String||a.constructor==Function?b.setLabel(a):(a.label&&b.setLabel(a.label),a.location&&b.setLocation(a.location)):(b=l(this,a.constructor==String||a.constructor==Function?{label:a}:a),this._jsPlumb.overlays.push(b));this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(){for(var a=0;a<this._jsPlumb.overlays.length;a++)this._jsPlumb.overlays[a].cleanup(),this._jsPlumb.overlays[a].destroy();this._jsPlumb.overlays.splice(0)}});
var u=0,w=function(){var a=u+1;u++;return a},z=window.jsPlumbInstance=function(a){this.Defaults={Anchor:"BottomCenter",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,
Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:8,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};a&&s.extend(this.Defaults,a);this.logEnabled=this.Defaults.LogEnabled;this._connectionTypes={};this._endpointTypes={};jsPlumbUtil.EventGenerator.apply(this);var e=this,g=w(),l=e.bind,m={},n=1,k=function(a){var b=f(a);return{el:b,id:jsPlumbUtil.isString(a)&&null==b?a:ba(b)}};this.getInstanceIndex=function(){return g};this.setZoom=function(a,b){n=a;b&&e.repaintEverything()};
this.getZoom=function(){return n};for(var x in this.Defaults)m[x]=this.Defaults[x];this.bind=function(a,b){"ready"===a&&C?b():l.apply(e,[a,b])};e.importDefaults=function(a){for(var b in a)e.Defaults[b]=a[b];return e};e.restoreDefaults=function(){e.Defaults=s.extend({},m);return e};var t=null,C=!1,B=[],u={},v={},z={},U={},Y={},M={},O=!1,Q=[],W=!1,P=null,ha=this.Defaults.Scope,oa=null,wa=1,xa=function(){return""+wa++},sa=function(a,c,d,h){if(!jsPlumbAdapter.headless&&!W){a=ba(a);var f=e.dragManager.getElementsForDraggable(a);
null==d&&(d=b());var q=G({elId:a,offset:c,recalc:!1,timestamp:d});if(f)for(var g in f)G({elId:f[g].id,offset:{left:q.o.left+f[g].offset.left,top:q.o.top+f[g].offset.top},recalc:!1,timestamp:d});e.anchorManager.redraw(a,c,d,null,h);if(f)for(var l in f)e.anchorManager.redraw(f[l].id,c,d,f[l].offset,h,!0)}},ia=function(a,b){var d=null,h,f;if(c.isArray(a))for(var d=[],q=0,g=a.length;q<g;q++)h=r(a[q]),f=e.getAttribute(h,"id"),d.push(b(h,f));else h=r(a),f=e.getAttribute(h,"id"),d=b(h,f);return d},ma=function(a,
b,d){if(!jsPlumbAdapter.headless){var h=s.CurrentLibrary;if((null==b?0:b)&&h.isDragSupported(a)&&!h.isAlreadyDraggable(a)){b=d||e.Defaults.DragOptions||s.Defaults.DragOptions;b=s.extend({},b);d=h.dragEvents.drag;var f=h.dragEvents.stop,q=h.dragEvents.start;b[q]=c.wrap(b[q],function(){e.setHoverSuspended(!0);e.select({source:a}).addClass(e.elementDraggingClass+" "+e.sourceElementDraggingClass,!0);e.select({target:a}).addClass(e.elementDraggingClass+" "+e.targetElementDraggingClass,!0);e.setConnectionBeingDragged(!0)});
b[d]=c.wrap(b[d],function(){var b=h.getUIPosition(arguments,e.getZoom());sa(a,b,null,!0);s.CurrentLibrary.addClass(r(a),"jsPlumb_dragged")});b[f]=c.wrap(b[f],function(){var b=h.getUIPosition(arguments,e.getZoom());sa(a,b);s.CurrentLibrary.removeClass(r(a),"jsPlumb_dragged");e.setHoverSuspended(!1);e.select({source:a}).removeClass(e.elementDraggingClass+" "+e.sourceElementDraggingClass,!0);e.select({target:a}).removeClass(e.elementDraggingClass+" "+e.targetElementDraggingClass,!0);e.setConnectionBeingDragged(!1)});
d=ba(a);M[d]=!0;d=M[d];b.disabled=null==d?!1:!d;h.initDraggable(a,b,!1,e);e.dragManager.register(a)}}},pa=function(a){var b=e.Defaults.ConnectionType||e.getDefaultConnectionType(),c=e.Defaults.EndpointType||s.Endpoint,d=s.CurrentLibrary.getParent;a.parent=a.container?a.container:a.sourceEndpoint?a.sourceEndpoint.parent:a.source.constructor==c?a.source.parent:d(a.source);a._jsPlumb=e;a.newConnection=pa;a.newEndpoint=A;a.endpointsByUUID=v;a.endpointsByElement=u;a.finaliseConnection=na;a=new b(a);a.id=
"con_"+xa();qa("click","click",a);qa("dblclick","dblclick",a);qa("contextmenu","contextmenu",a);return a},na=function(a,b,c,d){b=b||{};a.suspendedEndpoint||B.push(a);(null==a.suspendedEndpoint||d)&&e.anchorManager.newConnection(a);sa(a.source);!b.doNotFireConnectionEvent&&!1!==b.fireEvent&&e.fire("connection",{connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]},c)},qa=function(a,b,c){c.bind(a,function(a,
d){e.fire(b,c,d)})},q=function(a){if(a.container)return a.container;var b=s.CurrentLibrary.getTagName(a.source);a=s.CurrentLibrary.getParent(a.source);return b&&"td"===b.toLowerCase()?s.CurrentLibrary.getParent(a):a},A=function(a){var b=e.Defaults.EndpointType||s.Endpoint;a=s.extend({},a);a.parent=q(a);a._jsPlumb=e;a.newConnection=pa;a.newEndpoint=A;a.endpointsByUUID=v;a.endpointsByElement=u;a.finaliseConnection=na;a.fireDetachEvent=ea;a.floatingConnections=Y;a.getParentFromParams=q;a.elementId=ba(a.source);
b=new b(a);b.id="ep_"+xa();qa("click","endpointClick",b);qa("dblclick","endpointDblClick",b);qa("contextmenu","contextmenu",b);jsPlumbAdapter.headless||e.dragManager.endpointAdded(a.source);return b},h=function(a,b,c){if((a=u[a])&&a.length)for(var d=0,e=a.length;d<e;d++){for(var h=0,f=a[d].connections.length;h<f;h++)if(b(a[d].connections[h]))return;c&&c(a[d])}},E=function(a,b,c){b="block"===b;var d=null;c&&(d=b?function(a){a.setVisible(!0,!0,!0)}:function(a){a.setVisible(!1,!0,!0)});var e=k(a);h(e.id,
function(a){b&&c?a.endpoints[a.sourceId===e.id?1:0].isVisible()&&a.setVisible(!0):a.setVisible(b)},d)},G=function(a){var b=a.timestamp,c=a.recalc,h=a.offset,f=a.elId;W&&!b&&(b=P);if(!c&&b&&b===U[f])return{o:a.offset||z[f],s:Q[f]};c||!h?(a=r(f),null!=a&&(Q[f]=s.CurrentLibrary.getSize(r(a)),z[f]=d(a,e),U[f]=b)):(z[f]=h,null==Q[f]&&(a=r(f),null!=a&&(Q[f]=s.CurrentLibrary.getSize(r(a)))),U[f]=b);z[f]&&!z[f].right&&(z[f].right=z[f].left+Q[f][0],z[f].bottom=z[f].top+Q[f][1],z[f].width=Q[f][0],z[f].height=
Q[f][1],z[f].centerx=z[f].left+z[f].width/2,z[f].centery=z[f].top+z[f].height/2);return{o:z[f],s:Q[f]}},ba=function(a,b,c){if(jsPlumbUtil.isString(a))return a;if(null==a)return null;var d=jsPlumbAdapter.getAttribute(a,"id");if(!d||"undefined"===d){if(2==arguments.length&&void 0!==arguments[1])d=b;else if(1==arguments.length||3==arguments.length&&!arguments[2])d="jsPlumb_"+g+"_"+xa();c||jsPlumbAdapter.setAttribute(a,"id",d)}return d};this.setConnectionBeingDragged=function(a){O=a};this.isConnectionBeingDragged=
function(){return O};this.connectorClass="_jsPlumb_connector";this.hoverClass="_jsPlumb_hover";this.endpointClass="_jsPlumb_endpoint";this.endpointConnectedClass="_jsPlumb_endpoint_connected";this.endpointFullClass="_jsPlumb_endpoint_full";this.endpointDropAllowedClass="_jsPlumb_endpoint_drop_allowed";this.endpointDropForbiddenClass="_jsPlumb_endpoint_drop_forbidden";this.overlayClass="_jsPlumb_overlay";this.draggingClass="_jsPlumb_dragging";this.elementDraggingClass="_jsPlumb_element_dragging";this.sourceElementDraggingClass=
"_jsPlumb_source_element_dragging";this.targetElementDraggingClass="_jsPlumb_target_element_dragging";this.endpointAnchorClassPrefix="_jsPlumb_endpoint_anchor";this.hoverSourceClass="_jsPlumb_source_hover";this.hoverTargetClass="_jsPlumb_target_hover";this.dragSelectClass="_jsPlumb_drag_select";this.Anchors={};this.Connectors={canvas:{},svg:{},vml:{}};this.Endpoints={canvas:{},svg:{},vml:{}};this.Overlays={canvas:{},svg:{},vml:{}};this.ConnectorRenderers={};this.SVG="svg";this.CANVAS="canvas";this.VML=
"vml";this.addEndpoint=function(a,b,d){d=d||{};d=s.extend({},d);s.extend(d,b);d.endpoint=d.endpoint||e.Defaults.Endpoint||s.Defaults.Endpoint;d.paintStyle=d.paintStyle||e.Defaults.EndpointStyle||s.Defaults.EndpointStyle;a=a._nodes?a._nodes:a;b=[];a=c.isArray(a)||null!=a.length&&!c.isString(a)?a:[a];for(var h=0,q=a.length;h<q;h++){var g=f(a[h]),l=ba(g);d.source=g;G({elId:l,timestamp:P});g=A(d);d.parentAnchor&&(g.parentAnchor=d.parentAnchor);c.addToList(u,l,g);var m=z[l],l={anchorLoc:g.anchor.compute({xy:[m.left,
m.top],wh:Q[l],element:g,timestamp:P}),timestamp:P};W&&(l.recalc=!1);W||g.paint(l);b.push(g);g._doNotDeleteOnDetach=!0}return 1==b.length?b[0]:b};this.addEndpoints=function(a,b,d){for(var h=[],f=0,q=b.length;f<q;f++){var g=e.addEndpoint(a,b[f],d);c.isArray(g)?Array.prototype.push.apply(h,g):h.push(g)}return h};this.animate=function(a,b,d){d=d||{};var h=r(a),f=ba(a);a=s.CurrentLibrary.dragEvents.step;var q=s.CurrentLibrary.dragEvents.complete;d[a]=c.wrap(d[a],function(){e.repaint(f)});d[q]=c.wrap(d[q],
function(){e.repaint(f)});s.CurrentLibrary.animate(h,b,d)};this.checkCondition=function(a,b){var d=e.getListener(a),h=!0;if(d&&0<d.length)try{for(var f=0,q=d.length;f<q;f++)h=h&&d[f](b)}catch(g){c.log(e,"cannot check condition ["+a+"]"+g)}return h};this.checkASyncCondition=function(a,b,d,h){var f=e.getListener(a);if(f&&0<f.length)try{f[0](b,d,h)}catch(q){c.log(e,"cannot asynchronously check condition ["+a+"]"+q)}};this.connect=function(a,b){var d;a:{d=s.extend({},a);b&&s.extend(d,b);d.source&&(d.source.endpoint?
d.sourceEndpoint=d.source:d.source=f(d.source));d.target&&(d.target.endpoint?d.targetEndpoint=d.target:d.target=f(d.target));a.uuids&&(d.sourceEndpoint=v[a.uuids[0]],d.targetEndpoint=v[a.uuids[1]]);if(d.sourceEndpoint&&d.sourceEndpoint.isFull())c.log(e,"could not add connection; source endpoint is full");else if(d.targetEndpoint&&d.targetEndpoint.isFull())c.log(e,"could not add connection; target endpoint is full");else{!d.type&&d.sourceEndpoint&&(d.type=d.sourceEndpoint.connectionType);if(d.sourceEndpoint&&
d.sourceEndpoint.connectorOverlays){d.overlays=d.overlays||[];for(var h=0,q=d.sourceEndpoint.connectorOverlays.length;h<q;h++)d.overlays.push(d.sourceEndpoint.connectorOverlays[h])}!d["pointer-events"]&&(d.sourceEndpoint&&d.sourceEndpoint.connectorPointerEvents)&&(d["pointer-events"]=d.sourceEndpoint.connectorPointerEvents);var g;if(d.target&&(!d.target.endpoint&&!d.targetEndpoint&&!d.newConnection)&&(h=ba(d.target),q=Ga[h],g=Pa[h],q)){if(!Qa[h]){d=void 0;break a}q.isTarget=!0;q=null!=g?g:e.addEndpoint(d.target,
q);gb[h]&&(Pa[h]=q);d.targetEndpoint=q;q._doNotDeleteOnDetach=!1;q._deleteOnDetach=!0}if(d.source&&(!d.source.endpoint&&!d.sourceEndpoint&&!d.newConnection)&&(h=ba(d.source),q=hb[h],g=eb[h],q)){if(!ib[h]){d=void 0;break a}q=null!=g?g:e.addEndpoint(d.source,q);ob[h]&&(eb[h]=q);d.sourceEndpoint=q;q._doNotDeleteOnDetach=!1;q._deleteOnDetach=!0}break a}d=void 0}var l;d&&(l=pa(d),na(l,d));return l};this.deleteEndpoint=function(a,b){var c=e.setSuspendDrawing(!0),d="string"==typeof a?v[a]:a;d&&e.deleteObject({endpoint:d});
c||e.setSuspendDrawing(!1,b);return e};this.deleteEveryEndpoint=function(){var a=e.setSuspendDrawing(!0),b;for(b in u){var c=u[b];if(c&&c.length)for(var d=0,h=c.length;d<h;d++)e.deleteEndpoint(c[d],!0)}u={};v={};e.anchorManager.reset();e.dragManager.reset();a||e.setSuspendDrawing(!1);return e};var ea=function(a,b,c){var d=e.Defaults.ConnectionType||e.getDefaultConnectionType();a=a.constructor==d?{connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],
targetEndpoint:a.endpoints[1]}:a;b&&e.fire("connectionDetached",a,c);e.anchorManager.connectionDetached(a)};this.unregisterEndpoint=function(a){a._jsPlumb.uuid&&(v[a._jsPlumb.uuid]=null);e.anchorManager.deleteEndpoint(a);for(var b in u){var c=u[b];if(c){for(var d=[],h=0,f=c.length;h<f;h++)c[h]!=a&&d.push(c[h]);u[b]=d}1>u[b].length&&delete u[b]}};this.detach=function(){if(0!==arguments.length){var a=e.Defaults.ConnectionType||e.getDefaultConnectionType(),b=arguments[0].constructor==a,a=2==arguments.length?
b?arguments[1]||{}:arguments[0]:arguments[0],c=!1!==a.fireEvent,d=a.forceDetach;if(b=b?arguments[0]:a.connection)(d||jsPlumbUtil.functionChain(!0,!1,[[b.endpoints[0],"isDetachAllowed",[b]],[b.endpoints[1],"isDetachAllowed",[b]],[b,"isDetachAllowed",[b]],[e,"checkCondition",["beforeDetach",b]]]))&&b.endpoints[0].detach(b,!1,!0,c);else if(a=s.extend({},a),a.uuids)v[a.uuids[0]].detachFrom(v[a.uuids[1]],c);else if(a.sourceEndpoint&&a.targetEndpoint)a.sourceEndpoint.detachFrom(a.targetEndpoint);else{var q=
ba(f(a.source)),g=ba(f(a.target));h(q,function(a){(a.sourceId==q&&a.targetId==g||a.targetId==q&&a.sourceId==g)&&e.checkCondition("beforeDetach",a)&&a.endpoints[0].detach(a,!1,!0,c)})}}};this.detachAllConnections=function(a,b){b=b||{};a=f(a);var c=ba(a);if((c=u[c])&&c.length)for(var d=0,h=c.length;d<h;d++)c[d].detachAll(!1!==b.fireEvent);return e};this.detachEveryConnection=function(a){a=a||{};e.doWhileSuspended(function(){for(var b in u){var c=u[b];if(c&&c.length)for(var d=0,e=c.length;d<e;d++)c[d].detachAll(!1!==
a.fireEvent)}B.splice(0)});return e};this.deleteObject=function(a){var b={endpoints:{},connections:{},endpointCount:0,connectionCount:0},c=!1!==a.fireEvent,d=!1!==a.deleteAttachedObjects,h=function(a){if(null!=a&&null==b.connections[a.id]&&(a._jsPlumb&&a.setHover(!1),b.connections[a.id]=a,b.connectionCount++,d))for(var c=0;c<a.endpoints.length;c++)a.endpoints[c]._deleteOnDetach&&f(a.endpoints[c])},f=function(a){if(null!=a&&null==b.endpoints[a.id]&&(a._jsPlumb&&a.setHover(!1),b.endpoints[a.id]=a,b.endpointCount++,
d))for(var c=0;c<a.connections.length;c++)h(a.connections[c])};a.connection?h(a.connection):f(a.endpoint);for(var q in b.connections){var g=b.connections[q];g.endpoints[0].detachFromConnection(g);g.endpoints[1].detachFromConnection(g);jsPlumbUtil.removeWithFunction(B,function(a){return g.id==a.id});ea(g,c,a.originalEvent);g.cleanup();g.destroy()}for(var l in b.endpoints)a=b.endpoints[l],e.unregisterEndpoint(a),a.cleanup(),a.destroy();return b};this.draggable=function(a,b){var c,d,h;if("object"==typeof a&&
a.length){c=0;for(d=a.length;c<d;c++)(h=f(a[c]))&&ma(h,!0,b)}else if(a._nodes){c=0;for(d=a._nodes.length;c<d;c++)(h=f(a._nodes[c]))&&ma(h,!0,b)}else(h=f(a))&&ma(h,!0,b);return e};this.extend=function(a,b){return s.CurrentLibrary.extend(a,b)};var ca=function(a,b,c){return function(){for(var d=arguments,e=0,h=a.length;e<h;e++)a[e][b].apply(a[e],d);return c(a)}},Ta=function(a,b){return function(){for(var c=arguments,d=[],e=0,h=a.length;e<h;e++)d.push([a[e][b].apply(a[e],c),a[e]]);return d}},ta=function(a,
b){var c=[];if(a)if("string"==typeof a){if("*"===a)return a;c.push(a)}else if(a=r(a),b)c=a;else for(var d=0,e=a.length;d<e;d++)c.push(k(a[d]).id);return c},R=function(a,b,c){return"*"===a?!0:0<a.length?-1!=jsPlumbUtil.indexOf(a,b):!c};this.getConnections=function(a,b){a?a.constructor==String&&(a={scope:a}):a={};for(var c=a.scope||e.getDefaultScope(),c=ta(c,!0),d=ta(a.source),h=ta(a.target),f=!b&&1<c.length?{}:[],q=0,g=B.length;q<g;q++){var l=B[q];if(R(c,l.scope)&&R(d,l.sourceId)&&R(h,l.targetId)){var m=
l.scope;if(!b&&1<c.length){var A=f[m];null==A&&(A=f[m]=[]);A.push(l)}else f.push(l)}}return f};var Fa=function(a,b){return function(c){for(var d=0,e=a.length;d<e;d++)c(a[d]);return b(a)}},Z=function(a){return function(b){return a[b]}},X=function(a,b){var c={length:a.length,each:Fa(a,b),get:Z(a)},d="setHover removeAllOverlays setLabel addClass addOverlay removeOverlay removeOverlays showOverlay hideOverlay showOverlays hideOverlays setPaintStyle setHoverPaintStyle setSuspendEvents setParameter setParameters setVisible repaint addType toggleType removeType removeClass setType bind unbind".split(" "),
e="getLabel getOverlay isHover getParameter getParameters getPaintStyle getHoverPaintStyle isVisible hasType getType isSuspendEvents".split(" "),h,f;h=0;for(f=d.length;h<f;h++)c[d[h]]=ca(a,d[h],b);h=0;for(f=e.length;h<f;h++)c[e[h]]=Ta(a,e[h]);return c},Ba=function(a){var b=X(a,Ba);return s.CurrentLibrary.extend(b,{setDetachable:ca(a,"setDetachable",Ba),setReattach:ca(a,"setReattach",Ba),setConnector:ca(a,"setConnector",Ba),detach:function(){for(var b=0,c=a.length;b<c;b++)e.detach(a[b])},isDetachable:Ta(a,
"isDetachable"),isReattach:Ta(a,"isReattach")})},Da=function(a){var b=X(a,Da);return s.CurrentLibrary.extend(b,{setEnabled:ca(a,"setEnabled",Da),setAnchor:ca(a,"setAnchor",Da),isEnabled:Ta(a,"isEnabled"),detachAll:function(){for(var b=0,c=a.length;b<c;b++)a[b].detachAll()},remove:function(){for(var b=0,c=a.length;b<c;b++)e.deleteObject({endpoint:a[b]})}})};this.select=function(a){a=a||{};a.scope=a.scope||"*";return Ba(a.connections||e.getConnections(a,!0))};this.selectEndpoints=function(a){a=a||{};
a.scope=a.scope||"*";var b=!a.element&&!a.source&&!a.target,c=b?"*":ta(a.element),d=b?"*":ta(a.source),b=b?"*":ta(a.target);a=ta(a.scope,!0);var e=[],h;for(h in u){var f=R(c,h,!0),q=R(d,h,!0),g="*"!=d,l=R(b,h,!0),m="*"!=b;if(f||q||l){f=0;q=u[h].length;a:for(;f<q;f++)if(l=u[h][f],R(a,l.scope,!0)){var A=m&&0<b.length&&!l.isTarget;if(g&&0<d.length&&!l.isSource||A)continue a;e.push(l)}}}return Da(e)};this.getAllConnections=function(){return B};this.getDefaultScope=function(){return ha};this.getEndpoint=
function(a){return v[a]};this.getEndpoints=function(a){return u[k(a).id]};this.getDefaultEndpointType=function(){return s.Endpoint};this.getDefaultConnectionType=function(){return s.Connection};this.getId=ba;this.getOffset=function(a){return G({elId:a})};this.getSelector=function(){return s.CurrentLibrary.getSelector.apply(null,arguments)};this.getSize=function(a){Q[a]||G({elId:a});return Q[a]};this.appendElement=function(a,b){e.Defaults.Container?s.CurrentLibrary.appendElement(a,e.Defaults.Container):
b?s.CurrentLibrary.appendElement(a,b):jsPlumbAdapter.appendToRoot(a)};var V=!1;this.isHoverSuspended=function(){return V};this.setHoverSuspended=function(a){V=a};a=function(a){return function(){return jsPlumbAdapter.isRenderModeAvailable(a)}};this.isCanvasAvailable=a("canvas");this.isSVGAvailable=a("svg");this.isVMLAvailable=a("vml");this.hide=function(a,b){E(a,"none",b);return e};this.idstamp=xa;this.connectorsInitialized=!1;var T=[],sb=["canvas","svg","vml"];this.registerConnectorType=function(a,
b){T.push([a,b])};this.init=function(){var a=function(a,b,c){s.Connectors[a][b]=function(){c.apply(this,arguments);s.ConnectorRenderers[a].apply(this,arguments)};jsPlumbUtil.extend(s.Connectors[a][b],[c,s.ConnectorRenderers[a]])};if(!s.connectorsInitialized){for(var b=0;b<T.length;b++)for(var c=0;c<sb.length;c++)a(sb[c],T[b][1],T[b][0]);s.connectorsInitialized=!0}C||(e.anchorManager=new s.AnchorManager({jsPlumbInstance:e}),e.setRenderMode(e.Defaults.RenderMode),C=!0,e.fire("ready",e))}.bind(this);
this.log=t;this.jsPlumbUIComponent=p;this.makeAnchor=function(){var a=function(a,b){if(s.Anchors[a])return new s.Anchors[a](b);if(!e.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+a+"'"};};if(0===arguments.length)return null;var b=arguments[0],d=arguments[1],h=arguments[2],f=null;if(b.compute&&b.getOrientation)return b;if("string"==typeof b)f=a(arguments[0],{elementId:d,jsPlumbInstance:e});else if(c.isArray(b))if(c.isArray(b[0])||c.isString(b[0]))2==b.length&&c.isString(b[0])&&
c.isObject(b[1])?(d=s.extend({elementId:d,jsPlumbInstance:e},b[1]),f=a(b[0],d)):f=new s.DynamicAnchor({anchors:b,selector:null,elementId:d,jsPlumbInstance:h});else{var q={x:b[0],y:b[1],orientation:4<=b.length?[b[2],b[3]]:[0,0],offsets:6<=b.length?[b[4],b[5]]:[0,0],elementId:d,jsPlumbInstance:h,cssClass:7==b.length?b[6]:null},f=new s.Anchor(q);f.clone=function(){return new s.Anchor(q)}}f.id||(f.id="anchor_"+xa());return f};this.makeAnchors=function(a,b,d){for(var h=[],f=0,q=a.length;f<q;f++)"string"==
typeof a[f]?h.push(s.Anchors[a[f]]({elementId:b,jsPlumbInstance:d})):c.isArray(a[f])&&h.push(e.makeAnchor(a[f],b,d));return h};this.makeDynamicAnchor=function(a,b){return new s.DynamicAnchor({anchors:a,selector:b,elementId:null,jsPlumbInstance:e})};var Ga={},Pa={},gb={},Na={},db=function(a,b){a.paintStyle=a.paintStyle||e.Defaults.EndpointStyles[b]||e.Defaults.EndpointStyle||s.Defaults.EndpointStyles[b]||s.Defaults.EndpointStyle;a.hoverPaintStyle=a.hoverPaintStyle||e.Defaults.EndpointHoverStyles[b]||
e.Defaults.EndpointHoverStyle||s.Defaults.EndpointHoverStyles[b]||s.Defaults.EndpointHoverStyle;a.anchor=a.anchor||e.Defaults.Anchors[b]||e.Defaults.Anchor||s.Defaults.Anchors[b]||s.Defaults.Anchor;a.endpoint=a.endpoint||e.Defaults.Endpoints[b]||e.Defaults.Endpoint||s.Defaults.Endpoints[b]||s.Defaults.Endpoint},hb={},eb={},ob={},ib={},fb={},Ia={},Qa={},Kb=function(a,b,c){a=a.target||a.srcElement;var d=!1;b=e.getSelector(b,c);for(c=0;c<b.length;c++)if(b[c]==a){d=!0;break}return d};this.makeTarget=
function(a,b,h){var f=s.extend({_jsPlumb:e},h);s.extend(f,b);db(f,1);var q=s.CurrentLibrary,g=f.scope||e.Defaults.Scope,l=!1!==f.deleteEndpointsOnDetach,m=f.maxConnections||-1,A=f.onMaxConnections;_doOne=function(a){var b=k(a),h=b.id,n=new p(f);a=s.extend({},f.dropOptions||{});Ga[h]=f;gb[h]=f.uniqueEndpoint;Na[h]=m;Qa[h]=!0;var E=q.dragEvents.drop;a.scope=a.scope||g;a[E]=c.wrap(a[E],function(){e.currentlyDragging=!1;var a=s.CurrentLibrary.getDropEvent(arguments),c=e.select({target:h}).length,g=r(q.getDragObject(arguments)),
m=e.getAttribute(g,"dragId"),k=e.getAttribute(g,"originalScope"),m=Y[m],E=m.endpoints[0].isFloating()?0:1,y=m.endpoints[0];f.endpoint&&s.extend({},f.endpoint);if(!Qa[h]||0<Na[h]&&c>=Na[h])return A&&A({element:b.el,connection:m},a),!1;y.anchor.locked=!1;k&&q.setDragScope(g,k);c=n.isDropAllowed(0===E?h:m.sourceId,0===E?m.targetId:h,m.scope,m,null);m.suspendedEndpoint&&(m[E?"targetId":"sourceId"]=m.suspendedEndpoint.elementId,m[E?"target":"source"]=m.suspendedEndpoint.element,m.endpoints[E]=m.suspendedEndpoint);
c?(y=q.getElementObject(b.el),c=Pa[h]||e.addEndpoint(y,f),f.uniqueEndpoint&&(Pa[h]=c),c._doNotDeleteOnDetach=!1,c._deleteOnDetach=!0,null!=c.anchor.positionFinder&&(g=q.getUIPosition(arguments,e.getZoom()),k=d(y,e),y=s.CurrentLibrary.getSize(r(y)),g=c.anchor.positionFinder(g,k,y,c.anchor.constructorParams),c.anchor.x=g[0],c.anchor.y=g[1]),m[E?"target":"source"]=c.element,m[E?"targetId":"sourceId"]=c.elementId,m.endpoints[E].detachFromConnection(m),m.endpoints[E]._deleteOnDetach&&(m.endpoints[E].deleteAfterDragStop=
!0),c.addConnection(m),m.endpoints[E]=c,m.deleteEndpointsOnDetach=l,1==E?e.anchorManager.updateOtherEndpoint(m.sourceId,m.suspendedElementId,m.targetId,m):e.anchorManager.sourceChanged(m.suspendedEndpoint.elementId,m.sourceId,m),na(m,null,a)):m.suspendedEndpoint&&(m.isReattach()?(m.setHover(!1),m.floatingAnchorIndex=null,m.suspendedEndpoint.addConnection(m),e.repaint(y.elementId)):y.detach(m,!1,!0,!0,a))});q.initDroppable(r(b.el),a,!0)};a=a._nodes?a._nodes:a;a=a.length&&a.constructor!=String?a:[a];
b=0;for(h=a.length;b<h;b++)_doOne(a[b]);return e};this.unmakeTarget=function(a,b){var c=k(a);s.CurrentLibrary.destroyDroppable(c.el);b||(delete Ga[c.id],delete gb[c.id],delete Na[c.id],delete Qa[c.id]);return e};this.makeSource=function(a,b,d){var h=s.extend({},d);s.extend(h,b);db(h,0);var q=s.CurrentLibrary,g=h.maxConnections||-1,l=h.onMaxConnections;b=function(a){var b=a.id,d=r(a.el),m=function(){return null==h.parent?null:"parent"===h.parent?a.el.parentNode:f(h.parent)},A=null!=h.parent?e.getId(m()):
b;hb[A]=h;ob[A]=h.uniqueEndpoint;ib[A]=!0;var n=q.dragEvents.stop,k=q.dragEvents.drag,E=s.extend({},h.dragOptions||{}),y=E.drag,C=E.stop,x=null,p=!1;Ia[A]=g;E.scope=E.scope||h.scope;E[k]=c.wrap(E[k],function(){y&&y.apply(this,arguments);p=!1});E[n]=c.wrap(E[n],function(){C&&C.apply(this,arguments);e.currentlyDragging=!1;if(null!=x._jsPlumb){q.unbind(x.canvas,"mousedown");var a=x.connections[0];x.setAnchor(e.makeAnchor(h.anchor||e.Defaults.Anchor,b,e),!0);if(h.parent){var c=m();c&&(x.setElement(c,
h.container||e.Defaults.Container||s.Defaults.Container),x.endpointWillMoveAfterConnection=!1,a.previousConnection=null,jsPlumbUtil.removeWithFunction(B,function(b){return b.id===a.id}),e.anchorManager.connectionDetached({sourceId:a.sourceId,targetId:a.targetId,connection:a}),na(a))}x.repaint();e.repaint(x.elementId);e.repaint(a.targetId)}});n=function(a){if(ib[A]){if(h.filter){var c=q.getOriginalEvent(a);if(!1===(jsPlumbUtil.isString(h.filter)?Kb(c,d,h.filter):h.filter(c,d)))return}c=e.select({source:A}).length;
if(0<=Ia[A]&&c>=Ia[A])return l&&l({element:d,maxConnections:g},a),!1;var f=G({elId:b}).o,n=e.getZoom(),c=((a.pageX||a.page.x)/n-f.left)/f.width,n=((a.pageY||a.page.y)/n-f.top)/f.height,k=c,y=n;h.parent&&(k=m(),k=ba(k),f=G({elId:k}).o,k=((a.pageX||a.page.x)-f.left)/f.width,y=((a.pageY||a.page.y)-f.top)/f.height);f={};s.extend(f,h);f.isSource=!0;f.anchor=[c,n,0,0];f.parentAnchor=[k,y,0,0];f.dragOptions=E;h.parent&&(c=f.container||e.Defaults.Container||s.Defaults.Container,f.container=c?c:s.CurrentLibrary.getParent(m()));
x=e.addEndpoint(b,f);p=!0;x.endpointWillMoveAfterConnection=null!=h.parent;x.endpointWillMoveTo=h.parent?m():null;x._doNotDeleteOnDetach=!1;x._deleteOnDetach=!0;c=function(){p&&(p=!1,e.deleteEndpoint(x))};e.registerListener(x.canvas,"mouseup",c);e.registerListener(d,"mouseup",c);q.trigger(x.canvas,"mousedown",a)}};e.registerListener(d,"mousedown",n);fb[b]=n;h.filter&&jsPlumbUtil.isString(h.filter)&&q.setDragFilter(d,h.filter)};a=a._nodes?a._nodes:a;a=a.length&&a.constructor!=String?a:[a];d=0;for(var m=
a.length;d<m;d++)b(k(a[d]));return e};this.unmakeSource=function(a,b){var c=k(a),d=fb[c.id];d&&e.unregisterListener(c.el,"mousedown",d);b||(delete hb[c.id],delete ob[c.id],delete ib[c.id],delete fb[c.id],delete Ia[c.id]);return e};this.unmakeEverySource=function(){for(var a in ib)e.unmakeSource(a,!0);hb={};ob={};ib={};fb={}};this.unmakeEveryTarget=function(){for(var a in Qa)e.unmakeTarget(a,!0);Ga={};gb={};Na={};Qa={};return e};var Ra=function(a,b,d,h){a="source"==a?ib:Qa;b=b._nodes?b._nodes:b;if(c.isString(b))a[b]=
h?!a[b]:d;else if(b.length)for(var f=0,q=b.length;f<q;f++){var g=k(b[f]);a[g.id]=h?!a[g.id]:d}return e};this.toggleSourceEnabled=function(a){Ra("source",a,null,!0);return e.isSourceEnabled(a)};this.setSourceEnabled=function(a,b){return Ra("source",a,b)};this.isSource=function(a){return null!=ib[k(a).id]};this.isSourceEnabled=function(a){return!0===ib[k(a).id]};this.toggleTargetEnabled=function(a){Ra("target",a,null,!0);return e.isTargetEnabled(a)};this.isTarget=function(a){return null!=Qa[k(a).id]};
this.isTargetEnabled=function(a){return!0===Qa[k(a).id]};this.setTargetEnabled=function(a,b){return Ra("target",a,b)};this.ready=function(a){e.bind("ready",a)};this.repaint=function(a,b,c){if("object"==typeof a&&a.length)for(var d=0,h=a.length;d<h;d++)sa(a[d],b,c);else sa(a,b,c);return e};this.repaintEverything=function(){var a=b(),c;for(c in u)sa(c,null,a);return e};this.removeAllEndpoints=function(a,b){var c=function(a){a=k(a);var d=u[a.id],h,f;if(d){h=0;for(f=d.length;h<f;h++)e.deleteEndpoint(d[h])}delete u[a.id];
if(b&&a.el&&3!=a.el.nodeType&&8!=a.el.nodeType){h=0;for(f=a.el.childNodes.length;h<f;h++)c(a.el.childNodes[h])}};c(a);return e};this.remove=function(a,b){var c=k(a);e.doWhileSuspended(function(){e.removeAllEndpoints(c.id,!0);e.dragManager.elementRemoved(c.id);delete Y[c.id];e.anchorManager.clearFor(c.id);e.anchorManager.removeFloatingConnection(c.id)},!1===b);c.el&&s.CurrentLibrary.removeElement(c.el)};var jb={};this.registerListener=function(a,b,c){s.CurrentLibrary.bind(a,b,c);jsPlumbUtil.addToList(jb,
b,{el:a,event:b,listener:c})};this.unregisterListener=function(a,b,c){s.CurrentLibrary.unbind(a,b,c);jsPlumbUtil.removeWithFunction(jb,function(a){return a.type==b&&a.listener==c})};this.reset=function(){e.deleteEveryEndpoint();e.unbind();Ga={};Pa={};gb={};Na={};hb={};eb={};ob={};Ia={};B.splice(0);for(var a in jb)for(var b=0,c=jb[a].length;b<c;b++){var d=jb[a][b];s.CurrentLibrary.unbind(d.el,d.event,d.listener)}jb={};e.anchorManager.reset();jsPlumbAdapter.headless||e.dragManager.reset()};this.setDefaultScope=
function(a){ha=a;return e};this.setDraggable=function(a,b){return ia(a,function(a,c){M[c]=b;s.CurrentLibrary.isDragSupported(a)&&s.CurrentLibrary.setDraggable(a,b)})};this.setId=function(a,b,c){var d;jsPlumbUtil.isString(a)?d=a:(a=f(a),d=e.getId(a));var h=e.getConnections({source:d,scope:"*"},!0),q=e.getConnections({target:d,scope:"*"},!0);b=""+b;c?a=f(b):(a=f(d),jsPlumbAdapter.setAttribute(a,"id",b));u[b]=u[d]||[];c=0;for(var g=u[b].length;c<g;c++)u[b][c].setElementId(b),u[b][c].setReferenceElement(a);
delete u[d];e.anchorManager.changeId(d,b);jsPlumbAdapter.headless||e.dragManager.changeId(d,b);d=function(c,d,e){for(var h=0,f=c.length;h<f;h++)c[h].endpoints[d].setElementId(b),c[h].endpoints[d].setReferenceElement(a),c[h][e+"Id"]=b,c[h][e]=a};d(h,0,"source");d(q,1,"target");e.repaint(b)};this.setDebugLog=function(a){t=a};this.setSuspendDrawing=function(a,b){var c=W;P=(W=a)?(new Date).getTime():null;b&&e.repaintEverything();return c};this.isSuspendDrawing=function(){return W};this.getSuspendedAt=
function(){return P};this.doWhileSuspended=function(a,b){var d=e.isSuspendDrawing();d||e.setSuspendDrawing(!0);try{a()}catch(h){c.log("Function run while suspended failed",h)}d||e.setSuspendDrawing(!1,!b)};this.updateOffset=G;this.getOffset=function(a){return z[a]};this.getSize=function(a){return Q[a]};this.getCachedData=function(a){var b=z[a];return b?{o:b,s:Q[a]}:G({elId:a})};this.timestamp=b;this.setRenderMode=function(a){oa=jsPlumbAdapter.setRenderMode(a);var b,c;oa==s.CANVAS&&(a=function(a){s.CurrentLibrary.bind(document,
a,function(d){if(!e.currentlyDragging&&oa==s.CANVAS){b=0;for(c=B.length;b<c;b++)if(B[b].getConnector()[a](d))return;for(var h in u){var f=u[h];b=0;for(c=f.length;b<c;b++)if(f[b].endpoint[a]&&f[b].endpoint[a](d))return}}})},a("click"),a("dblclick"),a("mousemove"),a("mousedown"),a("mouseup"),a("contextmenu"));return oa};this.getRenderMode=function(){return oa};this.show=function(a,b){E(a,"block",b);return e};this.getTestHarness=function(){return{endpointsByElement:u,endpointCount:function(a){return(a=
u[a])?a.length:0},connectionCount:function(a){a=a||ha;return(a=e.getConnections({scope:a}))?a.length:0},getId:ba,makeAnchor:self.makeAnchor,makeDynamicAnchor:self.makeDynamicAnchor}};this.toggleVisible=function(a,b){var c=null;b&&(c=function(a){var b=a.isVisible();a.setVisible(!b)});h(a,function(a){var b=a.isVisible();a.setVisible(!b)},c)};this.toggleDraggable=function(a){return ia(a,function(a,b){var c=null==M[b]?!1:M[b],c=!c;M[b]=c;s.CurrentLibrary.setDraggable(a,c);return c})};this.addListener=
this.bind;this.adjustForParentOffsetAndScroll=function(a,b){var c=null;"svg"===b.tagName.toLowerCase()&&b.parentNode?c=b.parentNode:b.offsetParent&&(c=b.offsetParent);if(null!=c){var h="body"===c.tagName.toLowerCase()?{left:0,top:0}:d(c,e),c="body"===c.tagName.toLowerCase()?{left:0,top:0}:{left:c.scrollLeft,top:c.scrollTop};a[0]=a[0]-h.left+c.left;a[1]=a[1]-h.top+c.top}return a};jsPlumbAdapter.headless||(e.dragManager=jsPlumbAdapter.getDragManager(e),e.recalculateOffsets=e.dragManager.updateOffsets)};
jsPlumbUtil.extend(z,jsPlumbUtil.EventGenerator,{setAttribute:function(a,b,c){jsPlumbAdapter.setAttribute(a,b,c)},getAttribute:function(a,b){return jsPlumbAdapter.getAttribute(s.CurrentLibrary.getDOMElement(a),b)},registerConnectionType:function(a,b){this._connectionTypes[a]=s.extend({},b)},registerConnectionTypes:function(a){for(var b in a)this._connectionTypes[b]=s.extend({},a[b])},registerEndpointType:function(a,b){this._endpointTypes[a]=s.extend({},b)},registerEndpointTypes:function(a){for(var b in a)this._endpointTypes[b]=
s.extend({},a[b])},getType:function(a,b){return"connection"===b?this._connectionTypes[a]:this._endpointTypes[a]},setIdChanged:function(a,b){this.setId(a,b,!0)}});var s=new z;"undefined"!=typeof window&&(window.jsPlumb=s);s.getInstance=function(a){a=new z(a);a.init();return a};"function"===typeof define&&(define("jsplumb",[],function(){return s}),define("jsplumbinstance",[],function(){return s.getInstance()}));"undefined"!==typeof exports&&(exports.jsPlumb=s)})();
(function(){var c=function(c,b){var f=!1;return{drag:function(){if(f)return f=!1,!0;var a=jsPlumb.CurrentLibrary.getUIPosition(arguments,b.getZoom());c.element&&(jsPlumb.CurrentLibrary.setOffset(c.element,a),b.repaint(c.element,a))},stopDrag:function(){f=!0}}},r="connectorStyle connectorHoverStyle connectorOverlays connector connectionType connectorClass connectorHoverClass".split(" "),f=function(c,b){return jsPlumbUtil.findWithFunction(b.connections,function(b){return b.id==c.id})};jsPlumb.Endpoint=
function(d){var b=d._jsPlumb,k=jsPlumb.CurrentLibrary,a=k.getElementObject,e=k.getDOMElement,g=jsPlumbUtil,n=d.newConnection,p=d.newEndpoint,m=d.finaliseConnection,l=d.fireDetachEvent,t=d.floatingConnections;this.idPrefix="_jsplumb_e_";this.defaultLabelLocation=[0.5,0.5];this.defaultOverlayKeys=["Overlays","EndpointOverlays"];this.parent=d.parent;OverlayCapableJsPlumbUIComponent.apply(this,arguments);this.getDefaultType=function(){return{parameters:{},scope:null,maxConnections:this._jsPlumb.instance.Defaults.MaxConnections,
paintStyle:this._jsPlumb.instance.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,endpoint:this._jsPlumb.instance.Defaults.Endpoint||jsPlumb.Defaults.Endpoint,hoverPaintStyle:this._jsPlumb.instance.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,overlays:this._jsPlumb.instance.Defaults.EndpointOverlays||jsPlumb.Defaults.EndpointOverlays,connectorStyle:d.connectorStyle,connectorHoverStyle:d.connectorHoverStyle,connectorClass:d.connectorClass,connectorHoverClass:d.connectorHoverClass,
connectorOverlays:d.connectorOverlays,connector:d.connector,connectorTooltip:d.connectorTooltip}};this._jsPlumb.enabled=!1!==d.enabled;this._jsPlumb.visible=!0;this.element=e(d.source);this._jsPlumb.uuid=d.uuid;var v=this._jsPlumb.floatingEndpoint=null;this._jsPlumb.uuid&&(d.endpointsByUUID[this._jsPlumb.uuid]=this);this.elementId=d.elementId;this._jsPlumb.connectionCost=d.connectionCost;this._jsPlumb.connectionsDirected=d.connectionsDirected;this._jsPlumb.currentAnchorClass="";this._jsPlumb.events=
{};var u=function(){k.removeClass(this.element,b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.removeClass(b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();this.addClass(b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);k.addClass(this.element,b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass)}.bind(this);this.setAnchor=function(a,c){this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId);
this.anchor=this._jsPlumb.instance.makeAnchor(a,this.elementId,b);u();this.anchor.bind("anchorChanged",function(a){this.fire("anchorChanged",{endpoint:this,anchor:a});u()}.bind(this));c||this._jsPlumb.instance.repaint(this.elementId);return this};this.setAnchor(d.anchor?d.anchor:d.anchors?d.anchors:b.Defaults.Anchor||"Top",!0);var w=function(a){0<this.connections.length?this.connections[0].setHover(a,!1):this.setHover(a)}.bind(this);d._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId);
this.setEndpoint=function(a){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy());var c=function(a,c){var d=b.getRenderMode();if(jsPlumb.Endpoints[d][a])return new jsPlumb.Endpoints[d][a](c);if(!b.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+a+"'"};},e={_jsPlumb:this._jsPlumb.instance,cssClass:d.cssClass,parent:d.parent,container:d.container,tooltip:d.tooltip,connectorTooltip:d.connectorTooltip,endpoint:this};g.isString(a)?this.endpoint=c(a,e):g.isArray(a)?
(e=g.merge(a[1],e),this.endpoint=c(a[0],e)):this.endpoint=a.clone();jsPlumb.extend({},e);this.endpoint.clone=function(){if(g.isString(a))return c(a,e);if(g.isArray(a))return e=g.merge(a[1],e),c(a[0],e)}.bind(this);this.type=this.endpoint.type;this.bindListeners(this.endpoint,this,w)};this.setEndpoint(d.endpoint||b.Defaults.Endpoint||jsPlumb.Defaults.Endpoint||"Dot");this.setPaintStyle(d.paintStyle||d.style||b.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,!0);this.setHoverPaintStyle(d.hoverPaintStyle||
b.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,!0);this._jsPlumb.paintStyleInUse=this.getPaintStyle();g.copyValues(r,d,this);this.isSource=d.isSource||!1;this.isTarget=d.isTarget||!1;this._jsPlumb.maxConnections=d.maxConnections||b.Defaults.MaxConnections;this.canvas=this.endpoint.canvas;this.addClass(b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);k.addClass(this.element,b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.connections=d.connections||
[];this.connectorPointerEvents=d["connector-pointer-events"];this.scope=d.scope||b.getDefaultScope();this.timestamp=null;this.reattachConnections=d.reattach||b.Defaults.ReattachConnections;this.connectionsDetachable=b.Defaults.ConnectionsDetachable;if(!1===d.connectionsDetachable||!1===d.detachable)this.connectionsDetachable=!1;this.dragAllowedWhenFull=d.dragAllowedWhenFull||!0;d.onMaxConnections&&this.bind("maxConnections",d.onMaxConnections);this.addConnection=function(a){this.connections.push(a);
this[(0<this.connections.length?"add":"remove")+"Class"](b.endpointConnectedClass);this[(this.isFull()?"add":"remove")+"Class"](b.endpointFullClass)};this.detachFromConnection=function(a,c){c=null==c?f(a,this):c;0<=c&&(this.connections.splice(c,1),this[(0<this.connections.length?"add":"remove")+"Class"](b.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](b.endpointFullClass))};this.detach=function(a,c,d,e,g,l,m){l=null==m?f(a,this):m;m=!1;e=!1!==e;if(0<=l&&(d||a._forceDetach||a.isDetachable()&&
a.isDetachAllowed(a)&&this.isDetachAllowed(a)))b.deleteObject({connection:a,fireEvent:!c&&e,originalEvent:g}),m=!0;return m};this.detachAll=function(a,b){for(;0<this.connections.length;)this.detach(this.connections[0],!1,!0,!1!==a,b,this,0);return this};this.detachFrom=function(a,b,c){for(var d=[],e=0;e<this.connections.length;e++)(this.connections[e].endpoints[1]==a||this.connections[e].endpoints[0]==a)&&d.push(this.connections[e]);for(a=0;a<d.length;a++)this.detach(d[a],!1,!0,b,c);return this};
this.getElement=function(){return this.element};this.setElement=function(a){var c=this._jsPlumb.instance.getId(a),f=this.elementId;g.removeWithFunction(d.endpointsByElement[this.elementId],function(a){return a.id==this.id}.bind(this));this.element=e(a);this.elementId=b.getId(this.element);b.anchorManager.rehomeEndpoint(this,f,this.element);b.dragManager.endpointAdded(this.element);g.addToList(d.endpointsByElement,c,this);return this};this.makeInPlaceCopy=function(){var a=this.anchor.getCurrentLocation({element:this}),
b=this.anchor.getOrientation(this),c=this.anchor.getCssClass();return p({anchor:{bind:function(){},compute:function(){return[a[0],a[1]]},getCurrentLocation:function(){return[a[0],a[1]]},getOrientation:function(){return b},getCssClass:function(){return c}},source:this.element,paintStyle:this.getPaintStyle(),endpoint:d.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope})};this.isFloating=function(){return null!=this.anchor&&this.anchor.isFloating};this.connectorSelector=function(){var a=
this.connections[0];return this.isTarget&&a?a:this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:a};this.setStyle=this.setPaintStyle;this.repaint=this.paint=function(a){a=a||{};var c=a.timestamp,d=!1!==a.recalc;if(!c||this.timestamp!==c){var e=b.updateOffset({elId:this.elementId,timestamp:c}),f=a.offset?a.offset.o:e.o;if(null!=f){var g=a.anchorPoint,l=a.connectorPaintStyle;if(null==g){e={xy:[f.left,f.top],wh:a.dimensions||e.s,element:this,timestamp:c};if(d&&
this.anchor.isDynamic&&0<this.connections.length){a=a.elementWithPrecedence;d=0;if(null!=a)for(f=0;f<this.connections.length;f++)if(this.connections[f].sourceId==a||this.connections[f].targetId==a){d=f;break}a=this.connections[d];d=a.endpoints[0]==this?1:0;g=b.getCachedData(0===d?a.sourceId:a.targetId);f=g.o;g=g.s;e.txy=[f.left,f.top];e.twh=g;e.tElement=a.endpoints[d]}g=this.anchor.compute(e)}this.endpoint.compute(g,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,l||this.paintStyleInUse);
this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor);this.timestamp=c;for(c=0;c<this._jsPlumb.overlays.length;c++)l=this._jsPlumb.overlays[c],l.isVisible()&&(this._jsPlumb.overlayPlacements[c]=l.draw(this.endpoint,this._jsPlumb.paintStyleInUse),l.paint(this._jsPlumb.overlayPlacements[c]))}}};if(k.isDragSupported(this.element)&&(this.isSource||this.isTarget)){var z={id:null,element:null},s=null,K=!1,F=null,H=c(z,b),y=function(){s=this.connectorSelector();var c=!0;this.isEnabled()||(c=!1);
null==s&&!this.isSource&&(c=!1);this.isSource&&(this.isFull()&&!this.dragAllowedWhenFull)&&(c=!1);null!=s&&!s.isDetachable()&&(c=!1);if(!1===c)return k.stopDrag&&k.stopDrag(),H.stopDrag(),!1;for(c=0;c<this.connections.length;c++)this.connections[c].setHover(!1);this.addClass("endpointDrag");b.setConnectionBeingDragged(!0);s&&(!this.isFull()&&this.isSource)&&(s=null);b.updateOffset({elId:this.elementId});v=this.makeInPlaceCopy();v.referenceEndpoint=this;v.paint();var c=z,e=this.parent,f=b,l=document.createElement("div");
l.style.position="absolute";jsPlumb.CurrentLibrary.getElementObject(l);jsPlumb.CurrentLibrary.appendElement(l,e);e=f.getId(l);f.updateOffset({elId:e});c.id=e;c.element=l;f=a(v.canvas);c=jsPlumb.CurrentLibrary.getOffset(f,b);l=b.adjustForParentOffsetAndScroll([c.left,c.top],v.canvas);c=a(this.canvas);k.setOffset(z.element,{left:l[0],top:l[1]});this.parentAnchor&&(this.anchor=b.makeAnchor(this.parentAnchor,this.elementId,b));b.setAttribute(this.canvas,"dragId",z.id);b.setAttribute(this.canvas,"elId",
this.elementId);var l=this._jsPlumb,e=this.getPaintStyle(),m=this.endpoint,y=z.element,x=p,u=new jsPlumb.FloatingAnchor({reference:this.anchor,referenceCanvas:this.canvas,jsPlumbInstance:b}),e=x({paintStyle:e,endpoint:m,anchor:u,source:y,scope:"__floating"});l.floatingEndpoint=e;this.canvas.style.visibility="hidden";null==s?(this.anchor.locked=!0,this.setHover(!1,!1),s=n({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.endpointWillMoveTo||this.element,target:z.element,
anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:d.connectorStyle,hoverPaintStyle:d.connectorHoverStyle,connector:d.connector,overlays:d.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass}),s.addClass(b.draggingClass),this._jsPlumb.floatingEndpoint.addClass(b.draggingClass),b.fire("connectionDrag",s)):(K=!0,s.setHover(!1),C(f,!1,!0),f=s.endpoints[0].id==this.id?0:1,s.floatingAnchorIndex=f,this.detachFromConnection(s),l=
jsPlumb.CurrentLibrary.getDragScope(c),b.setAttribute(this.canvas,"originalScope",l),e=k.getDropScope(c),k.setDragScope(c,e),b.fire("connectionDrag",s),0===f?(F=[s.source,s.sourceId,c,l],s.source=z.element,s.sourceId=z.id):(F=[s.target,s.targetId,c,l],s.target=z.element,s.targetId=z.id),s.endpoints[0===f?1:0].anchor.locked=!0,s.suspendedEndpoint=s.endpoints[f],s.suspendedElement=s.endpoints[f].getElement(),s.suspendedElementId=s.endpoints[f].elementId,s.suspendedElementType=0===f?"source":"target",
s.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=s.suspendedEndpoint,s.endpoints[f]=this._jsPlumb.floatingEndpoint,s.addClass(b.draggingClass),this._jsPlumb.floatingEndpoint.addClass(b.draggingClass));t[z.id]=s;b.anchorManager.addFloatingConnection(z.id,s);g.addToList(d.endpointsByElement,z.id,this._jsPlumb.floatingEndpoint);b.currentlyDragging=!0}.bind(this),I=d.dragOptions||{},L=jsPlumb.extend({},k.defaultDragOptions),J=k.dragEvents.start,x=k.dragEvents.stop,S=k.dragEvents.drag,
I=jsPlumb.extend(L,I);I.scope=I.scope||this.scope;I[J]=g.wrap(I[J],y,!1);I[S]=g.wrap(I[S],H.drag);I[x]=g.wrap(I[x],function(){b.setConnectionBeingDragged(!1);var a=k.getDropEvent(arguments),c=null==s.floatingAnchorIndex?1:s.floatingAnchorIndex;s.endpoints[0===c?1:0].anchor.locked=!1;s.removeClass(b.draggingClass);if(s.endpoints[c]==this._jsPlumb.floatingEndpoint&&(K&&s.suspendedEndpoint)&&(0===c?(s.source=F[0],s.sourceId=F[1]):(s.target=F[0],s.targetId=F[1]),k.setDragScope(F[2],F[3]),s.endpoints[c]=
s.suspendedEndpoint,s.isReattach()||s._forceReattach||s._forceDetach||!s.endpoints[0===c?1:0].detach(s,!1,!1,!0,a)))s.setHover(!1),s.floatingAnchorIndex=null,s._forceDetach=null,s._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(s),s.suspendedEndpoint.addConnection(s),b.repaint(F[1]);b.remove(z.element,!1);b.remove(v.canvas,!1);this.deleteAfterDragStop?b.deleteObject({endpoint:this}):this._jsPlumb&&(this._jsPlumb.floatingEndpoint=null,this.canvas.style.visibility="visible",
this.anchor.locked=!1,this.paint({recalc:!1}));b.fire("connectionDragStop",s);b.currentlyDragging=!1;s=null}.bind(this));y=a(this.canvas);k.initDraggable(y,I,!0,b)}var C=function(c,e,f,n){if((this.isTarget||e)&&k.isDropSupported(this.element)){e=d.dropOptions||b.Defaults.DropOptions||jsPlumb.Defaults.DropOptions;e=jsPlumb.extend({},e);e.scope=e.scope||this.scope;var y=k.dragEvents.drop,C=k.dragEvents.over,x=k.dragEvents.out,p=function(){this.removeClass(b.endpointDropAllowedClass);this.removeClass(b.endpointDropForbiddenClass);
var c=k.getDropEvent(arguments),d=a(k.getDragObject(arguments)),e=b.getAttribute(d,"dragId");b.getAttribute(d,"elId");var f=b.getAttribute(d,"originalScope"),g=t[e];if(g.suspendedEndpoint&&(g.suspendedEndpoint.id==this.id||this.referenceEndpoint&&g.suspendedEndpoint.id==this.referenceEndpoint.id))g._forceReattach=!0;else if(null!=g){var y=null==g.floatingAnchorIndex?1:g.floatingAnchorIndex;f&&jsPlumb.CurrentLibrary.setDragScope(d,f);d=null!=n?n.isEnabled():!0;this.isFull()&&this.fire("maxConnections",
{endpoint:this,connection:g,maxConnections:this._jsPlumb.maxConnections},c);if(!this.isFull()&&(0!==y||this.isSource)&&(1!=y||this.isTarget)&&d){d=!0;if(g.suspendedEndpoint&&g.suspendedEndpoint.id!=this.id&&(0===y?(g.source=g.suspendedEndpoint.element,g.sourceId=g.suspendedEndpoint.elementId):(g.target=g.suspendedEndpoint.element,g.targetId=g.suspendedEndpoint.elementId),!g.isDetachAllowed(g)||!g.endpoints[y].isDetachAllowed(g)||!g.suspendedEndpoint.isDetachAllowed(g)||!b.checkCondition("beforeDetach",
g)))d=!1;0===y?(g.source=this.element,g.sourceId=this.elementId):(g.target=this.element,g.targetId=this.elementId);e=function(){g.endpoints[y].detachFromConnection(g);g.suspendedEndpoint&&g.suspendedEndpoint.detachFromConnection(g);g.endpoints[y]=this;this.addConnection(g);var a=this.getParameters(),d;for(d in a)g.setParameter(d,a[d]);g.suspendedEndpoint?(a=g.suspendedEndpoint.getElement(),d=g.suspendedEndpoint.elementId,l({source:0===y?a:g.source,target:1==y?a:g.target,sourceId:0===y?d:g.sourceId,
targetId:1==y?d:g.targetId,sourceEndpoint:0===y?g.suspendedEndpoint:g.endpoints[0],targetEndpoint:1==y?g.suspendedEndpoint:g.endpoints[1],connection:g},!0,c)):a.draggable&&jsPlumb.CurrentLibrary.initDraggable(this.element,I,!0,b);1==y?b.anchorManager.updateOtherEndpoint(g.sourceId,g.suspendedElementId,g.targetId,g):b.anchorManager.sourceChanged(g.suspendedEndpoint.elementId,g.sourceId,g);m(g,null,c,!0);g.floatingAnchorIndex=null}.bind(this);(d=d&&this.isDropAllowed(g.sourceId,g.targetId,g.scope,g,
this))?e():(g.suspendedEndpoint&&(g.endpoints[y]=g.suspendedEndpoint,g.setHover(!1),g._forceDetach=!0,0===y?(g.source=g.suspendedEndpoint.element,g.sourceId=g.suspendedEndpoint.elementId):(g.target=g.suspendedEndpoint.element,g.targetId=g.suspendedEndpoint.elementId),g.suspendedEndpoint.addConnection(g),g.endpoints[0].repaint(),g.repaint(),b.repaint(g.sourceId),g._forceDetach=!1),g.floatingAnchorIndex=null)}b.currentlyDragging=!1}}.bind(this);e[y]=g.wrap(e[y],p);e[C]=g.wrap(e[C],function(){var a=
k.getDragObject(arguments),a=b.getAttribute(a,"dragId"),a=t[a];if(null!=a){var c=null==a.floatingAnchorIndex?1:a.floatingAnchorIndex;if(this.isTarget&&0!==a.floatingAnchorIndex||a.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==a.suspendedEndpoint.id){var d=b.checkCondition("checkDropAllowed",{sourceEndpoint:a.endpoints[c],targetEndpoint:this,connection:a});this[(d?"add":"remove")+"Class"](b.endpointDropAllowedClass);this[(d?"remove":"add")+"Class"](b.endpointDropForbiddenClass);
a.endpoints[c].anchor.over(this.anchor,this)}}}.bind(this));e[x]=g.wrap(e[x],function(){var a=k.getDragObject(arguments),a=b.getAttribute(a,"dragId"),a=t[a];if(null!=a){var c=null==a.floatingAnchorIndex?1:a.floatingAnchorIndex;if(this.isTarget&&0!==a.floatingAnchorIndex||a.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==a.suspendedEndpoint.id)this.removeClass(b.endpointDropAllowedClass),this.removeClass(b.endpointDropForbiddenClass),a.endpoints[c].anchor.out()}}.bind(this));
k.initDroppable(c,e,!0,f)}}.bind(this);C(a(this.canvas),!0,!(d._transient||this.anchor.isFloating),this);d.type&&this.addType(d.type,d.data,b.isSuspendDrawing());return this};jsPlumbUtil.extend(jsPlumb.Endpoint,OverlayCapableJsPlumbUIComponent,{getTypeDescriptor:function(){return"endpoint"},isVisible:function(){return this._jsPlumb.visible},setVisible:function(c,b,f){this._jsPlumb.visible=c;this.canvas&&(this.canvas.style.display=c?"block":"none");this[c?"showOverlays":"hideOverlays"]();if(!b)for(b=
0;b<this.connections.length;b++)if(this.connections[b].setVisible(c),!f){var a=this===this.connections[b].endpoints[0]?1:0;1==this.connections[b].endpoints[a].connections.length&&this.connections[b].endpoints[a].setVisible(c,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(c,b){null!=c.maxConnections&&(this._jsPlumb.maxConnections=c.maxConnections);c.scope&&(this.scope=c.scope);jsPlumbUtil.copyValues(r,c,this)},isEnabled:function(){return this._jsPlumb.enabled},
setEnabled:function(c){this._jsPlumb.enabled=c},cleanup:function(){jsPlumb.CurrentLibrary.removeClass(this.element,this._jsPlumb.instance.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.anchor=null;this.endpoint.cleanup();this.endpoint.destroy();this.endpoint=null;var c=jsPlumb.CurrentLibrary.getElementObject(this.canvas);jsPlumb.CurrentLibrary.destroyDraggable(c);jsPlumb.CurrentLibrary.destroyDroppable(c)},setHover:function(c){this.endpoint&&(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())&&
this.endpoint.setHover(c)},isFull:function(){return!(this.isFloating()||1>this._jsPlumb.maxConnections||this.connections.length<this._jsPlumb.maxConnections)},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(c){this._jsPlumb.connectionCost=c},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(c){this._jsPlumb.connectionsDirected=c},setElementId:function(c){this.elementId=c;this.anchor.elementId=c},
setReferenceElement:function(c){this.element=jsPlumb.CurrentLibrary.getDOMElement(c)},setDragAllowedWhenFull:function(c){this.dragAllowedWhenFull=c},equals:function(c){return this.anchor.equals(c.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(c){return this.anchor.compute(c)}})})();
(function(){var c=function(c,d,b,k){if(!c.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[d][b])throw{msg:"jsPlumb: unknown connector type '"+b+"'"};return new jsPlumb.Connectors[d][b](k)},r=function(c,d,b,k,a,e,g,n,p,m){var l;k?(b.endpoints[a]=k,k.addConnection(b)):(e.endpoints||(e.endpoints=[null,null]),k=e.endpoints[a]||e.endpoint||c.Defaults.Endpoints[a]||jsPlumb.Defaults.Endpoints[a]||c.Defaults.Endpoint||jsPlumb.Defaults.Endpoint,e.endpointStyles||(e.endpointStyles=[null,null]),e.endpointHoverStyles||
(e.endpointHoverStyles=[null,null]),l=e.endpointStyles[a]||e.endpointStyle||c.Defaults.EndpointStyles[a]||jsPlumb.Defaults.EndpointStyles[a]||c.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,null==l.fillStyle&&null!=p&&(l.fillStyle=p.strokeStyle),null==l.outlineColor&&null!=p&&(l.outlineColor=p.outlineColor),null==l.outlineWidth&&null!=p&&(l.outlineWidth=p.outlineWidth),p=e.endpointHoverStyles[a]||e.endpointHoverStyle||c.Defaults.EndpointHoverStyles[a]||jsPlumb.Defaults.EndpointHoverStyles[a]||
c.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,null!=m&&(null==p&&(p={}),null==p.fillStyle&&(p.fillStyle=m.strokeStyle)),n=e.anchors?e.anchors[a]:e.anchor?e.anchor:(c.Defaults.Anchors[a]?c.makeAnchor(c.Defaults.Anchors[a],n,c):null)||(jsPlumb.Defaults.Anchors[a]?c.makeAnchor(jsPlumb.Defaults.Anchors[a],n,c):null)||(c.Defaults.Anchor?c.makeAnchor(c.Defaults.Anchor,n,c):null)||(jsPlumb.Defaults.Anchor?c.makeAnchor(jsPlumb.Defaults.Anchor,n,c):null),l=d({paintStyle:l,hoverPaintStyle:p,
endpoint:k,connections:[b],uuid:e.uuids?e.uuids[a]:null,anchor:n,source:g,scope:e.scope,container:e.container,reattach:e.reattach||c.Defaults.ReattachConnections,detachable:e.detachable||c.Defaults.ConnectionsDetachable}),b.endpoints[a]=l,!1===e.drawEndpoints&&l.setVisible(!1,!0,!0));return l};jsPlumb.Connection=function(c){var d=c.newEndpoint,b=jsPlumb.CurrentLibrary.getDOMElement,k=jsPlumbUtil;this.connector=null;this.idPrefix="_jsplumb_c_";this.defaultLabelLocation=0.5;this.defaultOverlayKeys=
["Overlays","ConnectionOverlays"];this.parent=c.parent;this.previousConnection=c.previousConnection;this.source=b(c.source);this.target=b(c.target);c.sourceEndpoint&&(this.source=c.sourceEndpoint.endpointWillMoveTo||c.sourceEndpoint.getElement());c.targetEndpoint&&(this.target=c.targetEndpoint.getElement());OverlayCapableJsPlumbUIComponent.apply(this,arguments);this.sourceId=this._jsPlumb.instance.getId(this.source);this.targetId=this._jsPlumb.instance.getId(this.target);this.scope=c.scope;this.endpoints=
[];this.endpointStyles=[];b=this._jsPlumb.instance;this._jsPlumb.visible=!0;this._jsPlumb.editable=!0===c.editable;this._jsPlumb.params={parent:c.parent,cssClass:c.cssClass,container:c.container,"pointer-events":c["pointer-events"],editorParams:c.editorParams};this._jsPlumb.lastPaintedAt=null;this.getDefaultType=function(){return{parameters:{},scope:null,detachable:this._jsPlumb.instance.Defaults.ConnectionsDetachable,rettach:this._jsPlumb.instance.Defaults.ReattachConnections,paintStyle:this._jsPlumb.instance.Defaults.PaintStyle||
jsPlumb.Defaults.PaintStyle,connector:this._jsPlumb.instance.Defaults.Connector||jsPlumb.Defaults.Connector,hoverPaintStyle:this._jsPlumb.instance.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,overlays:this._jsPlumb.instance.Defaults.ConnectorOverlays||jsPlumb.Defaults.ConnectorOverlays}};var a=r(b,d,this,c.sourceEndpoint,0,c,this.source,this.sourceId,c.paintStyle,c.hoverPaintStyle);a&&k.addToList(c.endpointsByElement,this.sourceId,a);(d=r(b,d,this,c.targetEndpoint,1,c,this.target,this.targetId,
c.paintStyle,c.hoverPaintStyle))&&k.addToList(c.endpointsByElement,this.targetId,d);this.scope||(this.scope=this.endpoints[0].scope);null!=c.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=c.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=c.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0));this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||
c.connector||b.Defaults.Connector||jsPlumb.Defaults.Connector,!0);c.path&&this.connector.setPath(c.path);this.setPaintStyle(this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||c.paintStyle||b.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,!0);this.setHoverPaintStyle(this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||c.hoverPaintStyle||b.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,!0);this._jsPlumb.paintStyleInUse=this.getPaintStyle();var e=
b.getSuspendedAt();b.updateOffset({elId:this.sourceId,timestamp:e});b.updateOffset({elId:this.targetId,timestamp:e});if(!b.isSuspendDrawing()){var d=b.getCachedData(this.sourceId),k=d.o,d=d.s,g=b.getCachedData(this.targetId),a=g.o,g=g.s,e=e||b.timestamp(),n=this.endpoints[0].anchor.compute({xy:[k.left,k.top],wh:d,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[a.left,a.top],twh:g,tElement:this.endpoints[1],timestamp:e});this.endpoints[0].paint({anchorLoc:n,timestamp:e});n=this.endpoints[1].anchor.compute({xy:[a.left,
a.top],wh:g,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[k.left,k.top],twh:d,tElement:this.endpoints[0],timestamp:e});this.endpoints[1].paint({anchorLoc:n,timestamp:e})}this._jsPlumb.detachable=b.Defaults.ConnectionsDetachable;!1===c.detachable&&(this._jsPlumb.detachable=!1);!1===this.endpoints[0].connectionsDetachable&&(this._jsPlumb.detachable=!1);!1===this.endpoints[1].connectionsDetachable&&(this._jsPlumb.detachable=!1);this._jsPlumb.reattach=c.reattach||this.endpoints[0].reattachConnections||
this.endpoints[1].reattachConnections||b.Defaults.ReattachConnections;this._jsPlumb.cost=c.cost||this.endpoints[0].getConnectionCost();this._jsPlumb.directed=c.directed;null==c.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());b=jsPlumb.extend({},this.endpoints[1].getParameters());jsPlumb.extend(b,this.endpoints[0].getParameters());jsPlumb.extend(b,this.getParameters());this.setParameters(b);(b=c.type||this.endpoints[0].connectionType||this.endpoints[1].connectionType)&&
this.addType(b,c.data,!0)};jsPlumbUtil.extend(jsPlumb.Connection,OverlayCapableJsPlumbUIComponent,{applyType:function(c,d){null!=c.detachable&&this.setDetachable(c.detachable);null!=c.reattach&&this.setReattach(c.reattach);c.scope&&(this.scope=c.scope);this.setConnector(c.connector,d)},getTypeDescriptor:function(){return"connection"},getAttachedElements:function(){return this.endpoints},addClass:function(c,d){d&&(this.endpoints[0].addClass(c),this.endpoints[1].addClass(c),this.suspendedEndpoint&&
this.suspendedEndpoint.addClass(c));this.connector&&this.connector.addClass(c)},removeClass:function(c,d){d&&(this.endpoints[0].removeClass(c),this.endpoints[1].removeClass(c),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(c));this.connector&&this.connector.removeClass(c)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(c){this._jsPlumb.visible=c;this[c?"showOverlays":"hideOverlays"]();this.connector&&this.connector.canvas&&(this.connector.canvas.style.display=c?
"block":"none");this.repaint()},setEditable:function(c){this.connector&&this.connector.isEditable()&&(this._jsPlumb.editable=c);return this._jsPlumb.editable},isEditable:function(){return this._jsPlumb.editable},editStarted:function(){this.setSuspendEvents(!0);this.fire("editStarted",{path:this.connector.getPath()});this._jsPlumb.instance.setHoverSuspended(!0)},editCompleted:function(){this.fire("editCompleted",{path:this.connector.getPath()});this.setSuspendEvents(!1);this.setHover(!1);this._jsPlumb.instance.setHoverSuspended(!1)},
editCanceled:function(){this.fire("editCanceled",{path:this.connector.getPath()});this.setHover(!1);this._jsPlumb.instance.setHoverSuspended(!1)},cleanup:function(){this.target=this.source=this.endpoints=null;null!=this.connector&&(this.connector.cleanup(),this.connector.destroy());this.connector=null},isDetachable:function(){return!0===this._jsPlumb.detachable},setDetachable:function(c){this._jsPlumb.detachable=!0===c},isReattach:function(){return!0===this._jsPlumb.reattach},setReattach:function(c){this._jsPlumb.reattach=
!0===c},setHover:function(c){this.connector&&(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())&&(this.connector.setHover(c),jsPlumb.CurrentLibrary[c?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),jsPlumb.CurrentLibrary[c?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getCost:function(){return this._jsPlumb.cost},setCost:function(c){this._jsPlumb.cost=c},isDirected:function(){return!0===this._jsPlumb.directed},moveParent:function(c){var d=
jsPlumb.CurrentLibrary;d.getParent(this.connector.canvas);this.connector.bgCanvas&&(d.removeElement(this.connector.bgCanvas),d.appendElement(this.connector.bgCanvas,c));d.removeElement(this.connector.canvas);d.appendElement(this.connector.canvas,c);for(var b=0;b<this._jsPlumb.overlays.length;b++)this._jsPlumb.overlays[b].isAppendedAtTopLevel&&(d.removeElement(this._jsPlumb.overlays[b].canvas),d.appendElement(this._jsPlumb.overlays[b].canvas,c),this._jsPlumb.overlays[b].reattachListeners&&this._jsPlumb.overlays[b].reattachListeners(this.connector));
this.connector.reattachListeners&&this.connector.reattachListeners()},getConnector:function(){return this.connector},setConnector:function(f,d){var b=jsPlumbUtil;null!=this.connector&&(this.connector.cleanup(),this.connector.destroy());var k={_jsPlumb:this._jsPlumb.instance,parent:this._jsPlumb.params.parent,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},a=this._jsPlumb.instance.getRenderMode();b.isString(f)?
this.connector=c(this._jsPlumb.instance,a,f,k):b.isArray(f)&&(this.connector=1==f.length?c(this._jsPlumb.instance,a,f[0],k):c(this._jsPlumb.instance,a,f[0],b.merge(f[1],k)));this.bindListeners(this.connector,this,function(a){this.setHover(a,!1)}.bind(this));this.canvas=this.connector.canvas;this._jsPlumb.editable&&null!=jsPlumb.ConnectorEditors&&jsPlumb.ConnectorEditors[this.connector.type]&&this.connector.isEditable()?new jsPlumb.ConnectorEditors[this.connector.type]({connector:this.connector,connection:this,
params:this._jsPlumb.params.editorParams||{}}):editable=!1;d||this.repaint()},paint:function(c){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){c=c||{};var d=c.ui,b=c.recalc,k=c.timestamp,a=this.targetId,e=this.sourceId;if(null==k||k!=this._jsPlumb.lastPaintedAt){d=this._jsPlumb.instance.updateOffset({elId:e,offset:d,recalc:b,timestamp:k}).o;a=this._jsPlumb.instance.updateOffset({elId:a,timestamp:k}).o;e=this.endpoints[0];b=this.endpoints[1];c.clearEdits&&(e.anchor.clearUserDefinedLocation(),
b.anchor.clearUserDefinedLocation(),this.connector.setEdited(!1));e=e.anchor.getCurrentLocation({xy:[d.left,d.top],wh:[d.width,d.height],element:e,timestamp:k});b=b.anchor.getCurrentLocation({xy:[a.left,a.top],wh:[a.width,a.height],element:b,timestamp:k});this.connector.resetBounds();this.connector.compute({sourcePos:e,targetPos:b,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:d,targetInfo:a,clearEdits:!0===c.clearEdits});
d=c=Infinity;b=a=-Infinity;for(e=0;e<this._jsPlumb.overlays.length;e++){var g=this._jsPlumb.overlays[e];g.isVisible()&&(this._jsPlumb.overlayPlacements[e]=g.draw(this.connector,this._jsPlumb.paintStyleInUse),c=Math.min(c,this._jsPlumb.overlayPlacements[e].minX),a=Math.max(a,this._jsPlumb.overlayPlacements[e].maxX),d=Math.min(d,this._jsPlumb.overlayPlacements[e].minY),b=Math.max(b,this._jsPlumb.overlayPlacements[e].maxY))}e=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2;g=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||
0);c={xmin:Math.min(this.connector.bounds.minX-(e+g),c),ymin:Math.min(this.connector.bounds.minY-(e+g),d),xmax:Math.max(this.connector.bounds.maxX+(e+g),a),ymax:Math.max(this.connector.bounds.maxY+(e+g),b)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,c);for(d=0;d<this._jsPlumb.overlays.length;d++)a=this._jsPlumb.overlays[d],a.isVisible()&&a.paint(this._jsPlumb.overlayPlacements[d],c)}this._jsPlumb.lastPaintedAt=k}},repaint:function(c){c=c||{};this.paint({elId:this.sourceId,recalc:!1!==
c.recalc,timestamp:c.timestamp,clearEdits:c.clearEdits})}})})();
(function(){jsPlumb.AnchorManager=function(c){var d={},b={},k={},a={},e={},g={},n=this,p={},m=c.jsPlumbInstance,l=jsPlumb.CurrentLibrary,t={},v=function(a,b,c,d,e,f){if(a===b)return{orientation:"identity",a:["top","top"]};var g=Math.atan2(d.centery-c.centery,d.centerx-c.centerx),l=Math.atan2(c.centery-d.centery,c.centerx-d.centerx);a=c.left<=d.left&&c.right>=d.left||c.left<=d.right&&c.right>=d.right||c.left<=d.left&&c.right>=d.right||d.left<=c.left&&d.right>=c.right;b=c.top<=d.top&&c.bottom>=d.top||
c.top<=d.bottom&&c.bottom>=d.bottom||c.top<=d.top&&c.bottom>=d.bottom||d.top<=c.top&&d.bottom>=c.bottom;g={orientation:"diagonal",theta:g,theta2:l};!a&&!b?d.left>c.left&&d.top>c.top?g.a=["right","top"]:d.left>c.left&&c.top>d.top?g.a=["top","left"]:d.left<c.left&&d.top<c.top?g.a=["top","right"]:d.left<c.left&&d.top>c.top&&(g.a=["left","top"]):a?(g.orientation="horizontal",g.a=c.top<d.top?["bottom","top"]:["top","bottom"]):(g.orientation="vertical",g.a=c.left<d.left?["right","left"]:["left","right"]);
g.a=[e.isContinuous?e.verifyEdge(g.a[0]):g.a[0],f.isContinuous?f.verifyEdge(g.a[1]):g.a[1]];return g},u=function(a,b,c,d,e,f,g){a=[];for(var l=b[e?0:1]/(d.length+1),m=0;m<d.length;m++){var n=(m+1)*l,k=f*b[e?1:0];g&&(n=b[e?0:1]-n);var p=e?n:k,n=e?k:n;a.push([c[0]+p,c[1]+n,p/b[0],n/b[1],d[m][1],d[m][2]])}return a},r=function(a){return function(b,c){var d=!0,d=a?b[0][0]<c[0][0]:b[0][0]>c[0][0];return!1===d?-1:1}},z={top:function(a,b){return a[0]>b[0]?1:-1},right:r(!0),bottom:r(!0),left:function(a,b){return(0>
a[0][0]?-Math.PI-a[0][0]:Math.PI-a[0][0])>(0>b[0][0]?-Math.PI-b[0][0]:Math.PI-b[0][0])?1:a[0][1]>b[0][1]?1:-1}},s=function(a,b){var c=m.getCachedData(a),d=c.s,c=c.o,f=function(b,c,d,f,g,l,n){if(0<f.length){f=f.sort(z[b]);b=u(b,c,d,f,g,l,"right"===b||"top"===b);c=function(a,b){var c=m.adjustForParentOffsetAndScroll([b[0],b[1]],a.canvas);k[a.id]=[c[0],c[1],b[2],b[3]];e[a.id]=n};for(d=0;d<b.length;d++)g=b[d][4],l=g.endpoints[1].elementId===a,g.endpoints[0].elementId===a?c(g.endpoints[0],b[d]):l&&c(g.endpoints[1],
b[d])}};f("bottom",d,[c.left,c.top],b.bottom,!0,1,[0,1]);f("top",d,[c.left,c.top],b.top,!0,0,[0,-1]);f("left",d,[c.left,c.top],b.left,!1,0,[-1,0]);f("right",d,[c.left,c.top],b.right,!1,1,[1,0])};this.reset=function(){d={};g={};p={}};this.addFloatingConnection=function(a,b){t[a]=b};this.removeFloatingConnection=function(a){delete t[a]};this.newConnection=function(a){var b=a.sourceId,c=a.targetId,d=a.endpoints,e=!0,f=function(a,f,m,n,k){b==c&&m.isContinuous&&(l.removeElement(d[1].canvas),e=!1);jsPlumbUtil.addToList(g,
n,[k,f,m.constructor==jsPlumb.DynamicAnchor])};f(0,d[0],d[0].anchor,c,a);e&&f(1,d[1],d[1].anchor,b,a)};var K=function(a){(function(a,b){if(a){var c=function(a){return a[4]==b};jsPlumbUtil.removeWithFunction(a.top,c);jsPlumbUtil.removeWithFunction(a.left,c);jsPlumbUtil.removeWithFunction(a.bottom,c);jsPlumbUtil.removeWithFunction(a.right,c)}})(p[a.elementId],a.id)};this.connectionDetached=function(a){var b=a.connection||a,c=a.targetId,d=b.endpoints,e=function(a,b,c,d,e){null!=c&&c.constructor==jsPlumb.FloatingAnchor||
jsPlumbUtil.removeWithFunction(g[d],function(a){return a[0].id==e.id})};e(1,d[1],d[1].anchor,a.sourceId,b);e(0,d[0],d[0].anchor,c,b);K(b.endpoints[0]);K(b.endpoints[1]);n.redraw(b.sourceId);n.redraw(b.targetId)};this.add=function(a,b){jsPlumbUtil.addToList(d,b,a)};this.changeId=function(a,b){g[b]=g[a];d[b]=d[a];delete g[a];delete d[a]};this.getConnectionsFor=function(a){return g[a]||[]};this.getEndpointsFor=function(a){return d[a]||[]};this.deleteEndpoint=function(a){jsPlumbUtil.removeWithFunction(d[a.elementId],
function(b){return b.id==a.id});K(a)};this.clearFor=function(a){delete d[a];d[a]=[]};var F=function(a,b,d,e,g,l,m,n,k,p,t,u){p=-1;var v=e.endpoints[m],s=v.id,r=[1,0][m];b=[[b,d],e,g,l,s];var w=a[k],z=v._continuousAnchorEdge?a[v._continuousAnchorEdge]:null;if(z&&(a=jsPlumbUtil.findWithFunction(z,function(a){return a[4]==s}),-1!=a)){z.splice(a,1);for(var H=0;H<z.length;H++)jsPlumbUtil.addWithFunction(t,z[H][1],function(a){return a.id==z[H][1].id}),jsPlumbUtil.addWithFunction(u,z[H][1].endpoints[m],
function(a){return a.id==z[H][1].endpoints[m].id}),jsPlumbUtil.addWithFunction(u,z[H][1].endpoints[r],function(a){return a.id==z[H][1].endpoints[r].id})}for(H=0;H<w.length;H++)1==c.idx&&(w[H][3]===l&&-1==p)&&(p=H),jsPlumbUtil.addWithFunction(t,w[H][1],function(a){return a.id==w[H][1].id}),jsPlumbUtil.addWithFunction(u,w[H][1].endpoints[m],function(a){return a.id==w[H][1].endpoints[m].id}),jsPlumbUtil.addWithFunction(u,w[H][1].endpoints[r],function(a){return a.id==w[H][1].endpoints[r].id});w.splice(n?
-1!=p?p:0:w.length,0,b);v._continuousAnchorEdge=k};this.updateOtherEndpoint=function(a,b,c,d){var e=jsPlumbUtil.findWithFunction(g[a],function(a){return a[0].id===d.id}),f=jsPlumbUtil.findWithFunction(g[b],function(a){return a[0].id===d.id});-1!=e&&(g[a][e][0]=d,g[a][e][1]=d.endpoints[1],g[a][e][2]=d.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor);-1<f&&(g[b].splice(f,1),jsPlumbUtil.addToList(g,c,[d,d.endpoints[0],d.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor]))};this.sourceChanged=
function(a,b,c){jsPlumbUtil.removeWithFunction(g[a],function(a){return a[0].id===c.id});a=jsPlumbUtil.findWithFunction(g[c.targetId],function(a){return a[0].id===c.id});-1<a&&(g[c.targetId][a][0]=c,g[c.targetId][a][1]=c.endpoints[0],g[c.targetId][a][2]=c.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor);jsPlumbUtil.addToList(g,b,[c,c.endpoints[1],c.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor])};this.rehomeEndpoint=function(a,b,c){var e=d[b]||[];c=m.getId(c);if(c!==b){var f=jsPlumbUtil.indexOf(e,
a);-1<f&&(e=e.splice(f,1)[0],n.add(e,c))}for(e=0;e<a.connections.length;e++)a.connections[e].sourceId==b?(a.connections[e].sourceId=a.elementId,a.connections[e].source=a.element,n.sourceChanged(b,a.elementId,a.connections[e])):a.connections[e].targetId==b&&(a.connections[e].targetId=a.elementId,a.connections[e].target=a.element,n.updateOtherEndpoint(a.connections[e].sourceId,b,a.elementId,a.connections[e]))};this.redraw=function(a,b,c,e,f,l){if(!m.isSuspendDrawing()){var n=d[a]||[],k=g[a]||[],u=[],
r=[],w=[];c=c||m.timestamp();e=e||{left:0,top:0};b&&(b={left:b.left+e.left,top:b.top+e.top});b=m.updateOffset({elId:a,offset:b,recalc:!1,timestamp:c});e={};for(var z=0;z<k.length;z++){var H=k[z][0],K=H.sourceId,O=H.targetId,Q=H.endpoints[0].anchor.isContinuous,W=H.endpoints[1].anchor.isContinuous;if(Q||W){var P=K+"_"+O,ha=e[P],oa=H.sourceId==a?1:0;Q&&!p[K]&&(p[K]={top:[],right:[],bottom:[],left:[]});W&&!p[O]&&(p[O]={top:[],right:[],bottom:[],left:[]});a!=O&&m.updateOffset({elId:O,timestamp:c});a!=
K&&m.updateOffset({elId:K,timestamp:c});var wa=m.getCachedData(O),xa=m.getCachedData(K);O==K&&(Q||W)?F(p[K],-Math.PI/2,0,H,!1,O,0,!1,"top",K,u,r):(ha||(ha=v(K,O,xa.o,wa.o,H.endpoints[0].anchor,H.endpoints[1].anchor),e[P]=ha),Q&&F(p[K],ha.theta,0,H,!1,O,0,!1,ha.a[0],K,u,r),W&&F(p[O],ha.theta2,-1,H,!0,K,1,!0,ha.a[1],O,u,r));Q&&jsPlumbUtil.addWithFunction(w,K,function(a){return a===K});W&&jsPlumbUtil.addWithFunction(w,O,function(a){return a===O});jsPlumbUtil.addWithFunction(u,H,function(a){return a.id==
H.id});(Q&&0===oa||W&&1===oa)&&jsPlumbUtil.addWithFunction(r,H.endpoints[oa],function(a){return a.id==H.endpoints[oa].id})}}for(z=0;z<n.length;z++)0===n[z].connections.length&&n[z].anchor.isContinuous&&(p[a]||(p[a]={top:[],right:[],bottom:[],left:[]}),F(p[a],-Math.PI/2,0,{endpoints:[n[z],n[z]],paint:function(){}},!1,a,0,!1,"top",a,u,r),jsPlumbUtil.addWithFunction(w,a,function(b){return b===a}));for(z=0;z<w.length;z++)s(w[z],p[w[z]]);for(z=0;z<n.length;z++)n[z].paint({timestamp:c,offset:b,dimensions:b.s,
recalc:!0!==l});for(z=0;z<r.length;z++)l=m.getCachedData(r[z].elementId),r[z].paint({timestamp:c,offset:l,dimensions:l.s});for(z=0;z<k.length;z++){var sa=k[z][1];if(sa.anchor.constructor==jsPlumb.DynamicAnchor){sa.paint({elementWithPrecedence:a,timestamp:c});jsPlumbUtil.addWithFunction(u,k[z][0],function(a){return a.id==k[z][0].id});for(var ia=0;ia<sa.connections.length;ia++)sa.connections[ia]!==k[z][0]&&jsPlumbUtil.addWithFunction(u,sa.connections[ia],function(a){return a.id==sa.connections[ia].id})}else sa.anchor.constructor==
jsPlumb.Anchor&&jsPlumbUtil.addWithFunction(u,k[z][0],function(a){return a.id==k[z][0].id})}(r=t[a])&&r.paint({timestamp:c,recalc:!1,elId:a});for(z=0;z<u.length;z++)u[z].paint({elId:a,timestamp:c,recalc:!1,clearEdits:f})}};var H=function(b){jsPlumbUtil.EventGenerator.apply(this);this.type="Continuous";this.isContinuous=this.isDynamic=!0;for(var c=b.faces||["top","right","bottom","left"],d=!1!==b.clockwise,f={},g={top:"bottom",right:"left",left:"right",bottom:"top"},l={top:"right",right:"bottom",left:"top",
bottom:"left"},m={top:"left",right:"top",left:"bottom",bottom:"right"},n=d?l:m,p=d?m:l,u=b.cssClass||"",d=0;d<c.length;d++)f[c[d]]=!0;this.verifyEdge=function(a){if(!f[a]){if(f[g[a]])return g[a];if(f[n[a]])return n[a];if(f[p[a]])return p[a]}return a};this.compute=function(b){return a[b.element.id]||k[b.element.id]||[0,0]};this.getCurrentLocation=function(b){return a[b.element.id]||k[b.element.id]||[0,0]};this.getOrientation=function(a){return e[a.id]||[0,0]};this.clearUserDefinedLocation=function(){delete a[b.elementId]};
this.setUserDefinedLocation=function(c){a[b.elementId]=c};this.getCssClass=function(){return u};this.setCssClass=function(a){u=a}};m.continuousAnchorFactory={get:function(a){var c=b[a.elementId];c||(c=new H(a),b[a.elementId]=c);return c},clear:function(a){delete b[a]}}};jsPlumb.Anchor=function(c){this.x=c.x||0;this.y=c.y||0;this.elementId=c.elementId;this.cssClass=c.cssClass||"";this.userDefinedLocation=null;this.orientation=c.orientation||[0,0];jsPlumbUtil.EventGenerator.apply(this);var d=c.jsPlumbInstance;
this.lastReturnValue=null;this.offsets=c.offsets||[0,0];this.timestamp=null;this.compute=function(b){var c=b.xy,a=b.wh,e=b.element,f=b.timestamp;b.clearUserDefinedLocation&&(this.userDefinedLocation=null);if(f&&f===self.timestamp)return this.lastReturnValue;null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:(this.lastReturnValue=[c[0]+this.x*a[0]+this.offsets[0],c[1]+this.y*a[1]+this.offsets[1]],this.lastReturnValue=d.adjustForParentOffsetAndScroll(this.lastReturnValue,e.canvas));
this.timestamp=f;return this.lastReturnValue};this.getCurrentLocation=function(b){return null==this.lastReturnValue||null!=b.timestamp&&this.timestamp!=b.timestamp?this.compute(b):this.lastReturnValue}};jsPlumbUtil.extend(jsPlumb.Anchor,jsPlumbUtil.EventGenerator,{equals:function(c){if(!c)return!1;var d=c.getOrientation(),b=this.getOrientation();return this.x==c.x&&this.y==c.y&&this.offsets[0]==c.offsets[0]&&this.offsets[1]==c.offsets[1]&&b[0]==d[0]&&b[1]==d[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},
setUserDefinedLocation:function(c){this.userDefinedLocation=c},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(c){return this.orientation},getCssClass:function(){return this.cssClass}});jsPlumb.FloatingAnchor=function(c){jsPlumb.Anchor.apply(this,arguments);var d=c.reference,b=jsPlumb.CurrentLibrary,k=c.jsPlumbInstance,a=b.getSize(b.getElementObject(c.referenceCanvas)),e=null,g=null;this.orientation=null;this.y=this.x=0;this.isFloating=!0;this.compute=function(b){var c=
b.xy,c=[c[0]+a[0]/2,c[1]+a[1]/2];return g=c=k.adjustForParentOffsetAndScroll(c,b.element.canvas)};this.getOrientation=function(a){if(e)return e;a=d.getOrientation(a);return[-0*Math.abs(a[0]),-0*Math.abs(a[1])]};this.over=function(a,b){e=a.getOrientation(b)};this.out=function(){e=null};this.getCurrentLocation=function(a){return null==g?this.compute(a):g}};jsPlumbUtil.extend(jsPlumb.FloatingAnchor,jsPlumb.Anchor);jsPlumb.DynamicAnchor=function(c){jsPlumb.Anchor.apply(this,arguments);this.isDynamic=
this.isSelective=!0;this.anchors=[];this.elementId=c.elementId;this.jsPlumbInstance=c.jsPlumbInstance;for(var d=0;d<c.anchors.length;d++)this.anchors[d]=c.anchors[d].constructor==jsPlumb.Anchor?c.anchors[d]:this.jsPlumbInstance.makeAnchor(c.anchors[d],this.elementId,this.jsPlumbInstance);this.addAnchor=function(a){this.anchors.push(a.constructor==jsPlumb.Anchor?a:this.jsPlumbInstance.makeAnchor(a,this.elementId,this.jsPlumbInstance))};this.getAnchors=function(){return this.anchors};this.locked=!1;
var b=0<this.anchors.length?this.anchors[0]:null,k=b,a=this,e=c.selector||function(a,b,c,d,e){var f=c[0]+d[0]/2;c=c[1]+d[1]/2;d=-1;for(var k=Infinity,u=0;u<e.length;u++){var r,z=e[u];r=c;var s=a[0]+z.x*b[0],z=a[1]+z.y*b[1],K=a[0]+b[0]/2,F=a[1]+b[1]/2;r=Math.sqrt(Math.pow(f-s,2)+Math.pow(r-z,2))+Math.sqrt(Math.pow(K-s,2)+Math.pow(F-z,2));r<k&&(d=u+0,k=r)}return e[d]};this.compute=function(c){var d=c.xy,f=c.wh,m=c.timestamp,l=c.txy,t=c.twh;c.clearUserDefinedLocation&&(userDefinedLocation=null);this.timestamp=
m;m=a.getUserDefinedLocation();if(null!=m)return m;if(this.locked||null==l||null==t)return b.compute(c);c.timestamp=null;b=e(d,f,l,t,this.anchors);this.x=b.x;this.y=b.y;b!=k&&this.fire("anchorChanged",b);k=b;return b.compute(c)};this.getCurrentLocation=function(a){return this.getUserDefinedLocation()||(null!=b?b.getCurrentLocation(a):null)};this.getOrientation=function(a){return null!=b?b.getOrientation(a):[0,0]};this.over=function(a,c){null!=b&&b.over(a,c)};this.out=function(){null!=b&&b.out()};
this.getCssClass=function(){return b&&b.getCssClass()||""}};jsPlumbUtil.extend(jsPlumb.DynamicAnchor,jsPlumb.Anchor);var c=function(c,d,b,k,a,e){jsPlumb.Anchors[a]=function(g){var n=g.jsPlumbInstance.makeAnchor([c,d,b,k,0,0],g.elementId,g.jsPlumbInstance);n.type=a;e&&e(n,g);return n}};c(0.5,0,0,-1,"TopCenter");c(0.5,1,0,1,"BottomCenter");c(0,0.5,-1,0,"LeftMiddle");c(1,0.5,1,0,"RightMiddle");c(0.5,0,0,-1,"Top");c(0.5,1,0,1,"Bottom");c(0,0.5,-1,0,"Left");c(1,0.5,1,0,"Right");c(0.5,0.5,0,0,"Center");
c(1,0,0,-1,"TopRight");c(1,1,0,1,"BottomRight");c(0,0,0,-1,"TopLeft");c(0,1,0,1,"BottomLeft");jsPlumb.Defaults.DynamicAnchors=function(c){return c.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],c.elementId,c.jsPlumbInstance)};jsPlumb.Anchors.AutoDefault=function(c){c=c.jsPlumbInstance.makeDynamicAnchor(jsPlumb.Defaults.DynamicAnchors(c));c.type="AutoDefault";return c};var r=function(c,d){jsPlumb.Anchors[c]=function(b){b=b.jsPlumbInstance.makeAnchor(["Continuous",
{faces:d}],b.elementId,b.jsPlumbInstance);b.type=c;return b}};jsPlumb.Anchors.Continuous=function(c){return c.jsPlumbInstance.continuousAnchorFactory.get(c)};r("ContinuousLeft",["left"]);r("ContinuousTop",["top"]);r("ContinuousBottom",["bottom"]);r("ContinuousRight",["right"]);jsPlumb.Anchors.Assign=c(0,0,0,0,"Assign",function(c,d){var b=d.position||"Fixed";c.positionFinder=b.constructor==String?d.jsPlumbInstance.AnchorPositionFinders[b]:b;c.constructorParams=d});jsPlumb.AnchorPositionFinders={Fixed:function(c,
d,b,k){return[(c.left-d.left)/b[0],(c.top-d.top)/b[1]]},Grid:function(c,d,b,k){var a=b[0]/k.grid[0];k=b[1]/k.grid[1];return[(Math.floor((c.left-d.left)/a)*a+a/2)/b[0],(Math.floor((c.top-d.top)/k)*k+k/2)/b[1]]}};jsPlumb.Anchors.Perimeter=function(c){c=c||{};var d=c.anchorCount||60,b=c.shape;if(!b)throw Error("no shape supplied to Perimeter Anchor type");var k=function(){for(var a=2*Math.PI/d,b=0,c=[],e=0;e<d;e++){var f=0.5+0.5*Math.sin(b),g=0.5+0.5*Math.cos(b);c.push([f,g,0,0]);b+=a}return c},a=function(a){for(var b=
d/a.length,c=[],e=function(a,e,f,g,l){b=d*l;f=(f-a)/b;g=(g-e)/b;for(l=0;l<b;l++)c.push([a+f*l,e+g*l,0,0])},f=0;f<a.length;f++)e.apply(null,a[f]);return c},e=function(b){for(var c=[],d=0;d<b.length;d++)c.push([b[d][0],b[d][1],b[d][2],b[d][3],1/b.length]);return a(c)},g=function(){return e([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},g={Circle:k,Ellipse:k,Diamond:function(){return e([[0.5,0,1,0.5],[1,0.5,0.5,1],[0.5,1,0,0.5],[0,0.5,0.5,0]])},Rectangle:g,Square:g,Triangle:function(){return e([[0.5,0,
1,1],[1,1,0,1],[0,1,0.5,0]])},Path:function(b){var c=b.points;b=[];for(var d=0,e=0;e<c.length-1;e++){var f=Math.sqrt(Math.pow(c[e][2]-c[e][0])+Math.pow(c[e][3]-c[e][1])),d=d+f;b.push([c[e][0],c[e][1],c[e+1][0],c[e+1][1],f])}for(c=0;c<b.length;c++)b[c][4]/=d;return a(b)}},k=function(a,b){for(var c=[],d=b/180*Math.PI,e=0;e<a.length;e++){var f=a[e][0]-0.5,g=a[e][1]-0.5;c.push([0.5+(f*Math.cos(d)-g*Math.sin(d)),0.5+(f*Math.sin(d)+g*Math.cos(d)),a[e][2],a[e][3]])}return c};if(!g[b])throw Error("Shape ["+
b+"] is unknown by Perimeter Anchor type");b=g[b](c);c.rotation&&(b=k(b,c.rotation));c=c.jsPlumbInstance.makeDynamicAnchor(b);c.type="Perimeter";return c}})();
(function(){jsPlumb.DOMElementComponent=jsPlumbUtil.extend(jsPlumb.jsPlumbUIComponent,function(a){this.mousemove=this.dblclick=this.click=this.mousedown=this.mouseup=function(a){}});jsPlumb.Segments={AbstractSegment:function(a){this.params=a;this.findClosestPointOnPath=function(a,b){return{d:Infinity,x:null,y:null,l:null}};this.getBounds=function(){return{minX:Math.min(a.x1,a.x2),minY:Math.min(a.y1,a.y2),maxX:Math.max(a.x1,a.x2),maxY:Math.max(a.y1,a.y2)}}},Straight:function(a){jsPlumb.Segments.AbstractSegment.apply(this,
arguments);var b,c,d,f,m,l,k;this.type="Straight";this.getLength=function(){return b};this.getGradient=function(){return c};this.getCoordinates=function(){return{x1:f,y1:l,x2:m,y2:k}};this.setCoordinates=function(a){f=a.x1;l=a.y1;m=a.x2;k=a.y2;b=Math.sqrt(Math.pow(m-f,2)+Math.pow(k-l,2));c=jsPlumbUtil.gradient({x:f,y:l},{x:m,y:k});d=-1/c};this.setCoordinates({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2});this.getBounds=function(){return{minX:Math.min(f,m),minY:Math.min(l,k),maxX:Math.max(f,m),maxY:Math.max(l,
k)}};this.pointOnPath=function(a,c){return 0===a&&!c?{x:f,y:l}:1==a&&!c?{x:m,y:k}:jsPlumbUtil.pointOnLine({x:f,y:l},{x:m,y:k},c?0<a?a:b+a:a*b)};this.gradientAtPoint=function(a){return c};this.pointAlongPathFrom=function(a,b,c){a=this.pointOnPath(a,c);c=0>=b?{x:f,y:l}:{x:m,y:k};0>=b&&1<Math.abs(b)&&(b*=-1);return jsPlumbUtil.pointOnLine(a,c,b)};this.findClosestPointOnPath=function(a,m){if(0===c)return{x:a,y:l,d:Math.abs(m-l)};if(Infinity==c||-Infinity==c)return{x:f,y:m,d:Math.abs(a-1)};var k=l-c*f,
t=(m-d*a-k)/(c-d),k=c*t+k,s=jsPlumbUtil.lineLength([a,m],[t,k]),r=jsPlumbUtil.lineLength([t,k],[f,l]);return{d:s,x:t,y:k,l:r/b}}},Arc:function(a){jsPlumb.Segments.AbstractSegment.apply(this,arguments);var b=2*Math.PI;this.radius=a.r;this.anticlockwise=a.ac;this.type="Arc";a.startAngle&&a.endAngle?(this.startAngle=a.startAngle,this.endAngle=a.endAngle,this.x1=a.cx+this.radius*Math.cos(a.startAngle),this.y1=a.cy+this.radius*Math.sin(a.startAngle),this.x2=a.cx+this.radius*Math.cos(a.endAngle),this.y2=
a.cy+this.radius*Math.sin(a.endAngle)):(this.startAngle=jsPlumbUtil.theta([a.cx,a.cy],[a.x1,a.y1]),this.endAngle=jsPlumbUtil.theta([a.cx,a.cy],[a.x2,a.y2]),this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2);0>this.endAngle&&(this.endAngle+=b);0>this.startAngle&&(this.startAngle+=b);this.segment=jsPlumbUtil.segment([this.x1,this.y1],[this.x2,this.y2]);this.sweep=Math.abs((this.endAngle<this.startAngle?this.endAngle+b:this.endAngle)-this.startAngle);this.anticlockwise&&(this.sweep=b-this.sweep);var c=
2*Math.PI*this.radius,d=c*(this.sweep/b);this.getLength=function(){return d};this.getBounds=function(){return{minX:a.cx-a.r,maxX:a.cx+a.r,minY:a.cy-a.r,maxY:a.cy+a.r}};var f=function(a){var b=Math.floor(a),c=Math.ceil(a);return 1E-10>a-b?b:1E-10>c-a?c:a};this.pointOnPath=function(c,g){if(0===c)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==c)return{x:this.x2,y:this.y2,theta:this.endAngle};g&&(c/=d);var k;k=c;if(this.anticlockwise){var v=this.startAngle<this.endAngle?this.startAngle+b:this.startAngle,
u=Math.abs(v-this.endAngle);k=v-u*k}else v=Math.abs((this.endAngle<this.startAngle?this.endAngle+b:this.endAngle)-this.startAngle),k=this.startAngle+v*k;v=a.cx+a.r*Math.cos(k);u=a.cy+a.r*Math.sin(k);return{x:f(v),y:f(u),theta:k}};this.gradientAtPoint=function(b,c){var d=this.pointOnPath(b,c),d=jsPlumbUtil.normal([a.cx,a.cy],[d.x,d.y]);if(!this.anticlockwise&&(Infinity==d||-Infinity==d))d*=-1;return d};this.pointAlongPathFrom=function(b,d,e){d=this.pointOnPath(b,e).theta+(this.anticlockwise?-1:1)*
2*(d/c)*Math.PI;b=a.cx+this.radius*Math.cos(d);d=a.cy+this.radius*Math.sin(d);return{x:b,y:d}}},Bezier:function(a){jsPlumb.Segments.AbstractSegment.apply(this,arguments);var b=[{x:a.x1,y:a.y1},{x:a.cp1x,y:a.cp1y},{x:a.cp2x,y:a.cp2y},{x:a.x2,y:a.y2}],c={minX:Math.min(a.x1,a.x2,a.cp1x,a.cp2x),minY:Math.min(a.y1,a.y2,a.cp1y,a.cp2y),maxX:Math.max(a.x1,a.x2,a.cp1x,a.cp2x),maxY:Math.max(a.y1,a.y2,a.cp1y,a.cp2y)};this.type="Bezier";var d=function(a,b,c){c&&(b=jsBezier.locationAlongCurveFrom(a,0<b?0:1,b));
return b};this.pointOnPath=function(a,c){a=d(b,a,c);return jsBezier.pointOnCurve(b,a)};this.gradientAtPoint=function(a,c){a=d(b,a,c);return jsBezier.gradientAtPoint(b,a)};this.pointAlongPathFrom=function(a,c,f){a=d(b,a,f);return jsBezier.pointAlongCurveFrom(b,a,c)};this.getLength=function(){return jsBezier.getLength(b)};this.getBounds=function(){return c}}};var c=function(){this.resetBounds=function(){this.bounds={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}};this.resetBounds()};jsPlumb.Connectors.AbstractConnector=
function(a){c.apply(this,arguments);var b=[],d=0,f=[],k=[],m=a.stub||0,l=jsPlumbUtil.isArray(m)?m[0]:m,t=jsPlumbUtil.isArray(m)?m[1]:m,m=a.gap||0,v=jsPlumbUtil.isArray(m)?m[0]:m,u=jsPlumbUtil.isArray(m)?m[1]:m,r=null,z=!1,s=null;this.isEditable=function(){return!1};this.setEdited=function(a){z=a};this.getPath=function(){};this.setPath=function(a){};this.findSegmentForPoint=function(a,c){for(var d={d:Infinity,s:null,x:null,y:null,l:null},f=0;f<b.length;f++){var g=b[f].findClosestPointOnPath(a,c);g.d<
d.d&&(d.d=g.d,d.l=g.l,d.x=g.x,d.y=g.y,d.s=b[f])}return d};var K=function(a,c){c&&(a=0<a?a/d:(d+a)/d);for(var l=f.length-1,m=1,u=0;u<f.length;u++)if(f[u][1]>=a){l=u;m=1==a?1:0===a?0:(a-f[u][0])/k[u];break}return{segment:b[l],proportion:m,index:l}};this.setSegments=function(a){r=[];for(var b=d=0;b<a.length;b++)r.push(a[b]),d+=a[b].getLength()};var F=function(a){this.lineWidth=a.lineWidth;var b=jsPlumbUtil.segment(a.sourcePos,a.targetPos),c=a.targetPos[0]<a.sourcePos[0],d=a.targetPos[1]<a.sourcePos[1],
e=a.lineWidth||1,f=a.sourceEndpoint.anchor.orientation||a.sourceEndpoint.anchor.getOrientation(a.sourceEndpoint),g=a.targetEndpoint.anchor.orientation||a.targetEndpoint.anchor.getOrientation(a.targetEndpoint),m=c?a.targetPos[0]:a.sourcePos[0],k=d?a.targetPos[1]:a.sourcePos[1],n=Math.abs(a.targetPos[0]-a.sourcePos[0]),p=Math.abs(a.targetPos[1]-a.sourcePos[1]);if(0===f[0]&&0===f[1]||0===g[0]&&0===g[1]){var s=n>p?0:1,r=[1,0][s],f=[],g=[];f[s]=a.sourcePos[s]>a.targetPos[s]?-1:1;g[s]=a.sourcePos[s]>a.targetPos[s]?
1:-1;f[r]=0;g[r]=0}a=c?n+v*f[0]:v*f[0];s=d?p+v*f[1]:v*f[1];c=c?u*g[0]:n+u*g[0];d=d?u*g[1]:p+u*g[1];r=f[0]*g[0]+f[1]*g[1];b={sx:a,sy:s,tx:c,ty:d,lw:e,xSpan:Math.abs(c-a),ySpan:Math.abs(d-s),mx:(a+c)/2,my:(s+d)/2,so:f,to:g,x:m,y:k,w:n,h:p,segment:b,startStubX:a+f[0]*l,startStubY:s+f[1]*l,endStubX:c+g[0]*t,endStubY:d+g[1]*t,isXGreaterThanStubTimes2:Math.abs(a-c)>l+t,isYGreaterThanStubTimes2:Math.abs(s-d)>l+t,opposite:-1==r,perpendicular:0===r,orthogonal:1==r,sourceAxis:0===f[0]?"y":"x",points:[m,k,n,
p,a,s,c,d]};b.anchorOrientation=b.opposite?"opposite":b.orthogonal?"orthogonal":"perpendicular";return b};this.getSegments=function(){return b};this.updateBounds=function(a){a=a.getBounds();this.bounds.minX=Math.min(this.bounds.minX,a.minX);this.bounds.maxX=Math.max(this.bounds.maxX,a.maxX);this.bounds.minY=Math.min(this.bounds.minY,a.minY);this.bounds.maxY=Math.max(this.bounds.maxY,a.maxY)};this.pointOnPath=function(a,b){var c=K(a,b);return c.segment&&c.segment.pointOnPath(c.proportion,b)||[0,0]};
this.gradientAtPoint=function(a){a=K(a,absolute);return a.segment&&a.segment.gradientAtPoint(a.proportion,absolute)||0};this.pointAlongPathFrom=function(a,b,c){a=K(a,c);return a.segment&&a.segment.pointAlongPathFrom(a.proportion,b,!1)||[0,0]};this.compute=function(a){z||(s=F(a));d=0;b.splice(0,b.length);f.splice(0,f.length);k.splice(0,k.length);this._compute(s,a);this.x=s.points[0];this.y=s.points[1];this.w=s.points[2];this.h=s.points[3];this.segment=s.segment;for(var c=a=0;c<b.length;c++){var l=
b[c].getLength();k[c]=l/d;f[c]=[a,a+=l/d]}};return{addSegment:function(a,c,f){f.x1==f.x2&&f.y1==f.y2||(c=new jsPlumb.Segments[c](f),b.push(c),d+=c.getLength(),a.updateBounds(c))},prepareCompute:F,sourceStub:l,targetStub:t,maxStub:Math.max(l,t),sourceGap:v,targetGap:u,maxGap:Math.max(v,u)}};jsPlumbUtil.extend(jsPlumb.Connectors.AbstractConnector,c);jsPlumbUtil.extend(jsPlumb.Connectors.Straight,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(function(){this.type="Straight";var a=
jsPlumb.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(b,c){a.addSegment(this,"Straight",{x1:b.sx,y1:b.sy,x2:b.startStubX,y2:b.startStubY});a.addSegment(this,"Straight",{x1:b.startStubX,y1:b.startStubY,x2:b.endStubX,y2:b.endStubY});a.addSegment(this,"Straight",{x1:b.endStubX,y1:b.endStubY,x2:b.tx,y2:b.ty})}},"Straight");var r=function(a){a=a||{};var b=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),c=a.curviness||150;this.type="Bezier";this.getCurviness=function(){return c};
this._findControlPoint=function(a,b,d,e,f){e=e.anchor.getOrientation(e);f=f.anchor.getOrientation(f);var k=[];e[0]!=f[0]||e[1]==f[1]?(0===f[0]?k.push(d[0]<b[0]?a[0]+10:a[0]-10):k.push(a[0]+c*f[0]),0===f[1]?k.push(d[1]<b[1]?a[1]+10:a[1]-10):k.push(a[1]+c*e[1])):(0===e[0]?k.push(b[0]<d[0]?a[0]+10:a[0]-10):k.push(a[0]-c*e[0]),0===e[1]?k.push(b[1]<d[1]?a[1]+10:a[1]-10):k.push(a[1]+c*f[1]));return k};this._compute=function(a,c){var d=c.sourcePos,f=c.targetPos,g=Math.abs(d[0]-f[0]),k=Math.abs(d[1]-f[1]),
u=d[0]<f[0]?g:0,r=d[1]<f[1]?k:0,g=d[0]<f[0]?0:g,k=d[1]<f[1]?0:k,z=this._findControlPoint([u,r],d,f,c.sourceEndpoint,c.targetEndpoint),d=this._findControlPoint([g,k],f,d,c.targetEndpoint,c.sourceEndpoint);b.addSegment(this,"Bezier",{x1:u,y1:r,x2:g,y2:k,cp1x:z[0],cp1y:z[1],cp2x:d[0],cp2y:d[1]})}};jsPlumbUtil.extend(r,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(r,"Bezier");jsPlumb.Endpoints.AbstractEndpoint=function(a){c.apply(this,arguments);return{compute:this.compute=function(a,
b,c,d){var f=this._compute.apply(this,arguments);this.x=f[0];this.y=f[1];this.w=f[2];this.h=f[3];this.bounds.minX=this.x;this.bounds.minY=this.y;this.bounds.maxX=this.x+this.w;this.bounds.maxY=this.y+this.h;return f},cssClass:a.cssClass}};jsPlumbUtil.extend(jsPlumb.Endpoints.AbstractEndpoint,c);jsPlumb.Endpoints.Dot=function(a){this.type="Dot";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.radius=a.radius||10;this.defaultOffset=0.5*this.radius;this.defaultInnerRadius=this.radius/
3;this._compute=function(a,b,c,d){this.radius=c.radius||this.radius;b=a[0]-this.radius;a=a[1]-this.radius;d=2*this.radius;var f=2*this.radius;c.strokeStyle&&(c=c.lineWidth||1,b-=c,a-=c,d+=2*c,f+=2*c);return[b,a,d,f,this.radius]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Dot,jsPlumb.Endpoints.AbstractEndpoint);jsPlumb.Endpoints.Rectangle=function(a){this.type="Rectangle";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.width=a.width||20;this.height=a.height||20;this._compute=function(a,
b,c,d){b=c.width||this.width;c=c.height||this.height;return[a[0]-b/2,a[1]-c/2,b,c]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Rectangle,jsPlumb.Endpoints.AbstractEndpoint);var f=function(a){jsPlumb.DOMElementComponent.apply(this,arguments);this._jsPlumb.displayElements=[]};jsPlumbUtil.extend(f,jsPlumb.DOMElementComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(a){this._jsPlumb.displayElements.push(a)}});jsPlumb.Endpoints.Image=function(a){this.type=
"Image";f.apply(this,arguments);jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);var b=a.onload,c=a.src||a.url,d=a.parent,k=a.cssClass?" "+a.cssClass:"";this._jsPlumb.img=new Image;this._jsPlumb.ready=!1;this._jsPlumb.initialized=!1;this._jsPlumb.deleted=!1;this._jsPlumb.widthToUse=a.width;this._jsPlumb.heightToUse=a.height;this._jsPlumb.endpoint=a.endpoint;this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,
this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,b&&b(this))}.bind(this);this._jsPlumb.endpoint.setImage=function(a,c){var d=a.constructor==String?a:a.src;b=c;this._jsPlumb.img.src=d;null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this);this._jsPlumb.endpoint.setImage(c,b);this._compute=function(a,b,c,d){this.anchorPoint=a;return this._jsPlumb.ready?[a[0]-this._jsPlumb.widthToUse/2,a[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,
this._jsPlumb.heightToUse]:[0,0,0,0]};this.canvas=document.createElement("img");this.canvas.style.margin=0;this.canvas.style.padding=0;this.canvas.style.outline=0;this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.instance.endpointClass+k;this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse);this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse);this._jsPlumb.instance.appendElement(this.canvas,d);this.attachListeners(this.canvas,
this);this.actuallyPaint=function(a,b,c){this._jsPlumb.deleted||(this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0),jsPlumbUtil.sizeElement(this.canvas,this.anchorPoint[0]-this._jsPlumb.widthToUse/2,this.anchorPoint[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse))};this.paint=function(a,b){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(a,b):window.setTimeout(function(){this.paint(a,
b)}.bind(this),200))}};jsPlumbUtil.extend(jsPlumb.Endpoints.Image,[f,jsPlumb.Endpoints.AbstractEndpoint],{cleanup:function(){this._jsPlumb.deleted=!0;jsPlumbUtil.removeElement(this.canvas);this.canvas=null}});jsPlumb.Endpoints.Blank=function(a){jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank";f.apply(this,arguments);this._compute=function(a,b,c,d){return[a[0],a[1],10,0]};this.canvas=document.createElement("div");this.canvas.style.display="block";this.canvas.style.width="1px";
this.canvas.style.height="1px";this.canvas.style.background="transparent";this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.endpointClass;jsPlumb.appendElement(this.canvas,a.parent);this.paint=function(a,b){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}};jsPlumbUtil.extend(jsPlumb.Endpoints.Blank,[jsPlumb.Endpoints.AbstractEndpoint,f],{cleanup:function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)}});jsPlumb.Endpoints.Triangle=function(a){this.type=
"Triangle";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};a.width=a.width||55;a.height=a.height||55;this.width=a.width;this.height=a.height;this._compute=function(a,b,c,d){b=c.width||self.width;c=c.height||self.height;return[a[0]-b/2,a[1]-c/2,b,c]}};var d=jsPlumb.Overlays.AbstractOverlay=function(a){this.isAppendedAtTopLevel=this.visible=!0;this.component=a.component;this.loc=null==a.location?0.5:a.location;this.endpointLoc=null==a.endpointLocation?[0.5,0.5]:a.endpointLocation};
d.prototype={cleanup:function(){this.endpointLoc=this.canvas=this.component=null},setVisible:function(a){this.visible=a;this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(a){this.loc+=a;this.component.repaint()},setLocation:function(a){this.loc=a;this.component.repaint()},getLocation:function(){return this.loc}};jsPlumb.Overlays.Arrow=function(a){this.type="Arrow";d.apply(this,arguments);
this.isAppendedAtTopLevel=!1;a=a||{};var b=jsPlumbUtil;this.length=a.length||20;this.width=a.width||20;this.id=a.id;var c=0>(a.direction||1)?-1:1,f=a.paintStyle||{lineWidth:1},k=a.foldback||0.623;this.computeMaxSize=function(){return 1.5*self.width};this.draw=function(a,d){var t,v,u;return a.pointAlongPathFrom?(b.isString(this.loc)||1<this.loc||0>this.loc?(u=parseInt(this.loc,10),t=a.pointAlongPathFrom(u,c*this.length/2,!0),v=a.pointOnPath(u,!0),u=b.pointOnLine(t,v,this.length)):1==this.loc?(t=a.pointOnPath(this.loc),
v=a.pointAlongPathFrom(this.loc,-this.length),u=b.pointOnLine(t,v,this.length),-1==c&&(v=u,u=t,t=v)):0===this.loc?(u=a.pointOnPath(this.loc),v=a.pointAlongPathFrom(this.loc,this.length),t=b.pointOnLine(u,v,this.length),-1==c&&(v=u,u=t,t=v)):(t=a.pointAlongPathFrom(this.loc,c*this.length/2),v=a.pointOnPath(this.loc),u=b.pointOnLine(t,v,this.length)),v=b.perpendicularLineTo(t,u,this.width),u=b.pointOnLine(t,u,k*this.length),{component:a,d:{hxy:t,tail:v,cxy:u},lineWidth:f.lineWidth||d.lineWidth,strokeStyle:f.strokeStyle||
d.strokeStyle,fillStyle:f.fillStyle||d.strokeStyle,minX:Math.min(t.x,v[0].x,v[1].x),maxX:Math.max(t.x,v[0].x,v[1].x),minY:Math.min(t.y,v[0].y,v[1].y),maxY:Math.max(t.y,v[0].y,v[1].y)}):{component:a,minX:0,maxX:0,minY:0,maxY:0}}};jsPlumbUtil.extend(jsPlumb.Overlays.Arrow,d);jsPlumb.Overlays.PlainArrow=function(a){a=a||{};a=jsPlumb.extend(a,{foldback:1});jsPlumb.Overlays.Arrow.call(this,a);this.type="PlainArrow"};jsPlumbUtil.extend(jsPlumb.Overlays.PlainArrow,jsPlumb.Overlays.Arrow);jsPlumb.Overlays.Diamond=
function(a){a=a||{};a=jsPlumb.extend(a,{length:(a.length||40)/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,a);this.type="Diamond"};jsPlumbUtil.extend(jsPlumb.Overlays.Diamond,jsPlumb.Overlays.Arrow);var b=function(a){null==a._jsPlumb.cachedDimensions&&(a._jsPlumb.cachedDimensions=a.getDimensions());return a._jsPlumb.cachedDimensions},k=function(a){jsPlumb.DOMElementComponent.apply(this,arguments);d.apply(this,arguments);var c=jsPlumb.CurrentLibrary;this.id=a.id;this._jsPlumb.div=null;this._jsPlumb.initialised=
!1;this._jsPlumb.component=a.component;this._jsPlumb.cachedDimensions=null;this._jsPlumb.create=a.create;this.getElement=function(){if(null==this._jsPlumb.div){var b=this._jsPlumb.div=c.getDOMElement(this._jsPlumb.create(this._jsPlumb.component));b.style.position="absolute";b.className=a._jsPlumb.overlayClass+" "+(this.cssClass?this.cssClass:a.cssClass?a.cssClass:"");this._jsPlumb.instance.appendElement(b,this._jsPlumb.component.parent);this._jsPlumb.instance.getId(b);this.attachListeners(b,this);
this.canvas=b}return this._jsPlumb.div};this.draw=function(a,c){var d=b(this);if(null!=d&&2==d.length){var e={x:0,y:0};if(a.pointOnPath){var e=this.loc,f=!1;if(jsPlumbUtil.isString(this.loc)||0>this.loc||1<this.loc)e=parseInt(this.loc,10),f=!0;e=a.pointOnPath(e,f)}else e=this.loc.constructor==Array?this.loc:this.endpointLoc,e={x:e[0]*a.w,y:e[1]*a.h};var f=e.x-d[0]/2,k=e.y-d[1]/2;return{component:a,d:{minx:f,miny:k,td:d,cxy:e},minX:f,maxX:f+d[0],minY:k,maxY:k+d[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};
jsPlumbUtil.extend(k,[jsPlumb.DOMElementComponent,d],{getDimensions:function(){return jsPlumb.CurrentLibrary.getSize(jsPlumb.CurrentLibrary.getElementObject(this.getElement()))},setVisible:function(a){this._jsPlumb.div.style.display=a?"block":"none"},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(){null!=this._jsPlumb.div&&jsPlumb.CurrentLibrary.removeElement(this._jsPlumb.div)},computeMaxSize:function(){var a=b(this);return Math.max(a[0],a[1])},reattachListeners:function(a){this._jsPlumb.div&&
this.reattachListenersForElement(this._jsPlumb.div,this,a)},paint:function(a,b){this._jsPlumb.initialised||(this.getElement(),a.component.appendDisplayElement(this._jsPlumb.div),this.attachListeners(this._jsPlumb.div,a.component),this._jsPlumb.initialised=!0);this._jsPlumb.div.style.left=a.component.x+a.d.minx+"px";this._jsPlumb.div.style.top=a.component.y+a.d.miny+"px"}});jsPlumb.Overlays.Custom=function(a){this.type="Custom";k.apply(this,arguments)};jsPlumbUtil.extend(jsPlumb.Overlays.Custom,k);
jsPlumb.Overlays.GuideLines=function(){var a=this;a.length=50;a.lineWidth=5;this.type="GuideLines";d.apply(this,arguments);jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.draw=function(b,c){var d=b.pointAlongPathFrom(a.loc,a.length/2),f=b.pointOnPath(a.loc),f=jsPlumbUtil.pointOnLine(d,f,a.length),m=jsPlumbUtil.perpendicularLineTo(d,f,40),l=jsPlumbUtil.perpendicularLineTo(f,d,20);return{connector:b,head:d,tail:f,headLine:l,tailLine:m,minX:Math.min(d.x,f.x,l[0].x,l[1].x),minY:Math.min(d.y,f.y,
l[0].y,l[1].y),maxX:Math.max(d.x,f.x,l[0].x,l[1].x),maxY:Math.max(d.y,f.y,l[0].y,l[1].y)}}};jsPlumb.Overlays.Label=function(a){this.labelStyle=a.labelStyle||jsPlumb.Defaults.LabelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var b=jsPlumb.extend({create:function(){return document.createElement("div")}},a);jsPlumb.Overlays.Custom.call(this,b);this.type="Label";this.label=a.label||"";this.labelText=null};jsPlumbUtil.extend(jsPlumb.Overlays.Label,jsPlumb.Overlays.Custom,{cleanup:function(){this.labelStyle=
this.cssClass=this.labelText=this.label=this.div=null},getLabel:function(){return this.label},setLabel:function(a){this.label=a;this.labelText=null;this.clearCachedDimensions();this.update();this.component.repaint()},getDimensions:function(){this.update();return k.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var a=this.label(this);this.getElement().innerHTML=a.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=
this.labelText.replace(/\r\n/g,"<br/>"))}})})();
(function(){var c=function(c){this.type="Flowchart";c=c||{};c.stub=null==c.stub?30:c.stub;var f=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),d=null==c.midpoint?0.5:c.midpoint,b=[],k=c.alwaysRespectStubs,a=null,e=null,g=null,n=null!=c.cornerRadius?c.cornerRadius:0,p=function(a){return 0>a?-1:0===a?0:1},m=function(a,b,c,d){if(!(e==b&&g==c)){var f=null==e?d.sx:e;d=null==g?d.sy:g;var l=f==b?"v":"h",m=p(b-f),k=p(c-d);e=b;g=c;a.push([f,d,b,c,l,m,k])}},l=function(a){return Math.sqrt(Math.pow(a[0]-
a[2],2)+Math.pow(a[1]-a[3],2))},t=function(a){var b=[];b.push.apply(b,a);return b},v=function(a,b,c){for(var d,e,g=0;g<b.length-1;g++){d=d||t(b[g]);e=t(b[g+1]);if(0<n&&d[4]!=e[4]){var m=Math.min(n,l(d),l(e));d[2]-=d[5]*m;d[3]-=d[6]*m;e[0]+=e[5]*m;e[1]+=e[6]*m;var k=d[6]==e[5]&&1==e[5]||d[6]==e[5]&&0===e[5]&&d[5]!=e[6]||d[6]==e[5]&&-1==e[5],p=(e[1]>d[3]?1:-1)==(e[0]>d[2]?1:-1),v=p&&k||!p&&!k?e[0]:d[2],p=p&&k||!p&&!k?d[3]:e[1];f.addSegment(a,"Straight",{x1:d[0],y1:d[1],x2:d[2],y2:d[3]});f.addSegment(a,
"Arc",{r:m,x1:d[2],y1:d[3],x2:e[0],y2:e[1],cx:v,cy:p,ac:k})}else m=d[2]==d[0]?0:d[2]>d[0]?c.lw/2:-(c.lw/2),k=d[3]==d[1]?0:d[3]>d[1]?c.lw/2:-(c.lw/2),f.addSegment(a,"Straight",{x1:d[0]-m,y1:d[1]-k,x2:d[2]+m,y2:d[3]+k});d=e}f.addSegment(a,"Straight",{x1:e[0],y1:e[1],x2:e[2],y2:e[3]})};this.setSegments=function(b){a=b};this.isEditable=function(){return!0};this.getOriginalSegments=function(){return a||b};this._compute=function(c,l){l.clearEdits&&(a=null);if(null!=a)v(this,a,c);else{b=[];g=e=null;var n=
c.startStubX+(c.endStubX-c.startStubX)*d,p=c.startStubY+(c.endStubY-c.startStubY)*d,t={x:[0,1],y:[1,0]},r=function(a){return[c.startStubX,c.startStubY,c.endStubX,c.endStubY]},r={perpendicular:r,orthogonal:r,opposite:function(a){var b="x"==a?0:1,d={x:function(){return 1==c.so[b]&&(c.startStubX>c.endStubX&&c.tx>c.startStubX||c.sx>c.endStubX&&c.tx>c.sx)||-1==c.so[b]&&(c.startStubX<c.endStubX&&c.tx<c.startStubX||c.sx<c.endStubX&&c.tx<c.sx)},y:function(){return 1==c.so[b]&&(c.startStubY>c.endStubY&&c.ty>
c.startStubY||c.sy>c.endStubY&&c.ty>c.sy)||-1==c.so[b]&&(c.startStubY<c.endStubY&&c.ty<c.startStubY||c.sy<c.endStubY&&c.ty<c.sy)}};return!k&&d[a]()?{x:[(c.sx+c.tx)/2,c.startStubY,(c.sx+c.tx)/2,c.endStubY],y:[c.startStubX,(c.sy+c.ty)/2,c.endStubX,(c.sy+c.ty)/2]}[a]:[c.startStubX,c.startStubY,c.endStubX,c.endStubY]}}[c.anchorOrientation](c.sourceAxis),H="x"==c.sourceAxis?0:1,y="x"==c.sourceAxis?1:0,I=r[H],L=r[y],J=r[H+2],y=r[y+2];m(b,r[0],r[1],c);if(I={perpendicular:function(a,b,d,e,f){var g={x:[[c.startStubX,
c.endStubX],null,[c.endStubX,c.startStubX]],y:[[c.startStubY,c.endStubY],null,[c.endStubY,c.startStubY]]};b={x:[[n,c.startStubY],[n,c.endStubY]],y:[[c.startStubX,p],[c.endStubX,p]]};d={x:[[c.endStubX,c.startStubY]],y:[[c.startStubX,c.endStubY]]};e={x:[[c.startStubX,c.endStubY],[c.endStubX,c.endStubY]],y:[[c.endStubX,c.startStubY],[c.endStubX,c.endStubY]]};f={x:[[c.startStubX,p],[c.endStubX,p],[c.endStubX,c.endStubY]],y:[[n,c.startStubY],[n,c.endStubY],[c.endStubX,c.endStubY]]};var l={x:[c.startStubY,
c.endStubY],y:[c.startStubX,c.endStubX]},m=t[a][1],k=c.so[t[a][0]]+1,l=-1==c.to[m]&&l[a][1]<l[a][0]||1==c.to[m]&&l[a][1]>l[a][0],y=g[a][k][0],g=g[a][k][1],m={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[a][k][c.to[m]+1];if(c.segment==m[3]||c.segment==m[2]&&l)return b[a];if(c.segment==m[2]&&g<y)return d[a];if(c.segment==m[2]&&g>=y||c.segment==m[1]&&!l)return f[a];if(c.segment==m[0]||c.segment==m[1]&&l)return e[a]},orthogonal:function(a,
b,d,e,f){b={x:-1==c.so[0]?Math.min(b,e):Math.max(b,e),y:-1==c.so[1]?Math.min(b,e):Math.max(b,e)}[a];return{x:[[b,d],[b,f],[e,f]],y:[[d,b],[f,b],[f,e]]}[a]},opposite:function(a,b,d,e,g){g={x:"y",y:"x"}[a];var m={x:"height",y:"width"}[a],k=c["is"+a.toUpperCase()+"GreaterThanStubTimes2"];if(l.sourceEndpoint.elementId==l.targetEndpoint.elementId)return d=d+(1-l.sourceEndpoint.anchor[g])*l.sourceInfo[m]+f.maxStub,{x:[[b,d],[e,d]],y:[[d,b],[d,e]]}[a];if(!k||1==c.so[H]&&b>e||-1==c.so[H]&&b<e)return{x:[[b,
p],[e,p]],y:[[n,b],[n,e]]}[a];if(1==c.so[H]&&b<e||-1==c.so[H]&&b>e)return{x:[[n,c.sy],[n,c.ty]],y:[[c.sx,p],[c.tx,p]]}[a]}}[c.anchorOrientation](c.sourceAxis,I,L,J,y))for(L=0;L<I.length;L++)m(b,I[L][0],I[L][1],c);m(b,r[2],r[3],c);m(b,c.tx,c.ty,c);v(this,b,c)}};this.getPath=function(){for(var c=null,d=null,e=[],f=a||b,g=0;g<f.length;g++){var l=f[g],m=l[4],k="v"==m?3:2;if(null!=c&&d===m)c[k]=l[k];else if(l[0]!=l[2]||l[1]!=l[3])e.push({start:[l[0],l[1]],end:[l[2],l[3]]}),c=l,d=l[4]}return e};this.setPath=
function(b){a=[];for(var c=0;c<b.length;c++){var d=b[c].start[0],e=b[c].start[1],f=b[c].end[0],g=b[c].end[1],l=d==f?"v":"h",m=p(f-d),k=p(g-e);a.push([d,e,f,g,l,m,k])}}};jsPlumbUtil.extend(c,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(c,"Flowchart")})();
(function(){jsPlumb.registerConnectorType(function(c){c=c||{};this.type="StateMachine";var r=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),f=c.curviness||10,d=c.margin||5,b=c.proximityLimit||80,k=c.orientation&&"clockwise"===c.orientation,a=c.loopbackRadius||25,e=!1!==c.showLoopback;this._compute=function(c,n){var p=Math.abs(n.sourcePos[0]-n.targetPos[0]),m=Math.abs(n.sourcePos[1]-n.targetPos[1]);Math.min(n.sourcePos[0],n.targetPos[0]);Math.min(n.sourcePos[1],n.targetPos[1]);if(!e||n.sourceEndpoint.elementId!==
n.targetEndpoint.elementId){var l=n.sourcePos[0]<n.targetPos[0]?0:p,t=n.sourcePos[1]<n.targetPos[1]?0:m,p=n.sourcePos[0]<n.targetPos[0]?p:0,m=n.sourcePos[1]<n.targetPos[1]?m:0;0===n.sourcePos[2]&&(l-=d);1===n.sourcePos[2]&&(l+=d);0===n.sourcePos[3]&&(t-=d);1===n.sourcePos[3]&&(t+=d);0===n.targetPos[2]&&(p-=d);1===n.targetPos[2]&&(p+=d);0===n.targetPos[3]&&(m-=d);1===n.targetPos[3]&&(m+=d);var v=(l+p)/2,u=(t+m)/2,w=-1*v/u,z=Math.atan(w);Infinity==w||-Infinity==w||Math.abs(f/2*Math.sin(z));Infinity==
w||-Infinity==w||Math.abs(f/2*Math.cos(z));w=l<=p&&m<=t?1:l<=p&&t<=m?2:p<=l&&m>=t?3:4;z=Math.sqrt(Math.pow(p-l,2)+Math.pow(m-t,2));var s=n.sourcePos,K=n.targetPos,v=z<=b?[v,u]:1===w?0>=s[3]&&1<=K[3]?[v+(0.5>s[2]?-1*f:f),u]:1<=s[2]&&0>=K[2]?[v,u+(0.5>s[3]?-1*f:f)]:[v+-1*f,u+-1*f]:2===w?1<=s[3]&&0>=K[3]?[v+(0.5>s[2]?-1*f:f),u]:1<=s[2]&&0>=K[2]?[v,u+(0.5>s[3]?-1*f:f)]:[v+1*f,u+-1*f]:3===w?1<=s[3]&&0>=K[3]?[v+(0.5>s[2]?-1*f:f),u]:0>=s[2]&&1<=K[2]?[v,u+(0.5>s[3]?-1*f:f)]:[v+-1*f,u+-1*f]:4===w?0>=s[3]&&
1<=K[3]?[v+(0.5>s[2]?-1*f:f),u]:0>=s[2]&&1<=K[2]?[v,u+(0.5>s[3]?-1*f:f)]:[v+1*f,u+-1*f]:void 0;r.addSegment(this,"Bezier",{x1:p,y1:m,x2:l,y2:t,cp1x:v[0],cp1y:v[1],cp2x:v[0],cp2y:v[1]})}else l=n.sourcePos[0],t=n.sourcePos[1]-d,p=t-a,m=2*a,v=2*a,u=l-a,w=p-a,c.points[0]=u,c.points[1]=w,c.points[2]=m,c.points[3]=v,r.addSegment(this,"Arc",{x1:l-u+4,y1:t-w,startAngle:0,endAngle:2*Math.PI,r:a,ac:!k,x2:l-u-4,y2:t-w,cx:l-u,cy:p-w})}},"StateMachine")})();
(function(){jsPlumb.registerConnectorType(function(c){c=c||{};var r=this,f=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),d=c.curviness||150;this.type="Bezier";this.getCurviness=function(){return d};this._findControlPoint=function(b,c,a,e,f){e=e.anchor.getOrientation(e);f=f.anchor.getOrientation(f);var n=[];e[0]!=f[0]||e[1]==f[1]?(0===f[0]?n.push(a[0]<c[0]?b[0]+10:b[0]-10):n.push(b[0]+d*f[0]),0===f[1]?n.push(a[1]<c[1]?b[1]+10:b[1]-10):n.push(b[1]+d*e[1])):(0===e[0]?n.push(c[0]<a[0]?b[0]+
10:b[0]-10):n.push(b[0]-d*e[0]),0===e[1]?n.push(c[1]<a[1]?b[1]+10:b[1]-10):n.push(b[1]+d*f[1]));return n};this._compute=function(b,c){var a=c.sourcePos,d=c.targetPos,g=Math.abs(a[0]-d[0]),n=Math.abs(a[1]-d[1]),p=a[0]<d[0]?g:0,m=a[1]<d[1]?n:0,g=a[0]<d[0]?0:g,n=a[1]<d[1]?0:n,l=r._findControlPoint([p,m],a,d,c.sourceEndpoint,c.targetEndpoint),a=r._findControlPoint([g,n],d,a,c.targetEndpoint,c.sourceEndpoint);f.addSegment(this,"Bezier",{x1:p,y1:m,x2:g,y2:n,cp1x:l[0],cp1y:l[1],cp2x:a[0],cp2y:a[1]})}},"Bezier")})();
(function(){var c=function(a){return jsPlumb.CurrentLibrary.getOffset(jsPlumb.CurrentLibrary.getElementObject(a))},r=window.CanvasMouseAdapter=function(){var a=this;a.overlayPlacements=[];jsPlumb.jsPlumbUIComponent.apply(this,arguments);jsPlumbUtil.EventGenerator.apply(this,arguments);this._over=function(b){var d=c(jsPlumb.CurrentLibrary.getElementObject(a.canvas)),e=jsPlumb.CurrentLibrary.getPageXY(b);b=e[0]-d.left;d=e[1]-d.top;if(0<b&&0<d&&b<a.canvas.width&&d<a.canvas.height){for(e=0;e<a.overlayPlacements.length;e++){var f=
a.overlayPlacements[e];if(f&&f[0]<=b&&f[1]>=b&&f[2]<=d&&f[3]>=d)return!0}b=a.canvas.getContext("2d").getImageData(parseInt(b,10),parseInt(d,10),1,1);return 0!==b.data[0]||0!==b.data[1]||0!==b.data[2]||0!==b.data[3]}return!1};var b=!1,d=!1,e=!1;this.mousemove=function(c){jsPlumb.CurrentLibrary.getPageXY(c);var d=jsPlumb.CurrentLibrary.getClientXY(c),e=document.elementFromPoint(d[0],d[1]),d=null!==e&&jsPlumb.CurrentLibrary.hasClass(jsPlumb.CurrentLibrary.getElementObject(e),"_jsPlumb_overlay"),e=null!==
e&&jsPlumb.CurrentLibrary.hasClass(jsPlumb.CurrentLibrary.getElementObject(e),"_jsPlumb_endpoint")||null!==e&&jsPlumb.CurrentLibrary.hasClass(jsPlumb.CurrentLibrary.getElementObject(e),"_jsPlumb_connector");if(!b&&e&&a._over(c))return b=!0,a.fire("mouseenter",a,c),!0;if(b&&(!a._over(c)||!e)&&!d)b=!1,a.fire("mouseexit",a,c);a.fire("mousemove",a,c)};this.click=function(c){b&&(a._over(c)&&!e)&&a.fire("click",a,c);e=!1};this.dblclick=function(c){b&&(a._over(c)&&!e)&&a.fire("dblclick",a,c);e=!1};this.mousedown=
function(b){a._over(b)&&!d&&(d=!0,c(jsPlumb.CurrentLibrary.getElementObject(a.canvas)),a.fire("mousedown",a,b))};this.mouseup=function(b){d=!1;a.fire("mouseup",a,b)};this.contextmenu=function(c){b&&(a._over(c)&&!e)&&a.fire("contextmenu",a,c);e=!1}};jsPlumbUtil.extend(r,[jsPlumb.jsPlumbUIComponent,jsPlumbUtil.EventGenerator]);var f=function(a){var b=document.createElement("canvas");a._jsPlumb.instance.appendElement(b,a.parent);b.style.position="absolute";a["class"]&&(b.className=a["class"]);a._jsPlumb.instance.getId(b,
a.uuid);a.tooltip&&b.setAttribute("title",a.tooltip);return b},d=window.CanvasComponent=function(a){r.apply(this,arguments);var b=[];this.getDisplayElements=function(){return b};this.appendDisplayElement=function(a){b.push(a)}};jsPlumbUtil.extend(d,r);var b=[null,[1,-1],[1,1],[-1,1],[-1,-1]],k=function(a,b,c){if(b.gradient){c=c();for(var d=0;d<b.gradient.stops.length;d++)c.addColorStop(b.gradient.stops[d][0],b.gradient.stops[d][1]);a.strokeStyle=c}},a=function(a,c,d,e,f){({Straight:function(a,c,d,
e,f){var g=a.params;c.save();k(c,d,function(){return c.createLinearGradient(g.x1,g.y1,g.x2,g.y2)});c.beginPath();c.translate(e,f);if(d.dashstyle&&2===d.dashstyle.split(" ").length){a=d.dashstyle.split(" ");2!==a.length&&(a=[2,2]);d=[a[0]*d.lineWidth,a[1]*d.lineWidth];e=(g.x2-g.x1)/(g.y2-g.y1);a=jsPlumbUtil.segment([g.x1,g.y1],[g.x2,g.y2]);a=b[a];e=Math.atan(e);f=Math.sqrt(Math.pow(g.x2-g.x1,2)+Math.pow(g.y2-g.y1,2));f=Math.floor(f/(d[0]+d[1]));for(var l=[g.x1,g.y1],m=0;m<f;m++){c.moveTo(l[0],l[1]);
var n=l[0]+Math.abs(Math.sin(e)*d[0])*a[0],p=l[1]+Math.abs(Math.cos(e)*d[0])*a[1],x=l[0]+Math.abs(Math.sin(e)*(d[0]+d[1]))*a[0],l=l[1]+Math.abs(Math.cos(e)*(d[0]+d[1]))*a[1];c.lineTo(n,p);l=[x,l]}c.moveTo(l[0],l[1])}else c.moveTo(g.x1,g.y1);c.lineTo(g.x2,g.y2);c.stroke();c.restore()},Bezier:function(a,b,c,d,e){var f=a.params;b.save();k(b,c,function(){return b.createLinearGradient(f.x2+d,f.y2+e,f.x1+d,f.y1+e)});b.beginPath();b.translate(d,e);b.moveTo(f.x1,f.y1);b.bezierCurveTo(f.cp1x,f.cp1y,f.cp2x,
f.cp2y,f.x2,f.y2);b.stroke();b.restore()},Arc:function(a,b,c,d,e){c=a.params;b.save();b.beginPath();b.translate(d,e);b.arc(c.cx,c.cy,c.r,a.startAngle,a.endAngle,c.ac);b.stroke();b.restore()}})[a.type](a,c,d,e,f)},e=jsPlumb.ConnectorRenderers.canvas=function(b){d.apply(this,arguments);var c=function(b,c,d){this.ctx.save();jsPlumb.extend(this.ctx,b);for(var e=this.getSegments(),f=0;f<e.length;f++)a(e[f],this.ctx,b,c,d);this.ctx.restore()}.bind(this);this.canvas=f({"class":this._jsPlumb.instance.connectorClass+
" "+(b.cssClass||""),_jsPlumb:this._jsPlumb,parent:b.parent});this.ctx=this.canvas.getContext("2d");this.appendDisplayElement(this.canvas);this.paint=function(a,b,d){if(null!=a){b=[this.x,this.y];var e=[this.w,this.h],f=0,g=0;null!=d&&(0>d.xmin&&(b[0]+=d.xmin,f=-d.xmin),0>d.ymin&&(b[1]+=d.ymin,g=-d.ymin),e[0]=d.xmax+(0>d.xmin?-d.xmin:0),e[1]=d.ymax+(0>d.ymin?-d.ymin:0));this.translateX=f;this.translateY=g;jsPlumbUtil.sizeElement(this.canvas,b[0],b[1],e[0],e[1]);null!=a.outlineColor&&c({strokeStyle:a.outlineColor,
lineWidth:a.lineWidth+2*(a.outlineWidth||1)},f,g);c(a,f,g)}}};jsPlumbUtil.extend(e,d);var g=function(a){d.apply(this,arguments);this.canvas=f({"class":this._jsPlumb.instance.endpointClass+" "+(a.cssClass||""),_jsPlumb:this._jsPlumb,parent:a.parent,tooltip:self.tooltip});this.ctx=this.canvas.getContext("2d");this.appendDisplayElement(this.canvas);this.paint=function(a,b,c){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h);this._paint.apply(this,arguments)}};jsPlumbUtil.extend(g,d);jsPlumb.Endpoints.canvas.Dot=
function(a){jsPlumb.Endpoints.Dot.apply(this,arguments);g.apply(this,arguments);var b=this,c=function(a){try{return parseInt(a,10)}catch(b){if("%"==a.substring(a.length-1))return parseInt(a.substring(0,a-1),10)}};this._paint=function(d){if(null!=d){var e=b.canvas.getContext("2d"),f=a.endpoint.anchor.getOrientation(a.endpoint);jsPlumb.extend(e,d);if(d.gradient){var g;g=d.gradient;var k=b.defaultOffset,n=b.defaultInnerRadius;g.offset&&(k=c(g.offset));g.innerRadius&&(n=c(g.innerRadius));g=[k,n];f=e.createRadialGradient(b.radius,
b.radius,b.radius,b.radius+(1==f[0]?-1*g[0]:g[0]),b.radius+(1==f[1]?-1*g[0]:g[0]),g[1]);for(g=0;g<d.gradient.stops.length;g++)f.addColorStop(d.gradient.stops[g][0],d.gradient.stops[g][1]);e.fillStyle=f}e.beginPath();e.arc(b.radius,b.radius,b.radius,0,2*Math.PI,!0);e.closePath();(d.fillStyle||d.gradient)&&e.fill();d.strokeStyle&&e.stroke()}}};jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Dot,[jsPlumb.Endpoints.Dot,g]);jsPlumb.Endpoints.canvas.Rectangle=function(a){var b=this;jsPlumb.Endpoints.Rectangle.apply(this,
arguments);g.apply(this,arguments);this._paint=function(c){var d=b.canvas.getContext("2d"),e=a.endpoint.anchor.getOrientation(a.endpoint);jsPlumb.extend(d,c);if(c.gradient){for(var e=d.createLinearGradient(1==e[0]?b.w:0===e[0]?b.w/2:0,1==e[1]?b.h:0===e[1]?b.h/2:0,-1==e[0]?b.w:0===e[0]?b.w/2:0,-1==e[1]?b.h:0===e[1]?b.h/2:0),f=0;f<c.gradient.stops.length;f++)e.addColorStop(c.gradient.stops[f][0],c.gradient.stops[f][1]);d.fillStyle=e}d.beginPath();d.rect(0,0,b.w,b.h);d.closePath();(c.fillStyle||c.gradient)&&
d.fill();c.strokeStyle&&d.stroke()}};jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Rectangle,[jsPlumb.Endpoints.Rectangle,g]);jsPlumb.Endpoints.canvas.Triangle=function(a){var b=this;jsPlumb.Endpoints.Triangle.apply(this,arguments);g.apply(this,arguments);this._paint=function(c){var d=b.canvas.getContext("2d"),e=0,f=0,g=0,k=a.endpoint.anchor.getOrientation(a.endpoint);1==k[0]&&(e=b.width,f=b.height,g=180);-1==k[1]&&(e=b.width,g=90);1==k[1]&&(f=b.height,g=-90);d.fillStyle=c.fillStyle;d.translate(e,f);
d.rotate(g*Math.PI/180);d.beginPath();d.moveTo(0,0);d.lineTo(b.width/2,b.height/2);d.lineTo(0,b.height);d.closePath();(c.fillStyle||c.gradient)&&d.fill();c.strokeStyle&&d.stroke()}};jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Triangle,[jsPlumb.Endpoints.Triangle,g]);jsPlumb.Endpoints.canvas.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.canvas.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.canvas.Label=jsPlumb.Overlays.Label;jsPlumb.Overlays.canvas.Custom=jsPlumb.Overlays.Custom;var n=function(){jsPlumb.jsPlumbUIComponent.apply(this,
arguments)};jsPlumbUtil.extend(n,jsPlumb.jsPlumbUIComponent);var p=function(a,b){a.apply(this,b);n.apply(this,b);this.paint=function(a,b){var c=a.component.ctx,d=a.d;d&&(c.save(),c.lineWidth=a.lineWidth,c.beginPath(),c.translate(a.component.translateX,a.component.translateY),c.moveTo(d.hxy.x,d.hxy.y),c.lineTo(d.tail[0].x,d.tail[0].y),c.lineTo(d.cxy.x,d.cxy.y),c.lineTo(d.tail[1].x,d.tail[1].y),c.lineTo(d.hxy.x,d.hxy.y),c.closePath(),a.strokeStyle&&(c.strokeStyle=a.strokeStyle,c.stroke()),a.fillStyle&&
(c.fillStyle=a.fillStyle,c.fill()),c.restore())}};jsPlumb.Overlays.canvas.Arrow=function(){p.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Arrow,[jsPlumb.Overlays.Arrow,n]);jsPlumb.Overlays.canvas.PlainArrow=function(){p.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.canvas.PlainArrow,[jsPlumb.Overlays.PlainArrow,n]);jsPlumb.Overlays.canvas.Diamond=function(){p.apply(this,[jsPlumb.Overlays.Diamond,arguments])};
jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Diamond,[jsPlumb.Overlays.Diamond,n])})();
(function(){var c={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},r=function(a,b){for(var c in b)a.setAttribute(c,""+b[c])},f=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);b=b||{};b.version="1.1";b.xmlns="http://www.w3.org/1999/xhtml";r(c,b);return c},d=function(a){return"position:absolute;left:"+a[0]+"px;top:"+a[1]+"px"},b=function(a){for(var b=0;b<a.childNodes.length;b++)("linearGradient"==
a.childNodes[b].tagName||"radialGradient"==a.childNodes[b].tagName)&&a.removeChild(a.childNodes[b])},k=function(a,c,d,e,g){e="jsplumb_gradient_"+g._jsPlumb.instance.idstamp();b(a);var k;k=d.gradient.offset?f("radialGradient",{id:e}):f("linearGradient",{id:e,gradientUnits:"userSpaceOnUse"});a.appendChild(k);for(a=0;a<d.gradient.stops.length;a++){var n=jsPlumbUtil.convertStyle(d.gradient.stops[1==g.segment||2==g.segment?a:d.gradient.stops.length-1-a][1],!0),n=f("stop",{offset:Math.floor(100*d.gradient.stops[a][0])+
"%","stop-color":n});k.appendChild(n)}c.setAttribute("style",(d.strokeStyle?"stroke":"fill")+":url(#"+e+")")},a=function(a,d,e,f,g){e.gradient?k(a,d,e,f,g):(b(a),d.setAttribute("style",""));d.setAttribute("fill",e.fillStyle?jsPlumbUtil.convertStyle(e.fillStyle,!0):"none");d.setAttribute("stroke",e.strokeStyle?jsPlumbUtil.convertStyle(e.strokeStyle,!0):"none");e.lineWidth&&d.setAttribute("stroke-width",e.lineWidth);if(e.dashstyle&&e.lineWidth&&!e["stroke-dasharray"]){var n=-1==e.dashstyle.indexOf(",")?
" ":",",p="";e.dashstyle.split(n).forEach(function(a){p+=Math.floor(a*e.lineWidth)+n});d.setAttribute("stroke-dasharray",p)}else e["stroke-dasharray"]&&d.setAttribute("stroke-dasharray",e["stroke-dasharray"]);for(var r in c)e[r]&&d.setAttribute(c[r],e[r])},e=function(a,b,c){c=c.split(" ");for(var d=a.className.baseVal.split(" "),e=0;e<c.length;e++)if(b)-1==d.indexOf(c[e])&&d.push(c[e]);else{var f=d.indexOf(c[e]);-1!=f&&d.splice(f,1)}a.className.baseVal=d.join(" ")};jsPlumbUtil.svg={addClass:function(a,
b){e(a,!0,b)},removeClass:function(a,b){e(a,!1,b)},node:f,attr:r,pos:d};var g=function(a){var b=a.pointerEventsSpec||"all",c={};jsPlumb.jsPlumbUIComponent.apply(this,a.originalArgs);this.svg=this.path=this.canvas=null;var e=a.cssClass+" "+(a.originalArgs[0].cssClass||"");this.svg=f("svg",{style:"",width:0,height:0,"pointer-events":b,position:"absolute"});a.useDivWrapper?(this.canvas=document.createElement("div"),this.canvas.style.position="absolute",jsPlumbUtil.sizeElement(this.canvas,0,0,1,1),this.canvas.className=
e):(r(this.svg,{"class":e}),this.canvas=this.svg);a._jsPlumb.appendElement(this.canvas,a.originalArgs[0].parent);a.useDivWrapper&&this.canvas.appendChild(this.svg);var g=[this.canvas];this.getDisplayElements=function(){return g};this.appendDisplayElement=function(a){g.push(a)};this.paint=function(b,e,f){if(null!=b){var g=[this.x,this.y],l=[this.w,this.h];null!=f&&(0>f.xmin&&(g[0]+=f.xmin),0>f.ymin&&(g[1]+=f.ymin),l[0]=f.xmax+(0>f.xmin?-f.xmin:0),l[1]=f.ymax+(0>f.ymin?-f.ymin:0));a.useDivWrapper?(jsPlumbUtil.sizeElement(this.canvas,
g[0],g[1],l[0],l[1]),g[0]=0,g[1]=0,g=d([0,0])):g=d([g[0],g[1]]);c.paint.apply(this,arguments);r(this.svg,{style:g,width:l[0],height:l[1]})}};return{renderer:c}};jsPlumbUtil.extend(g,jsPlumb.jsPlumbUIComponent,{cleanup:function(){jsPlumbUtil.removeElement(this.canvas);this.path=this.canvas=this.svg=null}});jsPlumb.ConnectorRenderers.svg=function(b){var c=this;g.apply(this,[{cssClass:b._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:b._jsPlumb}]).renderer.paint=function(d,
e,g){e=c.getSegments();var k="",n=[0,0];0>g.xmin&&(n[0]=-g.xmin);0>g.ymin&&(n[1]=-g.ymin);for(g=0;g<e.length;g++)k+=jsPlumb.Segments.svg.SegmentRenderer.getPath(e[g]),k+=" ";e={d:k,transform:"translate("+n[0]+","+n[1]+")","pointer-events":b["pointer-events"]||"visibleStroke"};k=null;g=[c.x,c.y,c.w,c.h];if(d.outlineColor){n=d.lineWidth+2*(d.outlineWidth||1);k=jsPlumb.CurrentLibrary.extend({},d);k.strokeStyle=jsPlumbUtil.convertStyle(d.outlineColor);k.lineWidth=n;if(null==c.bgPath){c.bgPath=f("path",
e);var n=c.svg,p=c.bgPath;0<n.childNodes.length?n.insertBefore(p,n.childNodes[0]):n.appendChild(p);c.attachListeners(c.bgPath,c)}else r(c.bgPath,e);a(c.svg,c.bgPath,k,g,c)}null==c.path?(c.path=f("path",e),e=c.svg,k=c.path,n=d.outlineColor?1:0,e.childNodes.length>n?e.insertBefore(k,e.childNodes[n]):e.appendChild(k),c.attachListeners(c.path,c)):r(c.path,e);a(c.svg,c.path,d,g,c)};this.reattachListeners=function(){this.bgPath&&this.reattachListenersForElement(this.bgPath,this);this.path&&this.reattachListenersForElement(this.path,
this)}};jsPlumbUtil.extend(jsPlumb.ConnectorRenderers.svg,g);jsPlumb.Segments.svg={SegmentRenderer:{getPath:function(a){return{Straight:function(){var b=a.getCoordinates();return"M "+b.x1+" "+b.y1+" L "+b.x2+" "+b.y2},Bezier:function(){var b=a.params;return"M "+b.x1+" "+b.y1+" C "+b.cp1x+" "+b.cp1y+" "+b.cp2x+" "+b.cp2y+" "+b.x2+" "+b.y2},Arc:function(){return"M"+a.x1+" "+a.y1+" A "+a.radius+" "+a.params.r+" 0 "+(a.sweep>Math.PI?1:0)+","+(a.anticlockwise?0:1)+" "+a.x2+" "+a.y2}}[a.type]()}}};var n=
window.SvgEndpoint=function(b){g.apply(this,[{cssClass:b._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:b._jsPlumb}]).renderer.paint=function(b){b=jsPlumb.extend({},b);b.outlineColor&&(b.strokeWidth=b.outlineWidth,b.strokeStyle=jsPlumbUtil.convertStyle(b.outlineColor,!0));null==this.node?(this.node=this.makeNode(b),this.svg.appendChild(this.node),this.attachListeners(this.node,this)):null!=this.updateNode&&this.updateNode(this.node);a(this.svg,this.node,
b,[this.x,this.y,this.w,this.h],this);d(this.node,[this.x,this.y])}.bind(this)};jsPlumbUtil.extend(n,g,{reattachListeners:function(){this.node&&this.reattachListenersForElement(this.node,this)}});jsPlumb.Endpoints.svg.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);n.apply(this,arguments);this.makeNode=function(a){return f("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})};this.updateNode=function(a){r(a,{cx:this.w/2,cy:this.h/2,r:this.radius})}};jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Dot,
[jsPlumb.Endpoints.Dot,n]);jsPlumb.Endpoints.svg.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);n.apply(this,arguments);this.makeNode=function(a){return f("rect",{width:this.w,height:this.h})};this.updateNode=function(a){r(a,{width:this.w,height:this.h})}};jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Rectangle,[jsPlumb.Endpoints.Rectangle,n]);jsPlumb.Endpoints.svg.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.svg.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.svg.Label=jsPlumb.Overlays.Label;
jsPlumb.Overlays.svg.Custom=jsPlumb.Overlays.Custom;var p=function(a,b){a.apply(this,b);jsPlumb.jsPlumbUIComponent.apply(this,b);this.isAppendedAtTopLevel=!1;this.path=null;this.paint=function(a,c){if(a.component.svg&&c){null==this.path&&(this.path=f("path",{"pointer-events":"all"}),a.component.svg.appendChild(this.path),this.attachListeners(this.path,a.component),this.attachListeners(this.path,this));var d=b&&1==b.length?b[0].cssClass||"":"",e=[0,0];0>c.xmin&&(e[0]=-c.xmin);0>c.ymin&&(e[1]=-c.ymin);
r(this.path,{d:"M"+a.d.hxy.x+","+a.d.hxy.y+" L"+a.d.tail[0].x+","+a.d.tail[0].y+" L"+a.d.cxy.x+","+a.d.cxy.y+" L"+a.d.tail[1].x+","+a.d.tail[1].y+" L"+a.d.hxy.x+","+a.d.hxy.y,"class":d,stroke:a.strokeStyle?a.strokeStyle:null,fill:a.fillStyle?a.fillStyle:null,transform:"translate("+e[0]+","+e[1]+")"})}};this.reattachListeners=function(){this.path&&this.reattachListenersForElement(this.path,this)}};jsPlumbUtil.extend(p,jsPlumb.jsPlumbUIComponent,{cleanup:function(){null!=this.path&&jsPlumb.CurrentLibrary.removeElement(this.path)}});
jsPlumb.Overlays.svg.Arrow=function(){p.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.Arrow,[jsPlumb.Overlays.Arrow,p]);jsPlumb.Overlays.svg.PlainArrow=function(){p.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.PlainArrow,[jsPlumb.Overlays.PlainArrow,p]);jsPlumb.Overlays.svg.Diamond=function(){p.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.Diamond,[jsPlumb.Overlays.Diamond,
p]);jsPlumb.Overlays.svg.GuideLines=function(){var a=null,b=this,c,d;jsPlumb.Overlays.GuideLines.apply(this,arguments);this.paint=function(g,k){null==a&&(a=f("path"),g.connector.svg.appendChild(a),b.attachListeners(a,g.connector),b.attachListeners(a,b),c=f("path"),g.connector.svg.appendChild(c),b.attachListeners(c,g.connector),b.attachListeners(c,b),d=f("path"),g.connector.svg.appendChild(d),b.attachListeners(d,g.connector),b.attachListeners(d,b));var n=[0,0];0>k.xmin&&(n[0]=-k.xmin);0>k.ymin&&(n[1]=
-k.ymin);r(a,{d:e(g.head,g.tail),stroke:"red",fill:null,transform:"translate("+n[0]+","+n[1]+")"});r(c,{d:e(g.tailLine[0],g.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+n[0]+","+n[1]+")"});r(d,{d:e(g.headLine[0],g.headLine[1]),stroke:"green",fill:null,transform:"translate("+n[0]+","+n[1]+")"})};var e=function(a,b){return"M "+a.x+","+a.y+" L"+b.x+","+b.y}};jsPlumbUtil.extend(jsPlumb.Overlays.svg.GuideLines,jsPlumb.Overlays.GuideLines)})();
(function(){var c={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},r=null;if(document.createStyleSheet&&document.namespaces){for(var f=".jsplumb_vml jsplumb\\:textbox jsplumb\\:oval jsplumb\\:rect jsplumb\\:stroke jsplumb\\:shape jsplumb\\:group".split(" "),r=document.createStyleSheet(),d=0;d<f.length;d++)r.addRule(f[d],"behavior:url(#default#VML);position:absolute;");document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}jsPlumb.vml={};var b=
function(a,b){for(var c in b)a[c]=b[c]},k=function(c,d,e,f,g,k){e=e||{};c=document.createElement("jsplumb:"+c);k?g.appendElement(c,f):jsPlumb.CurrentLibrary.appendElement(c,f);c.className=(e["class"]?e["class"]+" ":"")+"jsplumb_vml";a(c,d);b(c,e);return c},a=function(a,b,c){a.style.left=b[0]+"px";a.style.top=b[1]+"px";a.style.width=b[2]+"px";a.style.height=b[3]+"px";a.style.position="absolute";c&&(a.style.zIndex=c)},e=jsPlumb.vml.convertValue=function(a){return Math.floor(1E3*a)},g=function(a,c,d,
e){var f={};if(c.strokeStyle){f.stroked="true";var g=jsPlumbUtil.convertStyle(c.strokeStyle,!0);f.strokecolor=g;"transparent"===g?d.setOpacity("stroke","0.0"):d.setOpacity("stroke","1.0");f.strokeweight=c.lineWidth+"px"}else f.stroked="false";c.fillStyle?(f.filled="true",g=jsPlumbUtil.convertStyle(c.fillStyle,!0),f.fillcolor=g,"transparent"===g?d.setOpacity("fill","0.0"):d.setOpacity("fill","1.0")):f.filled="false";if(c.dashstyle)null==d.strokeNode?d.strokeNode=k("stroke",[0,0,0,0],{dashstyle:c.dashstyle},
a,e):d.strokeNode.dashstyle=c.dashstyle;else if(c["stroke-dasharray"]&&c.lineWidth){for(var g=-1==c["stroke-dasharray"].indexOf(",")?" ":",",m=c["stroke-dasharray"].split(g),n="",p=0;p<m.length;p++)n+=Math.floor(m[p]/c.lineWidth)+g;null==d.strokeNode?d.strokeNode=k("stroke",[0,0,0,0],{dashstyle:n},a,e):d.strokeNode.dashstyle=n}b(a,f)},n=function(){var a=this;jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.opacityNodes={stroke:null,fill:null};this.initOpacityNodes=function(b){a.opacityNodes.stroke=
k("stroke",[0,0,1,1],{opacity:"0.0"},b,a._jsPlumb.instance);a.opacityNodes.fill=k("fill",[0,0,1,1],{opacity:"0.0"},b,a._jsPlumb.instance)};this.setOpacity=function(b,c){var d=a.opacityNodes[b];d&&(d.opacity=""+c)};var b=[];this.getDisplayElements=function(){return b};this.appendDisplayElement=function(c,d){d||a.canvas.parentNode.appendChild(c);b.push(c)}};jsPlumbUtil.extend(n,jsPlumb.jsPlumbUIComponent,{cleanup:function(){this.bgCanvas&&jsPlumbUtil.removeElement(this.bgCanvas);jsPlumbUtil.removeElement(this.canvas)}});
r=jsPlumb.ConnectorRenderers.vml=function(d){this.canvas=this.strokeNode=null;n.apply(this,arguments);var e=this._jsPlumb.instance.connectorClass+(d.cssClass?" "+d.cssClass:"");this.paint=function(f){if(null!==f){this.w=Math.max(this.w,1);this.h=Math.max(this.h,1);for(var m=this.getSegments(),n={path:""},p=[this.x,this.y,this.w,this.h],r=0;r<m.length;r++)n.path+=jsPlumb.Segments.vml.SegmentRenderer.getPath(m[r]),n.path+=" ";if(f.outlineColor){var m=f.lineWidth+2*(f.outlineWidth||1),m={strokeStyle:jsPlumbUtil.convertStyle(f.outlineColor),
lineWidth:m},K;for(K in c)m[K]=f[K];null==this.bgCanvas?(n["class"]=e,n.coordsize=1E3*p[2]+","+1E3*p[3],this.bgCanvas=k("shape",p,n,d.parent,this._jsPlumb.instance,!0),a(this.bgCanvas,p),this.appendDisplayElement(this.bgCanvas,!0),this.attachListeners(this.bgCanvas,this),this.initOpacityNodes(this.bgCanvas,["stroke"])):(n.coordsize=1E3*p[2]+","+1E3*p[3],a(this.bgCanvas,p),b(this.bgCanvas,n));g(this.bgCanvas,m,this)}null==this.canvas?(n["class"]=e,n.coordsize=1E3*p[2]+","+1E3*p[3],this.canvas=k("shape",
p,n,d.parent,this._jsPlumb.instance,!0),this.appendDisplayElement(this.canvas,!0),this.attachListeners(this.canvas,this),this.initOpacityNodes(this.canvas,["stroke"])):(n.coordsize=1E3*p[2]+","+1E3*p[3],a(this.canvas,p),b(this.canvas,n));g(this.canvas,f,this,this._jsPlumb.instance)}}};jsPlumbUtil.extend(r,n,{reattachListeners:function(){this.canvas&&this.reattachListenersForElement(this.canvas,this)}});var p=window.VmlEndpoint=function(c){n.apply(this,arguments);this._jsPlumb.vml=null;this.canvas=
document.createElement("div");this.canvas.style.position="absolute";this._jsPlumb.clazz=this._jsPlumb.instance.endpointClass+(c.cssClass?" "+c.cssClass:"");c._jsPlumb.appendElement(this.canvas,c.parent);this.paint=function(c,d){var e={},f=this._jsPlumb.vml;jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h);null==this._jsPlumb.vml?(e["class"]=this._jsPlumb.clazz,f=this._jsPlumb.vml=this.getVml([0,0,this.w,this.h],e,d,this.canvas,this._jsPlumb.instance),this.attachListeners(f,this),this.appendDisplayElement(f,
!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(f,["fill"])):(a(f,[0,0,this.w,this.h]),b(f,e));g(f,c,this)}};jsPlumbUtil.extend(p,n,{reattachListeners:function(){this._jsPlumb.vml&&this.reattachListenersForElement(this._jsPlumb.vml,this)}});jsPlumb.Segments.vml={SegmentRenderer:{getPath:function(a){return{Straight:function(a){a=a.params;return"m"+e(a.x1)+","+e(a.y1)+" l"+e(a.x2)+","+e(a.y2)+" e"},Bezier:function(a){a=a.params;return"m"+e(a.x1)+","+e(a.y1)+" c"+e(a.cp1x)+","+e(a.cp1y)+
","+e(a.cp2x)+","+e(a.cp2y)+","+e(a.x2)+","+e(a.y2)+" e"},Arc:function(a){var b=a.params,c=Math.min(b.x1,b.x2);Math.max(b.x1,b.x2);var d=Math.min(b.y1,b.y2);Math.max(b.y1,b.y2);var f=a.anticlockwise?1:0;return(a.anticlockwise?"at ":"wa ")+function(){var g=[null,[function(){return[c,d]},function(){return[c-b.r,d-b.r]}],[function(){return[c-b.r,d]},function(){return[c,d-b.r]}],[function(){return[c-b.r,d-b.r]},function(){return[c,d]}],[function(){return[c,d-b.r]},function(){return[c-b.r,d]}]][a.segment][f]();
return e(g[0])+","+e(g[1])+","+e(g[0]+2*b.r)+","+e(g[1]+2*b.r)}()+","+e(b.x1)+","+e(b.y1)+","+e(b.x2)+","+e(b.y2)+" e"}}[a.type](a)}}};jsPlumb.Endpoints.vml.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);p.apply(this,arguments);this.getVml=function(a,b,c,d,e){return k("oval",a,b,d,e)}};jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Dot,p);jsPlumb.Endpoints.vml.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);p.apply(this,arguments);this.getVml=function(a,b,c,d,e){return k("rect",
a,b,d,e)}};jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Rectangle,p);jsPlumb.Endpoints.vml.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.vml.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.vml.Label=jsPlumb.Overlays.Label;jsPlumb.Overlays.vml.Custom=jsPlumb.Overlays.Custom;var m=function(c,d){c.apply(this,d);n.apply(this,d);var f=this;f.canvas=null;f.isAppendedAtTopLevel=!0;this.paint=function(c,g){var l={},m=c.d,n=c.component;c.strokeStyle&&(l.stroked="true",l.strokecolor=jsPlumbUtil.convertStyle(c.strokeStyle,
!0));c.lineWidth&&(l.strokeweight=c.lineWidth+"px");c.fillStyle&&(l.filled="true",l.fillcolor=c.fillStyle);var p=Math.min(m.hxy.x,m.tail[0].x,m.tail[1].x,m.cxy.x),r=Math.min(m.hxy.y,m.tail[0].y,m.tail[1].y,m.cxy.y),y=Math.max(m.hxy.x,m.tail[0].x,m.tail[1].x,m.cxy.x),I=Math.max(m.hxy.y,m.tail[0].y,m.tail[1].y,m.cxy.y),y=Math.abs(y-p),I=Math.abs(I-r),p=[p,r,y,I];l.path="m "+e(m.hxy.x)+","+e(m.hxy.y)+" l "+e(m.tail[0].x)+","+e(m.tail[0].y)+" "+e(m.cxy.x)+","+e(m.cxy.y)+" "+e(m.tail[1].x)+","+e(m.tail[1].y)+
" x e";l.coordsize=1E3*n.w+","+1E3*n.h;p[0]=n.x;p[1]=n.y;p[2]=n.w;p[3]=n.h;null==f.canvas?(l["class"]=(d&&1==d.length?d[0].cssClass||"":"")+" "+(n._jsPlumb.overlayClass||""),f.canvas=k("shape",p,l,n.canvas.parentNode,n._jsPlumb.instance,!0),n.appendDisplayElement(f.canvas,!0),f.attachListeners(f.canvas,n),f.attachListeners(f.canvas,f)):(a(f.canvas,p),b(f.canvas,l))};this.reattachListeners=function(){f.canvas&&f.reattachListenersForElement(f.canvas,f)};this.cleanup=function(){null!=f.canvas&&jsPlumb.CurrentLibrary.removeElement(f.canvas)}};
jsPlumbUtil.extend(m,n);jsPlumb.Overlays.vml.Arrow=function(){m.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.Arrow,[jsPlumb.Overlays.Arrow,m]);jsPlumb.Overlays.vml.PlainArrow=function(){m.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.PlainArrow,[jsPlumb.Overlays.PlainArrow,m]);jsPlumb.Overlays.vml.Diamond=function(){m.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.Diamond,
[jsPlumb.Overlays.Diamond,m])})();
(function(c){var r=function(f){return"string"==typeof f?c("#"+f):c(f)};jsPlumb.CurrentLibrary={addClass:function(c,d){c=r(c);try{c[0].className.constructor==SVGAnimatedString&&jsPlumbUtil.svg.addClass(c[0],d)}catch(b){}try{c.addClass(d)}catch(k){}},animate:function(c,d,b){c.animate(d,b)},appendElement:function(c,d){r(d).append(c)},ajax:function(f){f=f||{};f.type=f.type||"get";c.ajax(f)},bind:function(c,d,b){c=r(c);c.bind(d,b)},destroyDraggable:function(f){c(f).data("draggable")&&c(f).draggable("destroy")},
destroyDroppable:function(f){c(f).data("droppable")&&c(f).droppable("destroy")},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},extend:function(f,d){return c.extend(f,d)},getClientXY:function(c){return[c.clientX,c.clientY]},getDragObject:function(c){return c[1].draggable||c[1].helper},getDragScope:function(f){return c(f).draggable("option","scope")},getDropEvent:function(c){return c[0]},getDropScope:function(f){return c(f).droppable("option",
"scope")},getDOMElement:function(c){return null==c?null:"string"==typeof c?document.getElementById(c):c.context||null!=c.length?c[0]:c},getElementObject:r,getOffset:function(c){return c.offset()},getOriginalEvent:function(c){return c.originalEvent},getPageXY:function(c){return[c.pageX,c.pageY]},getParent:function(c){return r(c).parent()},getScrollLeft:function(c){return c.scrollLeft()},getScrollTop:function(c){return c.scrollTop()},getSelector:function(f,d){return 2==arguments.length?r(f).find(d):
c(f)},getSize:function(f){f=c(f);return[f.outerWidth(),f.outerHeight()]},getTagName:function(c){c=r(c);return 0<c.length?c[0].tagName:null},getUIPosition:function(c,d){d=d||1;if(1==c.length)ret={left:c[0].pageX,top:c[0].pageY};else{var b=c[1];ret=b.offset||b.absolutePosition;b.position.left/=d;b.position.top/=d}return{left:ret.left/d,top:ret.top/d}},hasClass:function(c,d){return c.hasClass(d)},initDraggable:function(f,d,b,k){d=d||{};f=c(f);d.start=jsPlumbUtil.wrap(d.start,function(){c("body").addClass(k.dragSelectClass)},
!1);d.stop=jsPlumbUtil.wrap(d.stop,function(){c("body").removeClass(k.dragSelectClass)});d.doNotRemoveHelper||(d.helper=null);b&&(d.scope=d.scope||jsPlumb.Defaults.Scope);f.draggable(d)},initDroppable:function(f,d){d.scope=d.scope||jsPlumb.Defaults.Scope;c(f).droppable(d)},isAlreadyDraggable:function(f){return c(f).hasClass("ui-draggable")},isDragSupported:function(f,d){return c(f).draggable},isDropSupported:function(f,d){return c(f).droppable},removeClass:function(c,d){c=r(c);try{if(c[0].className.constructor==
SVGAnimatedString){jsPlumbUtil.svg.removeClass(c[0],d);return}}catch(b){}c.removeClass(d)},removeElement:function(c){r(c).remove()},setDragFilter:function(c,d){jsPlumb.CurrentLibrary.isAlreadyDraggable(c)&&c.draggable("option","cancel",d)},setDraggable:function(c,d){c.draggable("option","disabled",!d)},setDragScope:function(c,d){c.draggable("option","scope",d)},setOffset:function(c,d){r(c).offset(d)},trigger:function(c,d,b){jQuery._data(r(c)[0],"handle")(b)},unbind:function(c,d,b){c=r(c);c.unbind(d,
b)}};c(document).ready(jsPlumb.init)})(jQuery);
(function(c,r){"object"===typeof exports?module.exports=r(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],r):c.URI=r(c.punycode,c.IPv6,c.SecondLevelDomains,c)})(this,function(c,r,f,d){function b(a,c){if(!(this instanceof b))return new b(a,c);void 0===a&&(a="undefined"!==typeof location?location.href+"":"");this.href(a);return void 0!==c?this.absoluteTo(c):this}function k(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,
"\\$1")}function a(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function e(b){return"Array"===a(b)}function g(b,c){var d,f;if(e(c)){d=0;for(f=c.length;d<f;d++)if(!g(b,c[d]))return!1;return!0}var l=a(c);d=0;for(f=b.length;d<f;d++)if("RegExp"===l){if("string"===typeof b[d]&&b[d].match(c))return!0}else if(b[d]===c)return!0;return!1}function n(a,b){if(!e(a)||!e(b)||a.length!==b.length)return!1;a.sort();b.sort();for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;
return!0}function p(a){return escape(a)}function m(a){return encodeURIComponent(a).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}var l=d&&d.URI,t=b.prototype,v=Object.prototype.hasOwnProperty;b._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:b.duplicateQueryParameters,escapeQuerySpace:b.escapeQuerySpace}};b.duplicateQueryParameters=!1;b.escapeQuerySpace=!0;b.protocol_expression=/^[a-z][a-z0-9-+-]*$/i;
b.idn_expression=/[^a-z0-9\.-]/i;b.punycode_expression=/(xn--)/i;b.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;b.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
b.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;b.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};b.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;b.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",
iframe:"src",embed:"src",source:"src",track:"src",input:"src"};b.getDomAttribute=function(a){if(a&&a.nodeName){var c=a.nodeName.toLowerCase();return"input"===c&&"image"!==a.type?void 0:b.domAttributes[c]}};b.encode=m;b.decode=decodeURIComponent;b.iso8859=function(){b.encode=escape;b.decode=unescape};b.unicode=function(){b.encode=m;b.decode=decodeURIComponent};b.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=",
"%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};b.encodeQuery=function(a,c){var d=b.encode(a+"");return c?d.replace(/%20/g,"+"):d};b.decodeQuery=function(a,c){a+="";try{return b.decode(c?
a.replace(/\+/g,"%20"):a)}catch(d){return a}};b.recodePath=function(a){a=(a+"").split("/");for(var c=0,d=a.length;c<d;c++)a[c]=b.encodePathSegment(b.decode(a[c]));return a.join("/")};b.decodePath=function(a){a=(a+"").split("/");for(var c=0,d=a.length;c<d;c++)a[c]=b.decodePathSegment(a[c]);return a.join("/")};var u={encode:"encode",decode:"decode"},w,z=function(a,c){return function(d){return b[c](d+"").replace(b.characters[a][c].expression,function(d){return b.characters[a][c].map[d]})}};for(w in u)b[w+
"PathSegment"]=z("pathname",u[w]);b.encodeReserved=z("reserved","encode");b.parse=function(a,c){var d;c||(c={});d=a.indexOf("#");-1<d&&(c.fragment=a.substring(d+1)||null,a=a.substring(0,d));d=a.indexOf("?");-1<d&&(c.query=a.substring(d+1)||null,a=a.substring(0,d));"//"===a.substring(0,2)?(c.protocol=null,a=a.substring(2),a=b.parseAuthority(a,c)):(d=a.indexOf(":"),-1<d&&(c.protocol=a.substring(0,d)||null,c.protocol&&!c.protocol.match(b.protocol_expression)?c.protocol=void 0:"file"===c.protocol?a=a.substring(d+
3):"//"===a.substring(d+1,d+3)?(a=a.substring(d+3),a=b.parseAuthority(a,c)):(a=a.substring(d+1),c.urn=!0)));c.path=a;return c};b.parseHost=function(a,b){var c=a.indexOf("/"),d;-1===c&&(c=a.length);"["===a.charAt(0)?(d=a.indexOf("]"),b.hostname=a.substring(1,d)||null,b.port=a.substring(d+2,c)||null):a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,c)||null,b.port=null):(d=a.substring(0,c).split(":"),b.hostname=d[0]||null,b.port=d[1]||null);b.hostname&&"/"!==a.substring(c).charAt(0)&&(c++,
a="/"+a);return a.substring(c)||"/"};b.parseAuthority=function(a,c){a=b.parseUserinfo(a,c);return b.parseHost(a,c)};b.parseUserinfo=function(a,c){var d=a.indexOf("/"),e=-1<d?a.lastIndexOf("@",d):a.indexOf("@");-1<e&&(-1===d||e<d)?(d=a.substring(0,e).split(":"),c.username=d[0]?b.decode(d[0]):null,d.shift(),c.password=d[0]?b.decode(d.join(":")):null,a=a.substring(e+1)):(c.username=null,c.password=null);return a};b.parseQuery=function(a,c){if(!a)return{};a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,
"");if(!a)return{};for(var d={},e=a.split("&"),f=e.length,g,l,k=0;k<f;k++)g=e[k].split("="),l=b.decodeQuery(g.shift(),c),g=g.length?b.decodeQuery(g.join("="),c):null,d[l]?("string"===typeof d[l]&&(d[l]=[d[l]]),d[l].push(g)):d[l]=g;return d};b.build=function(a){var c="";a.protocol&&(c+=a.protocol+":");if(!a.urn&&(c||a.hostname))c+="//";c+=b.buildAuthority(a)||"";"string"===typeof a.path&&("/"!==a.path.charAt(0)&&"string"===typeof a.hostname&&(c+="/"),c+=a.path);"string"===typeof a.query&&a.query&&
(c+="?"+a.query);"string"===typeof a.fragment&&a.fragment&&(c+="#"+a.fragment);return c};b.buildHost=function(a){var c="";if(a.hostname)b.ip6_expression.test(a.hostname)?c=a.port?c+("["+a.hostname+"]:"+a.port):c+a.hostname:(c+=a.hostname,a.port&&(c+=":"+a.port));else return"";return c};b.buildAuthority=function(a){return b.buildUserinfo(a)+b.buildHost(a)};b.buildUserinfo=function(a){var c="";a.username&&(c+=b.encode(a.username),a.password&&(c+=":"+b.encode(a.password)),c+="@");return c};b.buildQuery=
function(a,c,d){var f="",g,l,k,m;for(l in a)if(v.call(a,l)&&l)if(e(a[l])){g={};k=0;for(m=a[l].length;k<m;k++)void 0!==a[l][k]&&void 0===g[a[l][k]+""]&&(f+="&"+b.buildQueryParameter(l,a[l][k],d),!0!==c&&(g[a[l][k]+""]=!0))}else void 0!==a[l]&&(f+="&"+b.buildQueryParameter(l,a[l],d));return f.substring(1)};b.buildQueryParameter=function(a,c,d){return b.encodeQuery(a,d)+(null!==c?"="+b.encodeQuery(c,d):"")};b.addQuery=function(a,c,d){if("object"===typeof c)for(var f in c)v.call(c,f)&&b.addQuery(a,f,
c[f]);else if("string"===typeof c)void 0===a[c]?a[c]=d:("string"===typeof a[c]&&(a[c]=[a[c]]),e(d)||(d=[d]),a[c]=a[c].concat(d));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};b.removeQuery=function(a,c,d){var f;if(e(c)){d=0;for(f=c.length;d<f;d++)a[c[d]]=void 0}else if("object"===typeof c)for(f in c)v.call(c,f)&&b.removeQuery(a,f,c[f]);else if("string"===typeof c)if(void 0!==d)if(a[c]===d)a[c]=void 0;else{if(e(a[c])){f=a[c];var g={},l,k;if(e(d)){l=0;
for(k=d.length;l<k;l++)g[d[l]]=!0}else g[d]=!0;l=0;for(k=f.length;l<k;l++)void 0!==g[f[l]]&&(f.splice(l,1),k--,l--);a[c]=f}}else a[c]=void 0;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");};b.hasQuery=function(c,d,f,l){if("object"===typeof d){for(var k in d)if(v.call(d,k)&&!b.hasQuery(c,k,d[k]))return!1;return!0}if("string"!==typeof d)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(f)){case "Undefined":return d in
c;case "Boolean":return c=Boolean(e(c[d])?c[d].length:c[d]),f===c;case "Function":return!!f(c[d],d,c);case "Array":return!e(c[d])?!1:(l?g:n)(c[d],f);case "RegExp":return!e(c[d])?Boolean(c[d]&&c[d].match(f)):!l?!1:g(c[d],f);case "Number":f=String(f);case "String":return!e(c[d])?c[d]===f:!l?!1:g(c[d],f);default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");}};b.commonPath=function(a,b){var c=Math.min(a.length,b.length),d;for(d=
0;d<c;d++)if(a.charAt(d)!==b.charAt(d)){d--;break}if(1>d)return a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"";if("/"!==a.charAt(d)||"/"!==b.charAt(d))d=a.substring(0,d).lastIndexOf("/");return a.substring(0,d+1)};b.withinString=function(a,c){return a.replace(b.find_uri_expression,c)};b.ensureValidHostname=function(a){if(a.match(b.invalid_hostname_characters)){if(!c)throw new TypeError("Hostname '"+a+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(c.toASCII(a).match(b.invalid_hostname_characters))throw new TypeError("Hostname '"+
a+"' contains characters other than [A-Z0-9.-]");}};b.noConflict=function(a){if(a)return a={URI:this.noConflict()},URITemplate&&"function"==typeof URITemplate.noConflict&&(a.URITemplate=URITemplate.noConflict()),r&&"function"==typeof r.noConflict&&(a.IPv6=r.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(a.SecondLevelDomains=SecondLevelDomains.noConflict()),a;d.URI===this&&(d.URI=l);return this};t.build=function(a){if(!0===a)this._deferred_build=!0;else if(void 0===
a||this._deferred_build)this._string=b.build(this._parts),this._deferred_build=!1;return this};t.clone=function(){return new b(this)};t.valueOf=t.toString=function(){return this.build(!1)._string};u={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"};z=function(a){return function(b,c){if(void 0===b)return this._parts[a]||"";this._parts[a]=b||null;this.build(!c);return this}};for(w in u)t[w]=z(u[w]);u={query:"?",fragment:"#"};z=function(a,b){return function(c,
d){if(void 0===c)return this._parts[a]||"";null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1)));this._parts[a]=c;this.build(!d);return this}};for(w in u)t[w]=z(w,u[w]);u={search:["?","query"],hash:["#","fragment"]};z=function(a,b){return function(c,d){var e=this[a](c,d);return"string"===typeof e&&e.length?b+e:e}};for(w in u)t[w]=z(u[w][1],u[w][0]);t.pathname=function(a,c){if(void 0===a||!0===a){var d=this._parts.path||(this._parts.hostname?"/":"");return a?b.decodePath(d):d}this._parts.path=a?b.recodePath(a):
"/";this.build(!c);return this};t.path=t.pathname;t.href=function(a,c){var d;if(void 0===a)return this.toString();this._string="";this._parts=b._parts();var e=a instanceof b,f="object"===typeof a&&(a.hostname||a.path||a.pathname);a.nodeName&&(f=b.getDomAttribute(a),a=a[f]||"",f=!1);!e&&(f&&void 0!==a.pathname)&&(a=a.toString());if("string"===typeof a)this._parts=b.parse(a,this._parts);else if(e||f)for(d in e=e?a._parts:a,e)v.call(this._parts,d)&&(this._parts[d]=e[d]);else throw new TypeError("invalid input");
this.build(!c);return this};t.is=function(a){var c=!1,d=!1,e=!1,g=!1,l=!1,k=!1,m=!1,n=!this._parts.urn;this._parts.hostname&&(n=!1,d=b.ip4_expression.test(this._parts.hostname),e=b.ip6_expression.test(this._parts.hostname),c=d||e,l=(g=!c)&&f&&f.has(this._parts.hostname),k=g&&b.idn_expression.test(this._parts.hostname),m=g&&b.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return n;case "absolute":return!n;case "domain":case "name":return g;case "sld":return l;
case "ip":return c;case "ip4":case "ipv4":case "inet4":return d;case "ip6":case "ipv6":case "inet6":return e;case "idn":return k;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;case "punycode":return m}return null};var s=t.protocol,K=t.port,F=t.hostname;t.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),a.match(/[^a-zA-z0-9\.+-]/)))throw new TypeError("Protocol '"+a+"' contains characters other than [A-Z0-9.+-]");return s.call(this,a,b)};t.scheme=t.protocol;
t.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError("Port '"+a+"' contains characters other than [0-9]");return K.call(this,a,b)};t.hostname=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var d={};b.parseHost(a,d);a=d.hostname}return F.call(this,a,c)};t.host=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?
b.buildHost(this._parts):"";b.parseHost(a,this._parts);this.build(!c);return this};t.authority=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?b.buildAuthority(this._parts):"";b.parseAuthority(a,this._parts);this.build(!c);return this};t.userinfo=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var d=b.buildUserinfo(this._parts);return d.substring(0,d.length-1)}"@"!==a[a.length-1]&&(a+=
"@");b.parseUserinfo(a,this._parts);this.build(!c);return this};t.resource=function(a,c){var d;if(void 0===a)return this.path()+this.search()+this.hash();d=b.parse(a);this._parts.path=d.path;this._parts.query=d.query;this._parts.fragment=d.fragment;this.build(!c);return this};t.subdomain=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,
d)||""}d=this._parts.hostname.length-this.domain().length;d=this._parts.hostname.substring(0,d);d=RegExp("^"+k(d));a&&"."!==a.charAt(a.length-1)&&(a+=".");a&&b.ensureValidHostname(a);this._parts.hostname=this._parts.hostname.replace(d,a);this.build(!c);return this};t.domain=function(a,c){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(c=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.match(/\./g);if(d&&2>d.length)return this._parts.hostname;
d=this._parts.hostname.length-this.tld(c).length-1;d=this._parts.hostname.lastIndexOf(".",d-1)+1;return this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");b.ensureValidHostname(a);!this._parts.hostname||this.is("IP")?this._parts.hostname=a:(d=RegExp(k(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(d,a));this.build(!c);return this};t.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===
a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.lastIndexOf("."),c=this._parts.hostname.substring(c+1);return!0!==b&&f&&f.list[c.toLowerCase()]?f.get(this._parts.hostname)||c:c}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(f&&f.is(a))c=RegExp(k(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(c,a);else throw new TypeError("TLD '"+a+"' contains characters other than [A-Z0-9]");else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");
c=RegExp(k(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(c,a)}else throw new TypeError("cannot set TLD empty");this.build(!b);return this};t.directory=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var d=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,d)||(this._parts.hostname?"/":"");return a?b.decodePath(d):d}d=this._parts.path.length-
this.filename().length;d=this._parts.path.substring(0,d);d=RegExp("^"+k(d));this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a));a&&"/"!==a.charAt(a.length-1)&&(a+="/");a=b.recodePath(a);this._parts.path=this._parts.path.replace(d,a);this.build(!c);return this};t.filename=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var d=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(d+1);return a?
b.decodePathSegment(d):d}d=!1;"/"===a.charAt(0)&&(a=a.substring(1));a.match(/\.?\//)&&(d=!0);var e=RegExp(k(this.filename())+"$");a=b.recodePath(a);this._parts.path=this._parts.path.replace(e,a);d?this.normalizePath(c):this.build(!c);return this};t.suffix=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var d=this.filename(),e=d.lastIndexOf(".");if(-1===e)return"";d=d.substring(e+1);d=/^[a-z0-9%]+$/i.test(d)?d:
"";return a?b.decodePathSegment(d):d}"."===a.charAt(0)&&(a=a.substring(1));if(d=this.suffix())e=a?RegExp(k(d)+"$"):RegExp(k("."+d)+"$");else{if(!a)return this;this._parts.path+="."+b.recodePath(a)}e&&(a=b.recodePath(a),this._parts.path=this._parts.path.replace(e,a));this.build(!c);return this};t.segment=function(a,b,c){var d=this._parts.urn?":":"/",f=this.path(),g="/"===f.substring(0,1),f=f.split(d);void 0!==a&&"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0!==a&&"number"!==typeof a)throw Error("Bad segment '"+
a+"', must be 0-based integer");g&&f.shift();0>a&&(a=Math.max(f.length+a,0));if(void 0===b)return void 0===a?f:f[a];if(null===a||void 0===f[a])if(e(b)){f=[];a=0;for(var l=b.length;a<l;a++)if(b[a].length||f.length&&f[f.length-1].length)f.length&&!f[f.length-1].length&&f.pop(),f.push(b[a])}else{if(b||"string"===typeof b)""===f[f.length-1]?f[f.length-1]=b:f.push(b)}else b||"string"===typeof b&&b.length?f[a]=b:f.splice(a,1);g&&f.unshift("");return this.path(f.join(d),c)};t.segmentCoded=function(a,c,d){var f,
g;"number"!==typeof a&&(d=c,c=a,a=void 0);if(void 0===c){a=this.segment(a,c,d);if(e(a)){f=0;for(g=a.length;f<g;f++)a[f]=b.decode(a[f])}else a=void 0!==a?b.decode(a):void 0;return a}if(e(c)){f=0;for(g=c.length;f<g;f++)c[f]=b.decode(c[f])}else c="string"===typeof c?b.encode(c):c;return this.segment(a,c,d)};var H=t.query;t.query=function(a,c){if(!0===a)return b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"===typeof a){var d=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace),
e=a.call(this,d);this._parts.query=b.buildQuery(e||d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!c);return this}return void 0!==a&&"string"!==typeof a?(this._parts.query=b.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!c),this):H.call(this,a,c)};t.setQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"===typeof a)for(var f in a)v.call(a,f)&&(e[f]=a[f]);else if("string"===
typeof a)e[a]=void 0!==c?c:null;else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};t.addQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);b.addQuery(e,a,void 0===c?null:c);this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);
"string"!==typeof a&&(d=c);this.build(!d);return this};t.removeQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);b.removeQuery(e,a,c);this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};t.hasQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return b.hasQuery(e,a,c,d)};t.setSearch=t.setQuery;t.addSearch=t.addQuery;t.removeSearch=
t.removeQuery;t.hasSearch=t.hasQuery;t.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};t.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a));return this};t.normalizeHostname=function(a){this._parts.hostname&&
(this.is("IDN")&&c?this._parts.hostname=c.toASCII(this._parts.hostname):this.is("IPv6")&&r&&(this._parts.hostname=r.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a));return this};t.normalizePort=function(a){"string"===typeof this._parts.protocol&&this._parts.port===b.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};t.normalizePath=function(a){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;
var c,d=this._parts.path,e,f;"/"!==d.charAt(0)&&(c=!0,d="/"+d);for(d=d.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");;){e=d.indexOf("/../");if(-1===e)break;else if(0===e){d=d.substring(3);break}f=d.substring(0,e).lastIndexOf("/");-1===f&&(f=e);d=d.substring(0,f)+d.substring(e+3)}c&&this.is("relative")&&(d=d.substring(1));d=b.recodePath(d);this._parts.path=d;this.build(!a);return this};t.normalizePathname=t.normalizePath;t.normalizeQuery=function(a){"string"===typeof this._parts.query&&
(this._parts.query.length?this.query(b.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a));return this};t.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));return this};t.normalizeSearch=t.normalizeQuery;t.normalizeHash=t.normalizeFragment;t.iso8859=function(){var a=b.encode,c=b.decode;b.encode=escape;b.decode=decodeURIComponent;this.normalize();b.encode=a;b.decode=c;return this};t.unicode=function(){var a=
b.encode,c=b.decode;b.encode=m;b.decode=unescape;this.normalize();b.encode=a;b.decode=c;return this};t.readable=function(){var a=this.clone();a.username("").password("").normalize();var d="";a._parts.protocol&&(d+=a._parts.protocol+"://");a._parts.hostname&&(a.is("punycode")&&c?(d+=c.toUnicode(a._parts.hostname),a._parts.port&&(d+=":"+a._parts.port)):d+=a.host());a._parts.hostname&&(a._parts.path&&"/"!==a._parts.path.charAt(0))&&(d+="/");d+=a.path(!0);if(a._parts.query){for(var e="",f=0,g=a._parts.query.split("&"),
l=g.length;f<l;f++){var k=(g[f]||"").split("="),e=e+("&"+b.decodeQuery(k[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==k[1]&&(e+="="+b.decodeQuery(k[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}d+="?"+e.substring(1)}return d+=b.decodeQuery(a.hash(),!0)};t.absoluteTo=function(a){var c=this.clone(),d=["protocol","username","password","hostname","port"],e,f;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a instanceof b||(a=new b(a));
c._parts.protocol||(c._parts.protocol=a._parts.protocol);if(this._parts.hostname)return c;for(e=0;f=d[e];e++)c._parts[f]=a._parts[f];d=["query","path"];for(e=0;f=d[e];e++)!c._parts[f]&&a._parts[f]&&(c._parts[f]=a._parts[f]);"/"!==c.path().charAt(0)&&(a=a.directory(),c._parts.path=(a?a+"/":"")+c._parts.path,c.normalizePath());c.build();return c};t.relativeTo=function(a){var c=this.clone().normalize(),d,e,f,g;if(c._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");
a=(new b(a)).normalize();d=c._parts;e=a._parts;f=c.path();g=a.path();if("/"!==f.charAt(0))throw Error("URI is already relative");if("/"!==g.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");d.protocol===e.protocol&&(d.protocol=null);if(!(d.username!==e.username||d.password!==e.password)&&!(null!==d.protocol||null!==d.username||null!==d.password)&&d.hostname===e.hostname&&d.port===e.port)d.hostname=null,d.port=null;else return c.build();if(f===g)return d.path="",c.build();
a=b.commonPath(c.path(),a.path());if(!a)return c.build();e=e.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");d.path=e+d.path.substring(a.length);return c.build()};t.equals=function(a){var c=this.clone();a=new b(a);var d={},f={},g={},l;c.normalize();a.normalize();if(c.toString()===a.toString())return!0;d=c.query();f=a.query();c.query("");a.query("");if(c.toString()!==a.toString()||d.length!==f.length)return!1;d=b.parseQuery(d,this._parts.escapeQuerySpace);f=b.parseQuery(f,this._parts.escapeQuerySpace);
for(l in d)if(v.call(d,l)){if(e(d[l])){if(!n(d[l],f[l]))return!1}else if(d[l]!==f[l])return!1;g[l]=!0}for(l in f)if(v.call(f,l)&&!g[l])return!1;return!0};t.duplicateQueryParameters=function(a){this._parts.duplicateQueryParameters=!!a;return this};t.escapeQuerySpace=function(a){this._parts.escapeQuerySpace=!!a;return this};return b});
(function(){var c=this,r=c._,f={},d=Array.prototype,b=Object.prototype,k=d.push,a=d.slice,e=d.concat,g=b.toString,n=b.hasOwnProperty,b=Array.isArray,p=Object.keys,m=Function.prototype.bind,l=function(a){if(a instanceof l)return a;if(!(this instanceof l))return new l(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=l),exports._=l):c._=l;l.VERSION="1.6.0";var t=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,
c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},v=function(a,b,c){return null==a?l.identity:l.isFunction(a)?t(a,b,c):l.isObject(a)?l.matches(a):l.property(a)};l.each=l.forEach=function(a,b,c){var d;if(null==a)return a;b=t(b,c);if(a.length===+a.length){c=0;for(d=a.length;c<d&&b(a[c],c,a)!==f;c++);}else{var e=l.keys(a);c=0;for(d=e.length;c<
d&&b(a[e[c]],e[c],a)!==f;c++);}return a};l.map=l.collect=function(a,b,c){var d=[];if(null==a)return d;b=v(b,c);l.each(a,function(a,c,e){d.push(b(a,c,e))});return d};l.reduce=l.foldl=l.inject=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);b=t(b,d,4);l.each(a,function(a,d,f){e?c=b(c,a,d,f):(c=a,e=!0)});if(!e)throw TypeError("Reduce of empty array with no initial value");return c};l.reduceRight=l.foldr=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);var f=a.length;b=t(b,d,4);if(f!==
+f)var g=l.keys(a),f=g.length;l.each(a,function(d,l,k){l=g?g[--f]:--f;e?c=b(c,a[l],l,k):(c=a[l],e=!0)});if(!e)throw TypeError("Reduce of empty array with no initial value");return c};l.find=l.detect=function(a,b,c){var d;b=v(b,c);l.some(a,function(a,c,e){if(b(a,c,e))return d=a,!0});return d};l.filter=l.select=function(a,b,c){var d=[];if(null==a)return d;b=v(b,c);l.each(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d};l.reject=function(a,b,c){return l.filter(a,l.negate(v(b)),c)};l.every=l.all=function(a,
b,c){var d=!0;if(null==a)return d;b=v(b,c);l.each(a,function(a,c,e){d=b(a,c,e);if(!d)return f});return!!d};l.some=l.any=function(a,b,c){var d=!1;if(null==a)return d;b=v(b,c);l.each(a,function(a,c,e){if(d=b(a,c,e))return f});return!!d};l.contains=l.include=function(a,b){return null==a?!1:a.length===+a.length?0<=l.indexOf(a,b):l.some(a,function(a){return a===b})};l.invoke=function(b,c){var d=a.call(arguments,2),e=l.isFunction(c);return l.map(b,function(a){return(e?c:a[c]).apply(a,d)})};l.pluck=function(a,
b){return l.map(a,l.property(b))};l.where=function(a,b){return l.filter(a,l.matches(b))};l.findWhere=function(a,b){return l.find(a,l.matches(b))};l.max=function(a,b,c){var d=-Infinity,e=-Infinity,f;if(!b&&l.isArray(a))for(var g=0,k=a.length;g<k;g++)c=a[g],c>d&&(d=c);else b=v(b,c),l.each(a,function(a,c,g){f=b(a,c,g);if(f>e||-Infinity===f&&-Infinity===d)d=a,e=f});return d};l.min=function(a,b,c){var d=Infinity,e=Infinity,f;if(!b&&l.isArray(a))for(var g=0,k=a.length;g<k;g++)c=a[g],c<d&&(d=c);else b=v(b,
c),l.each(a,function(a,c,g){f=b(a,c,g);if(f<e||Infinity===f&&Infinity===d)d=a,e=f});return d};l.shuffle=function(a){var b,c=0,d=[];l.each(a,function(a){b=l.random(c++);d[c-1]=d[b];d[b]=a});return d};l.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=l.values(a)),a[l.random(a.length-1)]):l.shuffle(a).slice(0,Math.max(0,b))};l.sortBy=function(a,b,c){b=v(b,c);return l.pluck(l.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;
if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var u=function(a){return function(b,c,d){var e={};c=v(c,d);l.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)});return e}};l.groupBy=u(function(a,b,c){l.has(a,c)?a[c].push(b):a[c]=[b]});l.indexBy=u(function(a,b,c){a[c]=b});l.countBy=u(function(a,b,c){l.has(a,c)?a[c]++:a[c]=1});l.sortedIndex=function(a,b,c,d){c=v(c,d,1);b=c(b);d=0;for(var e=a.length;d<e;){var f=d+e>>>1;c(a[f])<b?d=f+1:e=f}return d};l.toArray=
function(b){return!b?[]:l.isArray(b)?a.call(b):b.length===+b.length?l.map(b,l.identity):l.values(b)};l.size=function(a){return null==a?0:a.length===+a.length?a.length:l.keys(a).length};l.first=l.head=l.take=function(b,c,d){return null==b?void 0:null==c||d?b[0]:0>c?[]:a.call(b,0,c)};l.initial=function(b,c,d){return a.call(b,0,Math.max(0,b.length-(null==c||d?1:c)))};l.last=function(b,c,d){return null==b?void 0:null==c||d?b[b.length-1]:a.call(b,Math.max(b.length-c,0))};l.rest=l.tail=l.drop=function(b,
c,d){return a.call(b,null==c||d?1:c)};l.compact=function(a){return l.filter(a,l.identity)};var w=function(a,b,c,d){if(b&&l.every(a,l.isArray))return e.apply(d,a);for(var f=0,g=a.length;f<g;f++){var m=a[f];!l.isArray(m)&&!l.isArguments(m)?c||d.push(m):b?k.apply(d,m):w(m,b,c,d)}return d};l.flatten=function(a,b){return w(a,b,!1,[])};l.without=function(b){return l.difference(b,a.call(arguments,1))};l.partition=function(a,b,c){b=v(b,c,1);var d=[],e=[];l.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)});
return[d,e]};l.uniq=l.unique=function(a,b,c,d){if(null==a)return[];l.isFunction(b)&&(d=c,c=b,b=!1);c&&(c=v(c,d));d=[];for(var e=[],f=0,g=a.length;f<g;f++){var k=a[f];c&&(k=c(k,f,a));if(b?!f||e!==k:!l.contains(e,k))b?e=k:e.push(k),d.push(a[f])}return d};l.union=function(){return l.uniq(w(arguments,!0,!0,[]))};l.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;d<e;d++){var f=a[d];if(!l.contains(b,f)){for(var g=1;g<c&&l.contains(arguments[g],f);g++);g===c&&
b.push(f)}}return b};l.difference=function(b){var c=w(a.call(arguments,1),!0,!0,[]);return l.filter(b,function(a){return!l.contains(c,a)})};l.zip=function(){for(var a=l.max(l.pluck(arguments,"length").concat(0)),b=Array(a),c=0;c<a;c++)b[c]=l.pluck(arguments,""+c);return b};l.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};l.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c)if("number"==typeof c)d=0>c?Math.max(0,
e+c):c;else return d=l.sortedIndex(a,b),a[d]===b?d:-1;for(;d<e;d++)if(a[d]===b)return d;return-1};l.lastIndexOf=function(a,b,c){if(null==a)return-1;for(c=null==c?a.length:c;c--;)if(a[c]===b)return c;return-1};l.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};var z=function(){};l.bind=function(b,c){var d,e;if(m&&b.bind===m)return m.apply(b,a.call(arguments,1));if(!l.isFunction(b))throw TypeError("Bind must be called on a function");
d=a.call(arguments,2);return e=function(){if(!(this instanceof e))return b.apply(c,d.concat(a.call(arguments)));z.prototype=b.prototype;var f=new z;z.prototype=null;var g=b.apply(f,d.concat(a.call(arguments)));return Object(g)===g?g:f}};l.partial=function(b){var c=a.call(arguments,1);return function(){for(var a=0,d=c.slice(),e=0,f=d.length;e<f;e++)d[e]===l&&(d[e]=arguments[a++]);for(;a<arguments.length;)d.push(arguments[a++]);return b.apply(this,d)}};l.bindAll=function(a){var b=1,c=arguments.length,
d;if(1>=c)throw Error("bindAll must be passed function names");for(;b<c;b++)d=arguments[b],a[d]=t(a[d],a,Infinity);return a};l.memoize=function(a,b){b||(b=l.identity);var c=function(){var d=c.cache,e=b.apply(this,arguments);l.has(d,e)||(d[e]=a.apply(this,arguments));return d[e]};c.cache={};return c};l.delay=function(b,c){var d=a.call(arguments,2);return setTimeout(function(){return b.apply(null,d)},c)};l.defer=function(b){return l.delay.apply(l,[b,1].concat(a.call(arguments,1)))};l.throttle=function(a,
b,c){var d,e,f,g=null,k=0;c||(c={});var m=function(){k=!1===c.leading?0:l.now();g=null;f=a.apply(d,e);g||(d=e=null)};return function(){var n=l.now();!k&&!1===c.leading&&(k=n);var p=b-(n-k);d=this;e=arguments;0>=p||p>b?(clearTimeout(g),g=null,k=n,f=a.apply(d,e),g||(d=e=null)):!g&&!1!==c.trailing&&(g=setTimeout(m,p));return f}};l.debounce=function(a,b,c){var d,e,f,g,k,m=function(){var n=l.now()-g;n<b&&0<n?d=setTimeout(m,b-n):(d=null,c||(k=a.apply(f,e),d||(f=e=null)))};return function(){f=this;e=arguments;
g=l.now();var n=c&&!d;d||(d=setTimeout(m,b));n&&(k=a.apply(f,e),f=e=null);return k}};l.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};l.wrap=function(a,b){return l.partial(b,a)};l.negate=function(a){return function(){return!a.apply(this,arguments)}};l.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};l.after=function(a,b){return function(){if(1>--a)return b.apply(this,
arguments)}};l.keys=function(a){if(!l.isObject(a))return[];if(p)return p(a);var b=[],c;for(c in a)l.has(a,c)&&b.push(c);return b};l.values=function(a){for(var b=l.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d};l.pairs=function(a){for(var b=l.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d};l.invert=function(a){for(var b={},c=l.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b};l.functions=l.methods=function(a){var b=[],c;for(c in a)l.isFunction(a[c])&&
b.push(c);return b.sort()};l.extend=function(a){if(!l.isObject(a))return a;for(var b,c,d=1,e=arguments.length;d<e;d++)for(c in b=arguments[d],b)a[c]=b[c];return a};l.pick=function(b,c,d){var f={},g;if(l.isFunction(c))for(g in b){var k=b[g];c.call(d,k,g,b)&&(f[g]=k)}else for(var k=e.apply([],a.call(arguments,1)),m=0,n=k.length;m<n;m++)g=k[m],g in b&&(f[g]=b[g]);return f};l.omit=function(b,c,d){var f;l.isFunction(c)?c=l.negate(c):(f=l.map(e.apply([],a.call(arguments,1)),String),c=function(a,b){return!l.contains(f,
b)});return l.pick(b,c,d)};l.defaults=function(b){if(!l.isObject(b))return b;l.each(a.call(arguments,1),function(a){for(var c in a)void 0===b[c]&&(b[c]=a[c])});return b};l.clone=function(a){return!l.isObject(a)?a:l.isArray(a)?a.slice():l.extend({},a)};l.tap=function(a,b){b(a);return a};var s=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof l&&(a=a._wrapped);b instanceof l&&(b=b._wrapped);var e=g.call(a);if(e!==g.call(b))return!1;switch(e){case "[object RegExp]":case "[object String]":return""+
a===""+b;case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var f=a.constructor,k=b.constructor;if(f!==k&&"constructor"in a&&"constructor"in b&&(!l.isFunction(f)||!(f instanceof f&&l.isFunction(k)&&k instanceof k)))return!1;c.push(a);d.push(b);if("[object Array]"===e){if(e=a.length,k=e===b.length)for(;e--&&(k=s(a[e],b[e],c,d)););
}else if(f=l.keys(a),e=f.length,k=l.keys(b).length==e)for(;e--&&!(k=f[e],!(k=l.has(b,k)&&s(a[k],b[k],c,d))););c.pop();d.pop();return k};l.isEqual=function(a,b){return s(a,b,[],[])};l.isEmpty=function(a){if(null==a)return!0;if(l.isArray(a)||l.isString(a)||l.isArguments(a))return 0===a.length;for(var b in a)if(l.has(a,b))return!1;return!0};l.isElement=function(a){return!!(a&&1===a.nodeType)};l.isArray=b||function(a){return"[object Array]"===g.call(a)};l.isObject=function(a){return a===Object(a)};l.each("Arguments Function String Number Date RegExp".split(" "),
function(a){l["is"+a]=function(b){return g.call(b)==="[object "+a+"]"}});l.isArguments(arguments)||(l.isArguments=function(a){return l.has(a,"callee")});"function"!==typeof/./&&(l.isFunction=function(a){return"function"===typeof a});l.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};l.isNaN=function(a){return l.isNumber(a)&&a!==+a};l.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===g.call(a)};l.isNull=function(a){return null===a};l.isUndefined=function(a){return void 0===
a};l.has=function(a,b){return null!=a&&n.call(a,b)};l.noConflict=function(){c._=r;return this};l.identity=function(a){return a};l.constant=function(a){return function(){return a}};l.noop=function(){};l.property=function(a){return function(b){return b[a]}};l.matches=function(a){return function(b){if(null==b)return l.isEmpty(a);if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}};l.times=function(a,b,c){var d=Array(Math.max(0,a));b=t(b,c,1);for(c=0;c<a;c++)d[c]=b(c);return d};l.random=
function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};l.now=Date.now||function(){return(new Date).getTime()};var K={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};K.unescape=l.invert(K.escape);var F={escape:RegExp("["+l.keys(K.escape).join("")+"]","g"),unescape:RegExp("("+l.keys(K.unescape).join("|")+")","g")};l.each(["escape","unescape"],function(a){l[a]=function(b){return null==b?"":(""+b).replace(F[a],function(b){return K[a][b]})}});l.result=function(a,
b){if(null!=a){var c=a[b];return l.isFunction(c)?a[b]():c}};var H=0;l.uniqueId=function(a){var b=++H+"";return a?a+b:b};l.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,J=function(a){return"\\"+I[a]};l.template=function(a,b,c){c=l.defaults({},c,l.templateSettings);var d=RegExp([(c.escape||y).source,(c.interpolate||y).source,(c.evaluate||
y).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,l){f+=a.slice(e,l).replace(L,J);e=l+b.length;c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='");return b});f+="';\n";c.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=Function(c.variable||"obj","_",f)}catch(k){throw k.source=f,k;}if(b)return g(b,
l);b=function(a){return g.call(this,a,l)};b.source="function("+(c.variable||"obj")+"){\n"+f+"}";return b};l.chain=function(a){return l(a).chain()};l.mixin=function(a){l.each(l.functions(a),function(b){var c=l[b]=a[b];l.prototype[b]=function(){var a=[this._wrapped];k.apply(a,arguments);a=c.apply(l,a);return this._chain?l(a).chain():a}})};l.mixin(l);l.each("pop push reverse shift sort splice unshift".split(" "),function(a){var b=d[a];l.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);
("shift"===a||"splice"===a)&&0===c.length&&delete c[0];return this._chain?l(c).chain():c}});l.each(["concat","join","slice"],function(a){var b=d[a];l.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?l(a).chain():a}});l.extend(l.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}});"function"===typeof define&&define.amd&&define("underscore",[],function(){return l})}).call(this);
(function(c,r){if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(d,b,f){c.Backbone=r(c,f,d,b)});else if("undefined"!==typeof exports){var f=require("underscore");r(c,exports,f)}else c.Backbone=r(c,{},c._,c.jQuery||c.Zepto||c.ender||c.$)})(this,function(c,r,f,d){var b=c.Backbone,k=[].slice;r.VERSION="1.1.2";r.$=d;r.noConflict=function(){c.Backbone=b;return this};r.emulateHTTP=!1;r.emulateJSON=!1;var a=r.Events={on:function(a,b,c){if(!g(this,"on",a,[b,c])||
!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!g(this,"once",a,[b,c])||!b)return this;var d=this,e=f.once(function(){d.off(a,e);b.apply(this,arguments)});e._callback=b;return this.on(a,e,c)},off:function(a,b,c){if(!this._events||!g(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;for(var d=a?[a]:f.keys(this._events),e=0,l=d.length;e<l;e++){a=d[e];var k=
this._events[a];if(k)if(!b&&!c)delete this._events[a];else{for(var m=[],n=0,p=k.length;n<p;n++){var r=k[n];(b&&b!==r.callback&&b!==r.callback._callback||c&&c!==r.context)&&m.push(r)}m.length?this._events[a]=m:delete this._events[a]}}return this},trigger:function(a){if(!this._events)return this;var b=k.call(arguments,1);if(!g(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&n(c,b);d&&n(d,arguments);return this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;
var e=!b&&!c;!c&&"object"===typeof b&&(c=this);a&&((d={})[a._listenId]=a);for(var g in d)a=d[g],a.off(b,c,this),(e||f.isEmpty(a._events))&&delete this._listeningTo[g];return this}},e=/\s+/,g=function(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var f in c)a[b].apply(a,[f,c[f]].concat(d));return!1}if(e.test(c)){c=c.split(e);f=0;for(var g=c.length;f<g;f++)a[b].apply(a,[c[f]].concat(d));return!1}return!0},n=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],l=b[2];switch(b.length){case 0:for(;++d<
e;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,l);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};f.each({listenTo:"on",listenToOnce:"once"},function(b,c){a[c]=function(a,c,d){var e=this._listeningTo||(this._listeningTo={}),g=a._listenId||(a._listenId=f.uniqueId("l"));e[g]=a;!d&&"object"===typeof c&&(d=this);a[b](c,d,this);return this}});
a.bind=a.on;a.unbind=a.off;f.extend(r,a);var p=r.Model=function(a,b){var c=a||{};b||(b={});this.cid=f.uniqueId("c");this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(c=this.parse(c,b)||{});c=f.defaults({},c,f.result(this,"defaults"));this.set(c,b);this.changed={};this.initialize.apply(this,arguments)};f.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return f.clone(this.attributes)},sync:function(){return r.sync.apply(this,
arguments)},get:function(a){return this.attributes[a]},escape:function(a){return f.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,g,l,k,m,n;if(null==a)return this;"object"===typeof a?(e=a,c=b):(e={})[a]=b;c||(c={});if(!this._validate(e,c))return!1;g=c.unset;l=c.silent;a=[];k=this._changing;this._changing=!0;k||(this._previousAttributes=f.clone(this.attributes),this.changed={});n=this.attributes;m=this._previousAttributes;this.idAttribute in e&&(this.id=
e[this.idAttribute]);for(d in e)b=e[d],f.isEqual(n[d],b)||a.push(d),f.isEqual(m[d],b)?delete this.changed[d]:this.changed[d]=b,g?delete n[d]:n[d]=b;if(!l){a.length&&(this._pending=c);b=0;for(d=a.length;b<d;b++)this.trigger("change:"+a[b],this,n[a[b]],c)}if(k)return this;if(!l)for(;this._pending;)c=this._pending,this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,f.extend({},b,{unset:!0}))},clear:function(a){var b=
{},c;for(c in this.attributes)b[c]=void 0;return this.set(b,f.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!f.isEmpty(this.changed):f.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes,e;for(e in a)if(!f.isEqual(d[e],b=a[e]))(c||(c={}))[e]=b;return c},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},
fetch:function(a){a=a?f.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return!1;c&&c(b,d,a);b.trigger("sync",b,d,a)};S(this,a);return this.sync("read",this,a)},save:function(a,b,c){var d,e=this.attributes;null==a||"object"===typeof a?(d=a,c=b):(d={})[a]=b;c=f.extend({validate:!0},c);if(d&&!c.wait){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=f.extend({},e,d));void 0===c.parse&&(c.parse=
!0);var g=this,l=c.success;c.success=function(a){g.attributes=e;var b=g.parse(a,c);c.wait&&(b=f.extend(d||{},b));if(f.isObject(b)&&!g.set(b,c))return!1;l&&l(g,a,c);g.trigger("sync",g,a,c)};S(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=d);a=this.sync(a,this,c);d&&c.wait&&(this.attributes=e);return a},destroy:function(a){a=a?f.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&d();c&&c(b,
e,a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew())return a.success(),!1;S(this,a);var e=this.sync("delete",this,a);a.wait||d();return e},url:function(){var a=f.result(this,"urlRoot")||f.result(this.collection,"url")||x();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},f.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=f.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,f.extend(b,{validationError:c}));return!1}});f.each("keys values pairs invert pick omit chain".split(" "),function(a){f[a]&&(p.prototype[a]=function(){var b=k.call(arguments);b.unshift(this.attributes);return f[a].apply(f,b)})});var m=r.Collection=function(a,b){b||(b={});b.model&&(this.model=
b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,f.extend({silent:!0},b))},l={add:!0,remove:!0,merge:!0},t={add:!0,remove:!1};f.extend(m.prototype,a,{model:p,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return r.sync.apply(this,arguments)},add:function(a,b){return this.set(a,f.extend({merge:!1},b,t))},remove:function(a,b){var c=!f.isArray(a);a=c?[a]:f.clone(a);
b||(b={});for(var d=0,e=a.length;d<e;d++){var g=a[d]=this.get(a[d]);if(g){delete this._byId[g.id];delete this._byId[g.cid];var l=this.indexOf(g);this.models.splice(l,1);this.length--;b.silent||(b.index=l,g.trigger("remove",g,this,b));this._removeReference(g,b)}}return c?a[0]:a},set:function(a,b){b=f.defaults({},b,l);b.parse&&(a=this.parse(a,b));var c=!f.isArray(a);a=c?a?[a]:[]:a.slice();for(var d,e,g,k,m=b.at,n=this.comparator&&null==m&&!1!==b.sort,p=f.isString(this.comparator)?this.comparator:null,
r=[],t=[],s={},v=b.add,u=b.merge,x=b.remove,w=!n&&v&&x?[]:!1,y=0,z=a.length;y<z;y++){g=a[y]||{};d=this._isModel(g)?e=g:g[this.model.prototype.idAttribute||"id"];if(d=this.get(d))x&&(s[d.cid]=!0),u&&(g=g===e?e.attributes:g,b.parse&&(g=d.parse(g,b)),d.set(g,b),n&&(!k&&d.hasChanged(p))&&(k=!0)),a[y]=d;else if(v){e=a[y]=this._prepareModel(g,b);if(!e)continue;r.push(e);this._addReference(e,b)}if(e=d||e)w&&(e.isNew()||!s[e.id])&&w.push(e),s[e.id]=!0}if(x){y=0;for(z=this.length;y<z;y++)s[(e=this.models[y]).cid]||
t.push(e);t.length&&this.remove(t,b)}if(r.length||w&&w.length)if(n&&(k=!0),this.length+=r.length,null!=m){y=0;for(z=r.length;y<z;y++)this.models.splice(m+y,0,r[y])}else{w&&(this.models.length=0);g=w||r;y=0;for(z=g.length;y<z;y++)this.models.push(g[y])}k&&this.sort({silent:!0});if(!b.silent){y=0;for(z=r.length;y<z;y++)(e=r[y]).trigger("add",e,this,b);(k||w&&w.length)&&this.trigger("sort",this,b)}return c?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c],
b);b.previousModels=this.models;this._reset();a=this.add(a,f.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,f.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,f.extend({at:0},b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return k.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||
this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return f.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});f.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(f.bind(this.comparator,
this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return f.invoke(this.models,"get",a)},fetch:function(a){a=a?f.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};S(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?f.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;b.success=function(a,e){b.wait&&c.add(a,
b);d&&d(a,e,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?f.clone(b):{};b.collection=this;var c=new this.model(a,b);if(!c.validationError)return c;this.trigger("invalid",this,c.validationError,b);return!1},_isModel:function(a){return a instanceof
p},_addReference:function(a,b){this._byId[a.cid]=a;null!=a.id&&(this._byId[a.id]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"===a||"remove"===a)&&c!==this||("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});f.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain sample partition".split(" "),
function(a){f[a]&&(m.prototype[a]=function(){var b=k.call(arguments);b.unshift(this.models);return f[a].apply(f,b)})});f.each(["groupBy","countBy","sortBy","indexBy"],function(a){f[a]&&(m.prototype[a]=function(b,c){var d=f.isFunction(b)?b:function(a){return a.get(b)};return f[a](this.models,d,c)})});d=r.View=function(a){this.cid=f.uniqueId("view");a||(a={});f.extend(this,f.pick(a,u));this._ensureElement();this.initialize.apply(this,arguments)};var v=/^(\S+)\s*(.*)$/,u="model collection el id attributes className tagName events".split(" ");
f.extend(d.prototype,a,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof r.$?a:r.$(a);this.el=this.$el[0]},delegateEvents:function(a){if(!a&&!(a=f.result(this,"events")))return this;
this.undelegateEvents();for(var b in a){var c=a[b];f.isFunction(c)||(c=this[a[b]]);if(c){var d=b.match(v);this.delegate(d[1],d[2],f.bind(c,this))}}return this},delegate:function(a,b,c){this.$el.on(a+".delegateEvents"+this.cid,b,c)},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c)},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(f.result(this,
"el"));else{var a=f.extend({},f.result(this,"attributes"));this.id&&(a.id=f.result(this,"id"));this.className&&(a["class"]=f.result(this,"className"));this.setElement(this._createElement(f.result(this,"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});r.sync=function(a,b,c){var d=w[a];f.defaults(c||(c={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var e={type:d,dataType:"json"};c.url||(e.url=f.result(b,"url")||x());if(null==c.data&&b&&("create"===a||"update"===
a||"patch"===a))e.contentType="application/json",e.data=JSON.stringify(c.attrs||b.toJSON(c));c.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{});if(c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===d)){e.type="POST";c.emulateJSON&&(e.data._method=d);var g=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d);if(g)return g.apply(this,arguments)}}"GET"!==e.type&&!c.emulateJSON&&(e.processData=!1);var l=c.error;c.error=function(a,
b,d){c.textStatus=b;c.errorThrown=d;l&&l.apply(this,arguments)};a=c.xhr=r.ajax(f.extend(e,c));b.trigger("request",b,a,c);return a};var w={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var z=r.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},s=/\((.*?)\)/g,K=/(\(\?)?:\w+/g,F=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(z.prototype,a,{initialize:function(){},
route:function(a,b,c){f.isRegExp(a)||(a=this._routeToRegExp(a));f.isFunction(b)&&(c=b,b="");c||(c=this[b]);var d=this;r.history.route(a,function(e){e=d._extractParameters(a,e);!1!==d.execute(c,e,b)&&(d.trigger.apply(d,["route:"+b].concat(e)),d.trigger("route",b,e),r.history.trigger("route",d,b,e))});return this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,b){r.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var a,
b=f.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(H,"\\$&").replace(s,"(?:$1)?").replace(K,function(a,b){return b?a:"([^/?]+)"}).replace(F,"([^?]*?)");return RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return f.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var y=r.History=function(){this.handlers=[];f.bindAll(this,"checkUrl");"undefined"!==typeof window&&
(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,J=/#.*$/;y.started=!1;f.extend(y.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.location.search},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getPath:function(){var a=decodeURI(this.location.pathname+this.location.search),b=this.root.slice(0,-1);a.indexOf(b)||(a=a.slice(b.length));return a.slice(1)},getFragment:function(a){null==
a&&(a=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash());return a.replace(I,"")},start:function(a){if(y.started)throw Error("Backbone.history has already been started");y.started=!0;this.options=f.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange="onhashchange"in window;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);
this.fragment=this.getFragment();a=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};this.root=("/"+this.root+"/").replace(L,"/");if(!this._hasHashChange&&this._wantsHashChange&&(!this._wantsPushState||!this._hasPushState)){var b=document.createElement("iframe");b.src="javascript:0";b.style.display="none";b.tabIndex=-1;var c=document.body;this.iframe=c.insertBefore(b,c.firstChild).contentWindow;this.navigate(this.fragment)}this._hasPushState?a("popstate",this.checkUrl,!1):this._wantsHashChange&&
this._hasHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.location.replace(this.root+"#"+this.getPath()),!0;this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+
a,b)};this._hasPushState?a("popstate",this.checkUrl,!1):this._wantsHashChange&&(this._hasHashChange&&!this.iframe)&&a("hashchange",this.checkUrl,!1);this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);y.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe));if(a===this.fragment)return!1;
this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return f.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!y.started)return!1;if(!b||!0===b)b={trigger:!!b};var c=this.root+(a=this.getFragment(a||""));a=decodeURI(a.replace(J,""));if(this.fragment!==a){this.fragment=a;""===a&&"/"!==c&&(c=c.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);
else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe)&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});r.history=new y;p.extend=m.extend=z.extend=d.extend=y.extend=function(a,b){var c=this,d;d=a&&f.has(a,
"constructor")?a.constructor:function(){return c.apply(this,arguments)};f.extend(d,c,b);var e=function(){this.constructor=d};e.prototype=c.prototype;d.prototype=new e;a&&f.extend(d.prototype,a);d.__super__=c.prototype;return d};var x=function(){throw Error('A "url" property or function must be specified');},S=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}};return r});
(function(c,r,f){(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):jQuery&&!jQuery.fn.qtip&&c(jQuery)})(function(d){function b(a,b,c,e){this.id=c;this.target=a;this.tooltip=S;this.elements={target:a};this._id=P+"-"+c;this.timers={img:{}};this.options=b;this.plugins={};this.cache={event:{},target:d(),disabled:x,attr:e,onTooltip:x,lastClass:""};this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=x}function k(a){return a===
S||"object"!==d.type(a)}function a(a){return!(d.isFunction(a)||a&&a.attr||a.length||"object"===d.type(a)&&(a.jquery||a.then))}function e(b){var c,e,f,h;if(k(b))return x;k(b.metadata)&&(b.metadata={type:b.metadata});if("content"in b&&(c=b.content,k(c)||c.jquery||c.done?c=b.content={text:e=a(c)?x:c}:e=c.text,"ajax"in c&&(h=(f=c.ajax)&&f.once!==x,delete c.ajax,c.text=function(a,b){var c=e||d(this).attr(b.options.content.attr)||"Loading...",g=d.ajax(d.extend({},f,{context:b})).then(f.success,S,f.error).then(function(a){a&&
h&&b.set("content.text",a);return a},function(a,c,d){b.destroyed||0===a.status||b.set("content.text",c+": "+d)});return!h?(b.set("content.text",c),g):c}),"title"in c&&(k(c.title)||(c.button=c.title.button,c.title=c.title.text),a(c.title||x))))c.title=x;"position"in b&&k(b.position)&&(b.position={my:b.position,at:b.position});"show"in b&&k(b.show)&&(b.show=b.show.jquery?{target:b.show}:b.show===J?{ready:J}:{event:b.show});"hide"in b&&k(b.hide)&&(b.hide=b.hide.jquery?{target:b.hide}:{event:b.hide});
"style"in b&&k(b.style)&&(b.style={classes:b.style});d.each(W,function(){this.sanitize&&this.sanitize(b)});return b}function g(a,b){for(var c=0,d,e=a,f=b.split(".");e=e[f[c++]];)c<f.length&&(d=e);return[d||a,f.pop()]}function n(a,b){var c,d,e;for(c in this.checks)for(d in this.checks[c])if(e=RegExp(d,"i").exec(a))if(b.push(e),"builtin"===c||this.plugins[c])this.checks[c][d].apply(this.plugins[c]||this,b)}function p(a){return wa.concat("").join(a?"-"+a+" ":" ")}function m(a){return a&&{type:a.type,
pageX:a.pageX,pageY:a.pageY,target:a.target,relatedTarget:a.relatedTarget,scrollX:a.scrollX||c.pageXOffset||r.body.scrollLeft||r.documentElement.scrollLeft,scrollY:a.scrollY||c.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop}||{}}function l(a,b){if(0<b)return setTimeout(d.proxy(a,this),b);a.call(this)}function t(a){if(this.tooltip.hasClass(qa))return x;clearTimeout(this.timers.show);clearTimeout(this.timers.hide);this.timers.show=l.call(this,function(){this.toggle(J,a)},this.options.show.delay)}
function v(a){if(this.tooltip.hasClass(qa))return x;var b=d(a.relatedTarget),c=b.closest(xa)[0]===this.tooltip[0],e=b[0]===this.options.show.target[0];clearTimeout(this.timers.show);clearTimeout(this.timers.hide);if(this!==b[0]&&"mouse"===this.options.position.target&&c||this.options.hide.fixed&&/mouse(out|leave|move)/.test(a.type)&&(c||e))try{a.preventDefault(),a.stopImmediatePropagation()}catch(f){}else this.timers.hide=l.call(this,function(){this.toggle(x,a)},this.options.hide.delay,this)}function u(a){if(this.tooltip.hasClass(qa)||
!this.options.hide.inactive)return x;clearTimeout(this.timers.inactive);this.timers.inactive=l.call(this,function(){this.hide(a)},this.options.hide.inactive)}function w(a){this.rendered&&0<this.tooltip[0].offsetWidth&&this.reposition(a)}function z(a,b,c){d(r.body).delegate(a,(b.split?b:b.join(ca+" "))+ca,function(){var a=Y.api[d.attr(this,oa)];a&&!a.disabled&&c.apply(a,arguments)})}function s(a,c,f){var h,g,l,k=d(r.body),m=a[0]===r?k:a;g=a.metadata?a.metadata(f.metadata):S;var A="html5"===f.metadata.type&&
g?g[f.metadata.name]:S,n=a.data(f.metadata.name||"qtipopts");try{n="string"===typeof n?d.parseJSON(n):n}catch(E){}g=d.extend(J,{},Y.defaults,f,"object"===typeof n?e(n):S,e(A||g));f=g.position;g.id=c;if("boolean"===typeof g.content.text)if(h=a.attr(g.content.attr),g.content.attr!==x&&h)g.content.text=h;else return x;f.container.length||(f.container=k);f.target===x&&(f.target=m);g.show.target===x&&(g.show.target=m);g.show.solo===J&&(g.show.solo=f.container.closest("body"));g.hide.target===x&&(g.hide.target=
m);g.position.viewport===J&&(g.position.viewport=f.container);f.container=f.container.eq(0);f.at=new O(f.at,J);f.my=new O(f.my);if(a.data(P))if(g.overwrite)a.qtip("destroy",!0);else if(g.overwrite===x)return x;a.attr(ha,c);g.suppress&&(l=a.attr("title"))&&a.removeAttr("title").attr(q,l).attr("title","");h=new b(a,g,c,!!h);a.data(P,h);a.one("remove.qtip-"+c+" removeqtip.qtip-"+c,function(){var a;(a=d(this).data(P))&&a.destroy(!0)});return h}function K(a){return a.charAt(0).toUpperCase()+a.slice(1)}
function F(a,b){var c=b.charAt(0).toUpperCase()+b.slice(1),c=(b+" "+Z.join(c+" ")+c).split(" "),d,e,h=0;if(Fa[b])return a.css(Fa[b]);for(;d=c[h++];)if((e=a.css(d))!==f)return Fa[b]=d,e}function H(a,b){return Math.ceil(parseFloat(F(a,b)))}function y(a,b){this._ns="tip";this.options=b;this.offset=b.offset;this.size=[b.width,b.height];this.init(this.qtip=a)}function I(a,b){this.options=b;this._ns="-modal";this.init(this.qtip=a)}function L(a,b){this._ns="ie6";this.init(this.qtip=a)}var J=!0,x=!1,S=null,
C="x",B="y",N="width",D="center",la="flipinvert",U="shift",Y,M,O,Q,W={},P="qtip",ha="data-hasqtip",oa="data-qtip-id",wa=["ui-widget","ui-tooltip"],xa="."+P,sa="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),ia=P+"-fixed",ma=P+"-default",pa=P+"-focus",na=P+"-hover",qa=P+"-disabled",q="oldtitle",A,h=function(){for(var a=3,b=r.createElement("div");(b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e")&&b.getElementsByTagName("i")[0];);return 4<a?a:NaN}(),E=parseFloat((""+
(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||x;M=b.prototype;M._when=function(a){return d.when.apply(d,a)};M.render=function(a){if(this.rendered||this.destroyed)return this;var b=this,c=this.options,e=this.cache,f=this.elements,h=c.content.text,g=c.content.title,q=c.content.button,l=c.position,k=[];d.attr(this.target[0],"aria-describedby",this._id);this.tooltip=f.tooltip=d("<div/>",{id:this._id,
"class":[P,ma,c.style.classes,P+"-pos-"+c.position.my.abbrev()].join(" "),width:c.style.width||"",height:c.style.height||"",tracking:"mouse"===l.target&&l.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":x,"aria-describedby":this._id+"-content","aria-hidden":J}).toggleClass(qa,this.disabled).attr(oa,this.id).data(P,this).appendTo(l.container).append(f.content=d("<div />",{"class":P+"-content",id:this._id+"-content","aria-atomic":J}));this.rendered=-1;this.positioning=J;g&&(this._createTitle(),
d.isFunction(g)||k.push(this._updateTitle(g,x)));q&&this._createButton();d.isFunction(h)||k.push(this._updateContent(h,x));this.rendered=J;this._setWidget();d.each(W,function(a){var c;if("render"===this.initialize&&(c=this(b)))b.plugins[a]=c});this._unassignEvents();this._assignEvents();this._when(k).then(function(){b._trigger("render");b.positioning=x;!b.hiddenDuringWait&&(c.show.ready||a)&&b.toggle(J,e.event,x);b.hiddenDuringWait=x});Y.api[this.id]=this;return this};M.destroy=function(a){function b(){if(!this.destroyed){this.destroyed=
J;var a=this.target,c=a.attr(q);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove();d.each(this.plugins,function(a){this.destroy&&this.destroy()});clearTimeout(this.timers.show);clearTimeout(this.timers.hide);this._unassignEvents();a.removeData(P).removeAttr(oa).removeAttr(ha).removeAttr("aria-describedby");this.options.suppress&&c&&a.attr("title",c).removeAttr(q);this._unbind(a);this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=S;delete Y.api[this.id]}}
if(this.destroyed)return this.target;(a!==J||"hide"===this.triggering)&&this.rendered?(this.tooltip.one("tooltiphidden",d.proxy(b,this)),!this.triggering&&this.hide()):b.call(this);return this.target};Q=M.checks={builtin:{"^id$":function(a,b,c,e){c=c===J?Y.nextid:c;var f=P+"-"+c;c!==x&&0<c.length&&!d("#"+f).length?(this._id=f,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):a[b]=e},"^prerender":function(a,b,c){c&&
!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(a,b,c){this._updateContent(c)},"^content.attr$":function(a,b,c,d){this.options.content.text===this.target.attr(d)&&this._updateContent(this.target.attr(c))},"^content.title$":function(a,b,c){if(!c)return this._removeTitle();c&&!this.elements.title&&this._createTitle();this._updateTitle(c)},"^content.button$":function(a,b,c){this._updateButton(c)},"^content.title.(text|button)$":function(a,b,c){this.set("content."+b,c)},
"^position.(my|at)$":function(a,b,c){"string"===typeof c&&(a[b]=new O(c,"at"===b))},"^position.container$":function(a,b,c){this.rendered&&this.tooltip.appendTo(c)},"^show.ready$":function(a,b,c){c&&(!this.rendered&&this.render(J)||this.toggle(J))},"^style.classes$":function(a,b,c,d){this.rendered&&this.tooltip.removeClass(d).addClass(c)},"^style.(width|height)":function(a,b,c){this.rendered&&this.tooltip.css(b,c)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(a,
b,c){this.rendered&&this.tooltip.toggleClass(ma,!!c)},"^events.(render|show|move|hide|focus|blur)$":function(a,b,c){this.rendered&&this.tooltip[(d.isFunction(c)?"":"un")+"bind"]("tooltip"+b,c)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var a=this.options.position;this.tooltip.attr("tracking","mouse"===a.target&&a.adjust.mouse);this._unassignEvents();this._assignEvents()}}}};M.get=function(a){if(this.destroyed)return this;a=g(this.options,
a.toLowerCase());a=a[0][a[1]];return a.precedance?a.string():a};var G=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,ba=/^prerender|show\.ready/i;M.set=function(a,b){if(this.destroyed)return this;var c=this.rendered,f=x,h=this.options,q;"string"===typeof a?(q=a,a={},a[q]=b):a=d.extend({},a);d.each(a,function(b,e){if(c&&ba.test(b))delete a[b];else{var q=g(h,b.toLowerCase()),l;l=q[0][q[1]];q[0][q[1]]=e&&e.nodeType?d(e):e;f=G.test(b)||f;a[b]=[q[0],q[1],e,l]}});e(h);
this.positioning=J;d.each(a,d.proxy(n,this));this.positioning=x;this.rendered&&(0<this.tooltip[0].offsetWidth&&f)&&this.reposition("mouse"===h.position.target?S:this.cache.event);return this};M._update=function(a,b,c){var e=this,f=this.cache;if(!this.rendered||!a)return x;d.isFunction(a)&&(a=a.call(this.elements.target,f.event,this)||"");if(d.isFunction(a.then))return f.waiting=J,a.then(function(a){f.waiting=x;return e._update(a,b)},S,function(a){return e._update(a,b)});if(a===x||!a&&""!==a)return x;
a.jquery&&0<a.length?b.empty().append(a.css({display:"block",visibility:"visible"})):b.html(a);return this._waitForContent(b).then(function(a){a.images&&(a.images.length&&e.rendered&&0<e.tooltip[0].offsetWidth)&&e.reposition(f.event,!a.length)})};M._waitForContent=function(a){var b=this.cache;b.waiting=J;return(d.fn.imagesLoaded?a.imagesLoaded():d.Deferred().resolve([])).done(function(){b.waiting=x}).promise()};M._updateContent=function(a,b){this._update(a,this.elements.content,b)};M._updateTitle=
function(a,b){this._update(a,this.elements.title,b)===x&&this._removeTitle(x)};M._createTitle=function(){var a=this.elements,b=this._id+"-title";a.titlebar&&this._removeTitle();a.titlebar=d("<div />",{"class":P+"-titlebar "+(this.options.style.widget?p("header"):"")}).append(a.title=d("<div />",{id:b,"class":P+"-title","aria-atomic":J})).insertBefore(a.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(a){d(this).toggleClass("ui-state-active ui-state-focus","down"===
a.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(a){d(this).toggleClass("ui-state-hover","mouseover"===a.type)});this.options.content.button&&this._createButton()};M._removeTitle=function(a){var b=this.elements;b.title&&(b.titlebar.remove(),b.titlebar=b.title=b.button=S,a!==x&&this.reposition())};M.reposition=function(a,b){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=J;var e=this.cache,f=this.tooltip,g=this.options.position,q=g.target,l=
g.my,k=g.at,m=g.viewport,n=g.container,A=g.adjust,p=A.method.split(" "),G=f.outerWidth(x),ea=f.outerHeight(x),t=0,ba=0,s=f.css("position"),R={left:0,top:0},v=0<f[0].offsetWidth,ca=a&&"scroll"===a.type,u=d(c),ta=n[0].ownerDocument,w=this.mouse,Z,y;if(d.isArray(q)&&2===q.length)k={x:"left",y:"top"},R={left:q[0],top:q[1]};else if("mouse"===q){k={x:"left",y:"top"};if(w&&w.pageX&&(A.mouse||!a||!a.pageX))a=w;else if(!a||!a.pageX)if((!A.mouse||this.options.show.distance)&&e.origin&&e.origin.pageX)a=e.origin;
else if(!a||a&&("resize"===a.type||"scroll"===a.type))a=e.event;"static"!==s&&(R=n.offset());if(ta.body.offsetWidth!==(c.innerWidth||ta.documentElement.clientWidth))y=d(r.body).offset();R={left:a.pageX-R.left+(y&&y.left||0),top:a.pageY-R.top+(y&&y.top||0)};A.mouse&&(ca&&w)&&(R.left-=(w.scrollX||0)-u.scrollLeft(),R.top-=(w.scrollY||0)-u.scrollTop())}else{"event"===q?a&&a.target&&"scroll"!==a.type&&"resize"!==a.type?e.target=d(a.target):a.target||(e.target=this.elements.target):"event"!==q&&(e.target=
d(q.jquery?q:this.elements.target));q=e.target;q=d(q).eq(0);if(0===q.length)return this;q[0]===r||q[0]===c?(t=E?c.innerWidth:q.width(),ba=E?c.innerHeight:q.height(),q[0]===c&&(R={top:(m||q).scrollTop(),left:(m||q).scrollLeft()})):W.imagemap&&q.is("area")?Z=W.imagemap(this,q,k,W.viewport?p:x):W.svg&&q&&q[0].ownerSVGElement?Z=W.svg(this,q,k,W.viewport?p:x):(t=q.outerWidth(x),ba=q.outerHeight(x),R=q.offset());Z&&(t=Z.width,ba=Z.height,y=Z.offset,R=Z.position);R=this.reposition.offset(q,R,n);if(3.1<E&&
4.1>E||4.3<=E&&4.33>E||!E&&"fixed"===s)R.left-=u.scrollLeft(),R.top-=u.scrollTop();if(!Z||Z&&Z.adjustable!==x)R.left+="right"===k.x?t:k.x===D?t/2:0,R.top+="bottom"===k.y?ba:k.y===D?ba/2:0}R.left+=A.x+("right"===l.x?-G:l.x===D?-G/2:0);R.top+=A.y+("bottom"===l.y?-ea:l.y===D?-ea/2:0);W.viewport?(R.adjusted=W.viewport(this,R,g,t,ba,G,ea),y&&R.adjusted.left&&(R.left+=y.left),y&&R.adjusted.top&&(R.top+=y.top)):R.adjusted={left:0,top:0};if(!this._trigger("move",[R,m.elem||m],a))return this;delete R.adjusted;
b===x||!v||isNaN(R.left)||isNaN(R.top)||"mouse"===q||!d.isFunction(g.effect)?f.css(R):d.isFunction(g.effect)&&(g.effect.call(f,this,d.extend({},R)),f.queue(function(a){d(this).css({opacity:"",height:""});h&&this.style.removeAttribute("filter");a()}));this.positioning=x;return this};M.reposition.offset=function(a,b,c){if(!c[0])return b;a=d(a[0].ownerDocument);var e=!!h&&"CSS1Compat"!==r.compatMode;c=c[0];var f,g,q;do if("static"!==(g=d.css(c,"position"))){if("fixed"===g){g=c.getBoundingClientRect();
var l=a;b.left+=-1*l.scrollLeft();b.top+=-1*l.scrollTop()}else g=d(c).position(),g.left+=parseFloat(d.css(c,"borderLeftWidth"))||0,g.top+=parseFloat(d.css(c,"borderTopWidth"))||0;b.left-=g.left+(parseFloat(d.css(c,"marginLeft"))||0);b.top-=g.top+(parseFloat(d.css(c,"marginTop"))||0);if(!f&&"hidden"!==(q=d.css(c,"overflow"))&&"visible"!==q)f=d(c)}while(c=c.offsetParent);if(f&&(f[0]!==a[0]||e))b.left+=1*f.scrollLeft(),b.top+=1*f.scrollTop();return b};var ea=(O=M.reposition.Corner=function(a,b){a=(""+
a).replace(/([A-Z])/," $1").replace(/middle/gi,D).toLowerCase();this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase();this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.forceY=!!b;var c=a.charAt(0);this.precedance="t"===c||"b"===c?B:C}).prototype;ea.invert=function(a,b){this[a]="left"===this[a]?"right":"right"===this[a]?"left":b||this[a]};ea.string=function(){var a=this.x,b=this.y;return a===b?a:this.precedance===B||this.forceY&&"center"!==b?b+" "+
a:a+" "+b};ea.abbrev=function(){var a=this.string().split(" ");return a[0].charAt(0)+(a[1]&&a[1].charAt(0)||"")};ea.clone=function(){return new O(this.string(),this.forceY)};M.toggle=function(a,b,c){var e=this.cache,f=this.options,g=this.tooltip;if(b){if(/over|enter/.test(b.type)&&/out|leave/.test(e.event.type)&&f.show.target.add(b.target).length===f.show.target.length&&g.has(b.relatedTarget).length)return this;e.event=m(b)}this.waiting&&!a&&(this.hiddenDuringWait=J);if(this.rendered){if(this.destroyed||
this.disabled)return this}else return a?this.render(1):this;var f=a?"show":"hide",q=this.options[f],l=this.options.position,k=this.options.content,n=this.tooltip.css("width"),E=this.tooltip.is(":visible"),p=a||1===q.target.length,G=!b||2>q.target.length||e.target[0]===b.target,ea;(typeof a).search("boolean|number")&&(a=!E);E=!g.is(":animated")&&E===a&&G;G=!E?!!this._trigger(f,[90]):S;if(this.destroyed)return this;G!==x&&a&&this.focus(b);if(!G||E)return this;d.attr(g[0],"aria-hidden",!a);a?(e.origin=
m(this.mouse),d.isFunction(k.text)&&this._updateContent(k.text,x),d.isFunction(k.title)&&this._updateTitle(k.title,x),!A&&("mouse"===l.target&&l.adjust.mouse)&&(d(r).bind("mousemove."+P,this._storeMouse),A=J),n||g.css("width",g.outerWidth(x)),this.reposition(b,c),n||g.css("width",""),q.solo&&("string"===typeof q.solo?d(q.solo):d(xa,q.solo)).not(g).not(q.target).qtip("hide",d.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete e.origin,A&&!d(xa+'[tracking="true"]:visible',q.solo).not(g).length&&
(d(r).unbind("mousemove."+P),A=x),this.blur(b));ea=d.proxy(function(){a?(h&&g[0].style.removeAttribute("filter"),g.css("overflow",""),"string"===typeof q.autofocus&&d(this.options.show.autofocus,g).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):g.css({display:"",visibility:"",opacity:"",left:"",top:""});this._trigger(a?"visible":"hidden")},this);q.effect===x||p===x?(g[f](),ea()):d.isFunction(q.effect)?(g.stop(1,1),q.effect.call(g,this),g.queue("fx",function(a){ea();a()})):
g.fadeTo(90,a?1:0,ea);a&&q.target.trigger("qtip-"+this.id+"-inactive");return this};M.show=function(a){return this.toggle(J,a)};M.hide=function(a){return this.toggle(x,a)};M.focus=function(a){if(!this.rendered||this.destroyed)return this;var b=d(xa),c=this.tooltip,e=parseInt(c[0].style.zIndex,10),f=Y.zindex+b.length;!c.hasClass(pa)&&this._trigger("focus",[f],a)&&(e!==f&&(b.each(function(){this.style.zIndex>e&&(this.style.zIndex-=1)}),b.filter("."+pa).qtip("blur",a)),c.addClass(pa)[0].style.zIndex=
f);return this};M.blur=function(a){if(!this.rendered||this.destroyed)return this;this.tooltip.removeClass(pa);this._trigger("blur",[this.tooltip.css("zIndex")],a);return this};M.disable=function(a){if(this.destroyed)return this;"toggle"===a?a=!(this.rendered?this.tooltip.hasClass(qa):this.disabled):"boolean"!==typeof a&&(a=J);this.rendered&&this.tooltip.toggleClass(qa,a).attr("aria-disabled",a);this.disabled=!!a;return this};M.enable=function(){return this.disable(x)};M._createButton=function(){var a=
this,b=this.elements,c=b.tooltip,e=this.options.content.button,f="string"===typeof e?e:"Close tooltip";b.button&&b.button.remove();b.button=e.jquery?e:d("<a />",{"class":"qtip-close "+(this.options.style.widget?"":P+"-icon"),title:f,"aria-label":f}).prepend(d("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));b.button.appendTo(b.titlebar||c).attr("role","button").click(function(b){c.hasClass(qa)||a.hide(b);return x})};M._updateButton=function(a){if(!this.rendered)return x;var b=this.elements.button;
a?this._createButton():b.remove()};M._setWidget=function(){var a=this.options.style.widget,b=this.elements,c=b.tooltip,d=c.hasClass(qa);c.removeClass(qa);qa=a?"ui-state-disabled":"qtip-disabled";c.toggleClass(qa,d);c.toggleClass("ui-helper-reset "+p(),a).toggleClass(ma,this.options.style.def&&!a);b.content&&b.content.toggleClass(p("content"),a);b.titlebar&&b.titlebar.toggleClass(p("header"),a);b.button&&b.button.toggleClass(P+"-icon",!a)};M._storeMouse=function(a){(this.mouse=m(a)).type="mousemove"};
M._bind=function(a,b,c,e,f){e="."+this._id+(e?"-"+e:"");b.length&&d(a).bind((b.split?b:b.join(e+" "))+e,d.proxy(c,f||this))};M._unbind=function(a,b){d(a).unbind("."+this._id+(b?"-"+b:""))};var ca="."+P;d(function(){z(xa,["mouseenter","mouseleave"],function(a){var b="mouseenter"===a.type,c=d(a.currentTarget),e=d(a.relatedTarget||a.target),f=this.options;b?(this.focus(a),c.hasClass(ia)&&!c.hasClass(qa)&&clearTimeout(this.timers.hide)):"mouse"===f.position.target&&(f.hide.event&&f.show.target&&!e.closest(f.show.target[0]).length)&&
this.hide(a);c.toggleClass(na,b)});z("["+oa+"]",sa,u)});M._trigger=function(a,b,c){var e=d.Event("tooltip"+a);e.originalEvent=c&&d.extend({},c)||this.cache.event||S;this.triggering=a;this.tooltip.trigger(e,[this].concat(b||[]));this.triggering=x;return!e.isDefaultPrevented()};M._bindEvents=function(a,b,c,e,f,h){if(e.add(c).length===e.length){var g=[];b=d.map(b,function(b){var c=d.inArray(b,a);if(-1<c)g.push(a.splice(c,1)[0]);else return b});g.length&&this._bind(c,g,function(a){(this.rendered&&0<this.tooltip[0].offsetWidth?
h:f).call(this,a)})}this._bind(c,a,f);this._bind(e,b,h)};M._assignInitialEvents=function(a){function b(a){if(this.disabled||this.destroyed)return x;this.cache.event=m(a);this.cache.target=a?d(a.target):[f];clearTimeout(this.timers.show);this.timers.show=l.call(this,function(){this.render("object"===typeof a||c.show.ready)},c.show.delay)}var c=this.options,e=c.show.target,h=c.hide.target,g=c.show.event?d.trim(""+c.show.event).split(" "):[],q=c.hide.event?d.trim(""+c.hide.event).split(" "):[];/mouse(over|enter)/i.test(c.show.event)&&
!/mouse(out|leave)/i.test(c.hide.event)&&q.push("mouseleave");this._bind(e,"mousemove",function(a){this._storeMouse(a);this.cache.onTarget=J});this._bindEvents(g,q,e,h,b,function(){clearTimeout(this.timers.show)});(c.show.ready||c.prerender)&&b.call(this,a)};M._assignEvents=function(){var a=this,b=this.options,e=b.position,f=this.tooltip,h=b.show.target,g=b.hide.target,q=e.container,l=e.viewport,k=d(r);d(r.body);var m=d(c),n=b.show.event?d.trim(""+b.show.event).split(" "):[],A=b.hide.event?d.trim(""+
b.hide.event).split(" "):[];d.each(b.events,function(b,c){a._bind(f,"toggle"===b?["tooltipshow","tooltiphide"]:["tooltip"+b],c,null,f)});/mouse(out|leave)/i.test(b.hide.event)&&"window"===b.hide.leave&&this._bind(k,["mouseout","blur"],function(a){!/select|option/.test(a.target.nodeName)&&!a.relatedTarget&&this.hide(a)});b.hide.fixed?g=g.add(f.addClass(ia)):/mouse(over|enter)/i.test(b.show.event)&&this._bind(g,"mouseleave",function(){clearTimeout(this.timers.show)});-1<(""+b.hide.event).indexOf("unfocus")&&
this._bind(q.closest("html"),["mousedown","touchstart"],function(a){var b=d(a.target),c=this.rendered&&!this.tooltip.hasClass(qa)&&0<this.tooltip[0].offsetWidth,e=0<b.parents(xa).filter(this.tooltip[0]).length;b[0]!==this.target[0]&&(b[0]!==this.tooltip[0]&&!e&&!this.target.has(b[0]).length&&c)&&this.hide(a)});"number"===typeof b.hide.inactive&&(this._bind(h,"qtip-"+this.id+"-inactive",u),this._bind(g.add(f),Y.inactiveEvents,u,"-inactive"));this._bindEvents(n,A,h,g,t,v);this._bind(h.add(f),"mousemove",
function(a){if("number"===typeof b.hide.distance){var c=this.cache.origin||{},d=this.options.hide.distance,e=Math.abs;(e(a.pageX-c.pageX)>=d||e(a.pageY-c.pageY)>=d)&&this.hide(a)}this._storeMouse(a)});"mouse"===e.target&&e.adjust.mouse&&(b.hide.event&&this._bind(h,["mouseenter","mouseleave"],function(a){this.cache.onTarget="mouseenter"===a.type}),this._bind(k,"mousemove",function(a){this.rendered&&(this.cache.onTarget&&!this.tooltip.hasClass(qa)&&0<this.tooltip[0].offsetWidth)&&this.reposition(a)}));
if(e.adjust.resize||l.length)this._bind(d.event.special.resize?l:m,"resize",w);e.adjust.scroll&&this._bind(m.add(e.container),"scroll",w)};M._unassignEvents=function(){var a=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],c,r];this._unbind(d([]).pushStack(d.grep(a,function(a){return"object"===typeof a})))};Y=d.fn.qtip=function(a,b,c){var h=
(""+a).toLowerCase(),g=S,q=d.makeArray(arguments).slice(1),l=q[q.length-1],k=this[0]?d.data(this[0],P):S;if(!arguments.length&&k||"api"===h)return k;if("string"===typeof a)return this.each(function(){var a=d.data(this,P);if(!a)return J;l&&l.timeStamp&&(a.cache.event=l);if(b&&("option"===h||"options"===h))if(c!==f||d.isPlainObject(b))a.set(b,c);else return g=a.get(b),x;else a[h]&&a[h].apply(a,q)}),g!==S?g:this;if("object"===typeof a||!arguments.length)return k=e(d.extend(J,{},a)),this.each(function(a){var b;
a=d.isArray(k.id)?k.id[a]:k.id;a=!a||a===x||1>a.length||Y.api[a]?Y.nextid++:a;b=s(d(this),a,k);if(b===x)return J;Y.api[a]=b;d.each(W,function(){"initialize"===this.initialize&&this(b)});b._assignInitialEvents(l)})};d.qtip=b;Y.api={};d.each({attr:function(a,b){if(this.length){var c=this[0],e=d.data(c,"qtip");if("title"===a&&e&&"object"===typeof e&&e.options.suppress){if(2>arguments.length)return d.attr(c,q);e&&("title"===e.options.content.attr&&e.cache.attr)&&e.set("content.text",b);return this.attr(q,
b)}}return d.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(a){d([]);var b=d.fn.clone_replacedByqTip.apply(this,arguments);a||b.filter("["+q+"]").attr("title",function(){return d.attr(this,q)}).removeAttr(q);return b}},function(a,b){if(!b||d.fn[a+"_replacedByqTip"])return J;var c=d.fn[a+"_replacedByqTip"]=d.fn[a];d.fn[a]=function(){return b.apply(this,arguments)||c.apply(this,arguments)}});d.ui||(d.cleanData_replacedByqTip=d.cleanData,d.cleanData=function(a){for(var b=0,c;(c=d(a[b])).length;b++)if(c.attr(ha))try{c.triggerHandler("removeqtip")}catch(e){}d.cleanData_replacedByqTip.apply(this,
arguments)});Y.version="2.2.0";Y.nextid=0;Y.inactiveEvents=sa;Y.zindex=15E3;Y.defaults={prerender:x,id:x,overwrite:J,suppress:J,content:{text:J,attr:"title",title:x,button:x},position:{my:"top left",at:"bottom right",target:x,container:x,viewport:x,adjust:{x:0,y:0,mouse:J,scroll:J,resize:J,method:"flipinvert flipinvert"},effect:function(a,b,c){d(this).animate(b,{duration:200,queue:x})}},show:{target:x,event:"mouseenter",effect:J,delay:90,solo:x,ready:x,autofocus:x},hide:{target:x,event:"mouseleave",
effect:J,delay:0,fixed:x,inactive:x,leave:"window",distance:x},style:{classes:"",widget:x,width:x,height:x,def:J},events:{render:S,move:S,show:S,hide:S,toggle:S,visible:S,hidden:S,focus:S,blur:S}};var Ta="margin",ta=!!r.createElement("canvas").getContext,R=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,Fa={},Z=["Webkit","O","Moz","ms"];if(ta){M=c.devicePixelRatio||1;var ea=function(){var a=r.createElement("canvas").getContext("2d");return a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||
a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||1}(),X=M/ea}else var Ba=function(a,b,c){return"<qtipvml:"+a+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(b||"")+' style="behavior: url(#default#VML); '+(c||"")+'" />'};d.extend(y.prototype,{init:function(a){var b,c;c=this.element=a.elements.tip=d("<div />",{"class":P+"-tip"}).prependTo(a.tooltip);ta?(b=d("<canvas />").appendTo(this.element)[0].getContext("2d"),b.lineJoin="miter",b.miterLimit=1E5,b.save()):(b=Ba("shape",'coordorigin="0,0"',
"position:absolute;"),this.element.html(b+b),a._bind(d("*",c).add(c),["click","mousedown"],function(a){a.stopPropagation()},this._ns));a._bind(a.tooltip,"tooltipmove",this.reposition,this._ns,this);this.create()},_swapDimensions:function(){this.size[0]=this.options.height;this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width;this.size[1]=this.options.height},_useTitle:function(a){var b=this.qtip.elements.titlebar;return b&&("top"===a.y||a.y===D&&this.element.position().top+
this.size[1]/2+this.options.offset<b.outerHeight(J))},_parseCorner:function(a){var b=this.qtip.options.position.my;a===x||b===x?a=x:a===J?a=new O(b.string()):a.string||(a=new O(a),a.fixed=J);return a},_parseWidth:function(a,b,c){var d=this.qtip.elements;b="border"+K(b)+"Width";return(c?H(c,b):H(d.content,b)||H(this._useTitle(a)&&d.titlebar||d.content,b)||H(d.tooltip,b))||0},_parseRadius:function(a){var b=this.qtip.elements,c="border"+K(a.y)+K(a.x)+"Radius";return 9>h?0:H(this._useTitle(a)&&b.titlebar||
b.content,c)||H(b.tooltip,c)||0},_invalidColour:function(a,b,c){b=a.css(b);return!b||c&&b===a.css(c)||R.test(b)?x:b},_parseColours:function(a){var b=this.qtip.elements,c=this.element.css("cssText",""),e="border"+K(a[a.precedance])+K("color");a=this._useTitle(a)&&b.titlebar||b.content;var f=this._invalidColour,h=[];h[0]=f(c,"background-color")||f(a,"background-color")||f(b.content,"background-color")||f(b.tooltip,"background-color")||c.css("background-color");h[1]=f(c,e,"color")||f(a,e,"color")||f(b.content,
e,"color")||f(b.tooltip,e,"color")||b.tooltip.css(e);d("*",c).add(c).css("cssText","background-color:transparent !important;border:0 !important;");return h},_calculateSize:function(a){var b=a.precedance===B,c=this.options.width,d=this.options.height,e="c"===a.abbrev(),f=(b?c:d)*(e?0.5:1),h=Math.pow;a=Math.round;var g=Math.sqrt(h(f,2)+h(d,2)),f=[this.border/f*g,this.border/d*g];f[2]=Math.sqrt(h(f[0],2)-h(this.border,2));f[3]=Math.sqrt(h(f[1],2)-h(this.border,2));e=(g+f[2]+f[3]+(e?0:f[0]))/g;c=[a(e*
c),a(e*d)];return b?c:c.reverse()},_calculateTip:function(a,b,c){c=c||1;b=b||this.size;var d=b[0]*c;b=b[1]*c;c=Math.ceil(d/2);var e=Math.ceil(b/2),d={br:[0,0,d,b,d,0],bl:[0,0,d,0,0,b],tr:[0,b,d,0,d,b],tl:[0,0,0,b,d,b],tc:[0,b,c,0,d,b],bc:[0,0,d,0,c,b],rc:[0,0,d,e,0,b],lc:[d,0,d,b,0,e]};d.lt=d.br;d.rt=d.bl;d.lb=d.tr;d.rb=d.tl;return d[a.abbrev()]},_drawCoords:function(a,b){a.beginPath();a.moveTo(b[0],b[1]);a.lineTo(b[2],b[3]);a.lineTo(b[4],b[5]);a.closePath()},create:function(){var a=this.corner=(ta||
h)&&this._parseCorner(this.options.corner);if(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())this.qtip.cache.corner=a.clone(),this.update();this.element.toggle(this.enabled);return this.corner},update:function(a,b){if(!this.enabled)return this;var e=this.qtip.elements,f=this.element,g=f.children(),q=this.options,l=this.size,k=q.mimic,m=Math.round,n,A,E,p,G;a||(a=this.qtip.cache.corner||this.corner);k===x?k=a:(k=new O(k),k.precedance=a.precedance,"inherit"===k.x?k.x=a.x:"inherit"===k.y?k.y=
a.y:k.x===k.y&&(k[a.precedance]=a[a.precedance]));A=k.precedance;a.precedance===C?this._swapDimensions():this._resetDimensions();n=this.color=this._parseColours(a);"transparent"!==n[1]?(G=this.border=this._parseWidth(a,a[a.precedance]),q.border&&(1>G&&!R.test(n[1]))&&(n[0]=n[1]),this.border=G=q.border!==J?q.border:G):this.border=G=0;p=this.size=this._calculateSize(a);f.css({width:p[0],height:p[1],lineHeight:p[1]+"px"});f=a.precedance===B?[m("left"===k.x?G:"right"===k.x?p[0]-l[0]-G:(p[0]-l[0])/2),
m("top"===k.y?p[1]-l[1]:0)]:[m("left"===k.x?p[0]-l[0]:0),m("top"===k.y?G:"bottom"===k.y?p[1]-l[1]-G:(p[1]-l[1])/2)];ta?(A=g[0].getContext("2d"),A.restore(),A.save(),A.clearRect(0,0,6E3,6E3),E=this._calculateTip(k,l,X),l=this._calculateTip(k,this.size,X),g.attr(N,p[0]*X).attr("height",p[1]*X),g.css(N,p[0]).css("height",p[1]),this._drawCoords(A,l),A.fillStyle=n[1],A.fill(),A.translate(f[0]*X,f[1]*X),this._drawCoords(A,E),A.fillStyle=n[0],A.fill()):(E=this._calculateTip(k),E="m"+E[0]+","+E[1]+" l"+E[2]+
","+E[3]+" "+E[4]+","+E[5]+" xe",f[2]=G&&/^(r|b)/i.test(a.string())?8===h?2:1:0,g.css({coordsize:p[0]+G+" "+(p[1]+G),antialias:""+(-1<k.string().indexOf(D)),left:f[0]-f[2]*Number(A===C),top:f[1]-f[2]*Number(A===B),width:p[0]+G,height:p[1]+G}).each(function(a){var b=d(this);b[b.prop?"prop":"attr"]({coordsize:p[0]+G+" "+(p[1]+G),path:E,fillcolor:n[0],filled:!!a,stroked:!a}).toggle(!(!G&&!a));!a&&b.html(Ba("stroke",'weight="'+2*G+'px" color="'+n[1]+'" miterlimit="1000" joinstyle="miter"'))}));c.opera&&
setTimeout(function(){e.tip.css({display:"inline-block",visibility:"visible"})},1);b!==x&&this.calculate(a,p)},calculate:function(a,b){if(!this.enabled)return x;var c=this,e=this.qtip.elements,f=this.element,h=this.options.offset;e.tooltip.hasClass("ui-widget");var g={},q,l;a=a||this.corner;q=a.precedance;b=b||this._calculateSize(a);l=[a.x,a.y];q===C&&l.reverse();d.each(l,function(d,f){var l,k,m;f===D?(l=q===B?"left":"top",g[l]="50%",g[Ta+"-"+l]=-Math.round(b[q===B?0:1]/2)+h):(l=c._parseWidth(a,f,
e.tooltip),k=c._parseWidth(a,f,e.content),m=c._parseRadius(a),g[f]=Math.max(-c.border,d?k:h+(m>l?m:-l)))});g[a[q]]-=b[q===C?0:1];f.css({margin:"",top:"",bottom:"",left:"",right:""}).css(g);return g},reposition:function(a,b,c,d){function e(a,b,c,d,f){a===U&&g.precedance===b&&q[d]&&g[c]!==D?g.precedance=g.precedance===C?B:C:a!==U&&q[d]&&(g[b]=g[b]===D?0<q[d]?d:f:g[b]===d?f:d)}function h(a,b,d){if(g[a]===D)m[Ta+"-"+b]=l[a]=k[Ta+"-"+b]-q[b];else{A=k[d]!==f?[q[b],-k[b]]:[-q[b],k[b]];if((l[a]=Math.max(A[0],
A[1]))>A[0])c[b]-=q[b],l[b]=x;m[k[d]!==f?d:b]=l[a]}}if(this.enabled){a=b.cache;var g=this.corner.clone(),q=c.adjusted;d=b.options.position.adjust.method.split(" ");b=d[0];d=d[1]||d[0];var l={left:x,top:x,x:0,y:0},k,m={},A;this.corner.fixed!==J&&(e(b,C,B,"left","right"),e(d,B,C,"top","bottom"),g.string()!==a.corner.string()&&(a.cornerTop!==q.top||a.cornerLeft!==q.left)&&this.update(g,x));k=this.calculate(g);k.right!==f&&(k.left=-k.right);k.bottom!==f&&(k.top=-k.bottom);k.user=this.offset;(l.left=b===
U&&!!q.left)&&h(C,"left","right");(l.top=d===U&&!!q.top)&&h(B,"top","bottom");this.element.css(m).toggle(!(l.x&&l.y||g.x===D&&l.y||g.y===D&&l.x));c.left-=k.left.charAt?k.user:b!==U||l.top||!l.left&&!l.top?k.left+this.border:0;c.top-=k.top.charAt?k.user:d!==U||l.left||!l.left&&!l.top?k.top+this.border:0;a.cornerLeft=q.left;a.cornerTop=q.top;a.corner=g.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns);this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}});
M=W.tip=function(a){return new y(a,a.options.style.tip)};M.initialize="render";M.sanitize=function(a){if(a.style&&"tip"in a.style){var b=a.style.tip;"object"!==typeof b&&(b=a.style.tip={corner:b});/string|boolean/i.test(typeof b.corner)||(b.corner=J)}};Q.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create();this.qtip.reposition()},"^style.tip.(height|width)$":function(a){this.size=[a.width,a.height];this.update();this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}};
d.extend(J,Y.defaults,{style:{tip:{corner:J,mimic:x,width:6,height:6,border:J,offset:0}}});var Da;Da=function(){function a(b){if(d.expr[":"].focusable)return d.expr[":"].focusable;var c=!isNaN(d.attr(b,"tabindex")),e=b.nodeName&&b.nodeName.toLowerCase();if("area"===e){c=b.parentNode;e=c.name;if(!b.href||!e||"map"!==c.nodeName.toLowerCase())return!1;b=d("img[usemap=#"+e+"]")[0];return!!b&&b.is(":visible")}return/input|select|textarea|button|object/.test(e)?!b.disabled:"a"===e?b.href||c:c}function b(a){1>
f.length&&a.length?a.not("body").blur():f.first().focus()}function c(a){if(q.is(":visible")){a=d(a.target);var e=h.tooltip,f=a.closest(xa);!(1>f.length?x:parseInt(f[0].style.zIndex,10)>parseInt(e[0].style.zIndex,10))&&a.closest(xa)[0]!==e[0]&&b(a)}}var e=this,f={},h,g,q;d.extend(e,{init:function(){q=e.elem=d("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return x}}).hide();d(r.body).bind("focusin.qtip-modal",c);d(r).bind("keydown.qtip-modal",function(a){h&&(h.options.show.modal.escape&&
27===a.keyCode)&&h.hide(a)});q.bind("click.qtip-modal",function(a){h&&h.options.show.modal.blur&&h.hide(a)});return e},update:function(b){h=b;f=b.options.show.modal.stealfocus!==x?b.tooltip.find("*").filter(function(){return a(this)}):[]},toggle:function(a,c,f){d(r.body);var l=a.tooltip,k=a.options.show.modal,m=k.effect,A=c?"show":"hide",n=q.is(":visible"),l=d(".qtip-modal").filter(":visible:not(:animated)").not(l);e.update(a);c&&k.stealfocus!==x&&b(d(":focus"));q.toggleClass("blurs",k.blur);c&&q.appendTo(r.body);
if(q.is(":animated")&&n===c&&g!==x||!c&&l.length)return e;q.stop(J,x);if(d.isFunction(m))m.call(q,c);else if(m===x)q[A]();else q.fadeTo(parseInt(f,10)||90,c?1:0,function(){c||q.hide()});c||q.queue(function(a){q.css({left:"",top:""});d(".qtip-modal").length||q.detach();a()});g=c;h.destroyed&&(h=S);return e}});e.init()};Da=new Da;d.extend(I.prototype,{init:function(a){var b=a.tooltip;if(!this.options.on)return this;a.elements.overlay=Da.elem;b.addClass("qtip-modal").css("z-index",Y.modal_zindex+d(".qtip-modal").length);
a._bind(b,["tooltipshow","tooltiphide"],function(a,c,e){c=a.originalEvent;if(a.target===b[0])if(c&&"tooltiphide"===a.type&&/mouse(leave|enter)/.test(c.type)&&d(c.relatedTarget).closest(Da.elem[0]).length)try{a.preventDefault()}catch(f){}else(!c||c&&"tooltipsolo"!==c.type)&&this.toggle(a,"tooltipshow"===a.type,e)},this._ns,this);a._bind(b,"tooltipfocus",function(a,c){if(!(a.isDefaultPrevented()||a.target!==b[0])){var e=d(".qtip-modal"),f=Y.modal_zindex+e.length,h=parseInt(b[0].style.zIndex,10);Da.elem[0].style.zIndex=
f-1;e.each(function(){this.style.zIndex>h&&(this.style.zIndex-=1)});e.filter("."+pa).qtip("blur",a.originalEvent);b.addClass(pa)[0].style.zIndex=f;Da.update(c);try{a.preventDefault()}catch(g){}}},this._ns,this);a._bind(b,"tooltiphide",function(a){a.target===b[0]&&d(".qtip-modal").filter(":visible").not(b).last().qtip("focus",a)},this._ns,this)},toggle:function(a,b,c){if(a&&a.isDefaultPrevented())return this;Da.toggle(this.qtip,!!b,c)},destroy:function(){this.qtip.tooltip.removeClass("qtip-modal");
this.qtip._unbind(this.qtip.tooltip,this._ns);Da.toggle(this.qtip,x);delete this.qtip.elements.overlay}});M=W.modal=function(a){return new I(a,a.options.show.modal)};M.sanitize=function(a){a.show&&("object"!==typeof a.show.modal?a.show.modal={on:!!a.show.modal}:"undefined"===typeof a.show.modal.on&&(a.show.modal.on=J))};Y.modal_zindex=Y.zindex-200;M.initialize="render";Q.modal={"^show.modal.(on|blur)$":function(){this.destroy();this.init();this.qtip.elems.overlay.toggle(0<this.qtip.tooltip[0].offsetWidth)}};
d.extend(J,Y.defaults,{show:{modal:{on:x,effect:J,blur:J,stealfocus:J,escape:J}}});W.viewport=function(a,b,d,e,f,h,g){function q(a,c,d,e,f,h,g,l,k){var n=b[f],E=m[a],p=A[a],G=E===f?k:E===h?-k:-k/2,r=Z[f]+w[f]-(v?0:s[f]),ea=r-n;k=n+k-(g===N?ca:u)-r;c=G-(m.precedance===a||E===m[c]?p===f?l:p===h?-l:-l/2:0)-(p===D?l/2:0);if(d===U)c=(E===f?1:-1)*G,b[f]+=0<ea?ea:0<k?-k:0,b[f]=Math.max(-s[f]+w[f],n-c,Math.min(Math.max(-s[f]+w[f]+(g===N?ca:u),n+c),b[f],"center"===E?n-G:1E9));else{e*=d===la?2:0;if(0<ea&&(E!==
f||0<k))b[f]-=c+e,t.invert(a,f);else if(0<k&&(E!==h||0<ea))b[f]-=(E===D?-c:c)+e,t.invert(a,h);b[f]<Z&&-b[f]>k&&(b[f]=n,t=m.clone())}return b[f]-n}var l=d.target,k=a.elements.tooltip,m=d.my,A=d.at,n=d.adjust,E=n.method.split(" "),p=E[0],E=E[1]||E[0],G=d.viewport,ea=d.container;d=a.cache;var R={left:0,top:0},t,ba,s,v,ca,u,Z,w;if(!G.jquery||l[0]===c||l[0]===r.body||"none"===n.method)return R;s=ea.offset()||R;v="static"===ea.css("position");l="fixed"===k.css("position");ca=G[0]===c?G.width():G.outerWidth(x);
u=G[0]===c?G.height():G.outerHeight(x);Z={left:l?0:G.scrollLeft(),top:l?0:G.scrollTop()};w=G.offset()||R;if("shift"!==p||"shift"!==E)t=m.clone();R={left:"none"!==p?q(C,B,p,n.x,"left","right",N,e,h):0,top:"none"!==E?q(B,C,E,n.y,"top","bottom","height",f,g):0};if(t&&d.lastClass!==(ba=P+"-pos-"+t.abbrev()))k.removeClass(a.cache.lastClass).addClass(a.cache.lastClass=ba);return R};W.polys={polygon:function(a,b){for(var c={width:0,height:0,position:{top:1E10,right:0,bottom:0,left:1E10},adjustable:x},d=
0,e,f=[],h=1,g=1,q=e=0,l,k,d=a.length;d--;)e=[parseInt(a[--d],10),parseInt(a[d+1],10)],e[0]>c.position.right&&(c.position.right=e[0]),e[0]<c.position.left&&(c.position.left=e[0]),e[1]>c.position.bottom&&(c.position.bottom=e[1]),e[1]<c.position.top&&(c.position.top=e[1]),f.push(e);l=c.width=Math.abs(c.position.right-c.position.left);k=c.height=Math.abs(c.position.bottom-c.position.top);if("c"===b.abbrev())c.position={left:c.position.left+c.width/2,top:c.position.top+c.height/2};else{for(;0<l&&0<k&&
0<h&&0<g;){l=Math.floor(l/2);k=Math.floor(k/2);h="left"===b.x?l:"right"===b.x?c.width-l:h+Math.floor(l/2);g="top"===b.y?k:"bottom"===b.y?c.height-k:g+Math.floor(k/2);for(d=f.length;d--&&!(2>f.length);)e=f[d][0]-c.position.left,q=f[d][1]-c.position.top,("left"===b.x&&e>=h||"right"===b.x&&e<=h||b.x===D&&(e<h||e>c.width-h)||"top"===b.y&&q>=g||"bottom"===b.y&&q<=g||b.y===D&&(q<g||q>c.height-g))&&f.splice(d,1)}c.position={left:f[0][0],top:f[0][1]}}return c},rect:function(a,b,c,d){return{width:Math.abs(c-
a),height:Math.abs(d-b),position:{left:Math.min(a,c),top:Math.min(b,d)}}},_angles:{tc:1.5,tr:1.75,tl:1.25,bc:0.5,br:0.25,bl:0.75,rc:2,lc:1,c:0},ellipse:function(a,b,c,d,e){var f=W.polys._angles[e.abbrev()];e=0===f?0:c*Math.cos(f*Math.PI);f=d*Math.sin(f*Math.PI);return{width:2*c-Math.abs(e),height:2*d-Math.abs(f),position:{left:a+e,top:b+f},adjustable:x}},circle:function(a,b,c,d){return W.polys.ellipse(a,b,c,c,d)}};W.svg=function(a,b,c){a=d(r);for(var e=b[0],f=d(e.ownerSVGElement),h=!0,g,q,l,k;!e.getBBox;)e=
e.parentNode;if(!e.getBBox||!e.parentNode)return x;f.attr("width")||f.width()||parseInt(f.css("width"),10);f.attr("height")||f.height()||parseInt(f.css("height"),10);b=(parseInt(b.css("stroke-width"),10)||0)/2;switch(e.nodeName){case "ellipse":case "circle":b=W.polys.ellipse(e.cx.baseVal.value,e.cy.baseVal.value,(e.rx||e.r).baseVal.value+b,(e.ry||e.r).baseVal.value+b,c);break;case "line":case "polygon":case "polyline":k=e.points||[{x:e.x1.baseVal.value,y:e.y1.baseVal.value},{x:e.x2.baseVal.value,
y:e.y2.baseVal.value}];b=[];l=-1;for(g=k.numberOfItems||k.length;++l<g;)q=k.getItem?k.getItem(l):k[l],b.push.apply(b,[q.x,q.y]);b=W.polys.polygon(b,c);break;default:b=e.getBoundingClientRect(),b={width:b.width,height:b.height,position:{left:b.left,top:b.top}},h=!1}c=b.position;f=f[0];h&&f.createSVGPoint&&(e=e.getScreenCTM(),k=f.createSVGPoint(),k.x=c.left,k.y=c.top,f=k.matrixTransform(e),c.left=f.x,c.top=f.y);c.left+=a.scrollLeft();c.top+=a.scrollTop();return b};W.imagemap=function(a,b,c,e){b.jquery||
(b=d(b));e=b.attr("shape").toLowerCase().replace("poly","polygon");a=d('img[usemap="#'+b.parent("map").attr("name")+'"]');b=d.trim(b.attr("coords")).replace(/,$/,"").split(",");var f,h,g;if(!a.length)return x;if("polygon"===e)e=W.polys.polygon(b,c);else if(W.polys[e]){h=-1;g=b.length;for(f=[];++h<g;)f.push(parseInt(b[h],10));e=W.polys[e].apply(this,f.concat(c))}else return x;c=a.offset();c.left+=Math.ceil((a.outerWidth(x)-a.width())/2);c.top+=Math.ceil((a.outerHeight(x)-a.height())/2);e.position.left+=
c.left;e.position.top+=c.top;return e};d.extend(L.prototype,{_scroll:function(){var a=this.qtip.elements.overlay;a&&(a[0].style.top=d(c).scrollTop()+"px")},init:function(a){var b=a.tooltip;1>d("select, object").length&&(this.bgiframe=a.elements.bgiframe=d('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(b),
a._bind(b,"tooltipmove",this.adjustBGIFrame,this._ns,this));this.redrawContainer=d("<div/>",{id:P+"-rcontainer"}).appendTo(r.body);a.elements.overlay&&a.elements.overlay.addClass("qtipmodal-ie6fix")&&(a._bind(c,["scroll","resize"],this._scroll,this._ns,this),a._bind(b,["tooltipshow"],this._scroll,this._ns,this));this.redraw()},adjustBGIFrame:function(){var a=this.qtip.tooltip,b={height:a.outerHeight(x),width:a.outerWidth(x)},c=this.qtip.plugins.tip,d=this.qtip.elements.tip,a=parseInt(a.css("borderLeftWidth"),
10)||0,a={left:-a,top:-a};c&&d&&(c="x"===c.corner.precedance?[N,"left"]:["height","top"],a[c[1]]-=d[c[0]]());this.bgiframe.css(a).css(b)},redraw:function(){if(1>this.qtip.rendered||this.drawing)return this;var a=this.qtip.tooltip,b=this.qtip.options.style,c=this.qtip.options.position.container,d,e,f;this.qtip.drawing=1;b.height&&a.css("height",b.height);b.width?a.css(N,b.width):(a.css(N,"").appendTo(this.redrawContainer),d=a.width(),1>d%2&&(d+=1),e=a.css("maxWidth")||"",f=a.css("minWidth")||"",b=
-1<(e+f).indexOf("%")?c.width()/100:0,e=(-1<e.indexOf("%")?b:1)*parseInt(e,10)||d,f=(-1<f.indexOf("%")?b:1)*parseInt(f,10)||0,d=e+f?Math.min(Math.max(d,f),e):d,a.css(N,Math.round(d)).appendTo(c));this.drawing=0;return this},destroy:function(){this.bgiframe&&this.bgiframe.remove();this.qtip._unbind([c,this.qtip.tooltip],this._ns)}});(W.ie6=function(a){return 6===h?new L(a):x}).initialize="render";Q.ie6={"^content|style$":function(){this.redraw()}}})})(window,document);
(function(){var c,r,f,d,b={}.hasOwnProperty,k=function(a,c){function d(){this.constructor=a}for(var f in c)b.call(c,f)&&(a[f]=c[f]);d.prototype=c.prototype;a.prototype=new d;a.__super__=c.prototype;return a},a=function(a,b){return function(){return a.apply(b,arguments)}};window.Tourist=window.Tourist||{};Tourist.Model=function(a){function b(){return c=b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype._module="Tourist";return b}(Backbone.Model);window.Tourist.Tip=window.Tourist.Tip||
{};Tourist.Tip.Base=function(){function b(c){this.options=null!=c?c:{};this.onClickNext=a(this.onClickNext,this);this.onClickClose=a(this.onClickClose,this);this.el=$("<div/>");this.initialize(c);this._bindClickEvents();Tourist.Tip.Base._cacheTip(this)}b.prototype._module="Tourist";_.extend(b.prototype,Backbone.Events);b.prototype.skipButtonTemplate='<button class="btn btn-default btn-sm pull-right tour-next">Skip this step \u2192</button>';b.prototype.nextButtonTemplate='<button class="btn btn-primary btn-sm pull-right tour-next">Next step \u2192</button>';
b.prototype.finalButtonTemplate='<button class="btn btn-primary btn-sm pull-right tour-next">Finish up</button>';b.prototype.closeButtonTemplate='<a class="btn btn-close tour-close" href="#"><i class="icon icon-remove"></i></a>';b.prototype.okButtonTemplate='<button class="btn btn-sm tour-close btn-primary">Okay</button>';b.prototype.actionLabelTemplate=_.template('<h4 class="action-label"><%= label %></h4>');b.prototype.actionLabels=["Do this:","Then this:","Next this:"];b.prototype.highlightClass=
"tour-highlight";b.prototype.template=_.template('<div>\n  <div class="tour-container">\n    <%= close_button %>\n    <%= content %>\n    <p class="tour-counter <%= counter_class %>"><%= counter%></p>\n  </div>\n  <div class="tour-buttons">\n    <%= buttons %>\n  </div>\n</div>');b.prototype.destroy=function(){return this.el.remove()};b.prototype.render=function(a){this.hide();a&&(this._setTarget(a.target||!1,a),this._setZIndex(""),this._renderContent(a,this._buildContentElement(a)),a.target&&this.show(),
a.zIndex&&this._setZIndex(a.zIndex,a));return this};b.prototype.show=function(){};b.prototype.hide=function(){};b.prototype.setTarget=function(a,b){return this._setTarget(a,b)};b.prototype.cleanupCurrentTarget=function(){this.target&&this.target.removeClass&&this.target.removeClass(this.highlightClass);return this.target=null};b.prototype.onClickClose=function(a){this.trigger("click:close",this,a);return!1};b.prototype.onClickNext=function(a){this.trigger("click:next",this,a);return!1};b.prototype._getTipElement=
function(){};b.prototype._renderContent=function(a,b){};b.prototype._bindClickEvents=function(){var a;a=this._getTipElement();a.delegate(".tour-close","click",this.onClickClose);return a.delegate(".tour-next","click",this.onClickNext)};b.prototype._setTarget=function(a,b){this.cleanupCurrentTarget();a&&(b&&b.highlightTarget)&&a.addClass(this.highlightClass);return this.target=a};b.prototype._setZIndex=function(a){return this._getTipElement().css("z-index",a||"")};b.prototype._buildContentElement=
function(a){var b;b=this._buildButtons(a);a=$($.parseHTML(this.template({content:a.content,buttons:b,close_button:this._buildCloseButton(a),counter:a.final?"":"step "+(a.index+1)+" of "+a.total,counter_class:a.final?"final":""})));b||a.find(".tour-buttons").addClass("no-buttons");this._renderActionLabels(a);return a};b.prototype._buildButtons=function(a){var b;b="";a.okButton&&(b+=this.okButtonTemplate);a.skipButton&&(b+=this.skipButtonTemplate);a.nextButton&&(b+=a.final?this.finalButtonTemplate:
this.nextButtonTemplate);return b};b.prototype._buildCloseButton=function(a){return a.closeButton?this.closeButtonTemplate:""};b.prototype._renderActionLabels=function(a){var b,c,d,e,f,k;c=a.find(".action");b=0;k=[];e=0;for(f=c.length;e<f;e++)a=c[e],d=$($.parseHTML(this.actionLabelTemplate({label:this.actionLabels[b]}))),d.insertBefore(a),k.push(b++);return k};b._cacheTip=function(a){Tourist.Tip.Base._cachedTips||(Tourist.Tip.Base._cachedTips=[]);return Tourist.Tip.Base._cachedTips.push(a)};b.destroy=
function(){var a,b,c,d;if(Tourist.Tip.Base._cachedTips){d=Tourist.Tip.Base._cachedTips;b=0;for(c=d.length;b<c;b++)a=d[b],a.destroy();return Tourist.Tip.Base._cachedTips=null}};return b}();Tourist.Tip.Bootstrap=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.initialize=function(a){this.options=_.extend({showEffect:null,hideEffect:null},a);return this.tip=new Tourist.Tip.BootstrapTip(this.options)};b.prototype.destroy=function(){this.tip.destroy();
return b.__super__.destroy.call(this)};b.prototype.show=function(){var a;return this.options.showEffect?(a=Tourist.Tip.Bootstrap.effects[this.options.showEffect],a.call(this,this.tip,this.tip.el)):this.tip.show()};b.prototype.hide=function(){var a;return this.options.hideEffect?(a=Tourist.Tip.Bootstrap.effects[this.options.hideEffect],a.call(this,this.tip,this.tip.el)):this.tip.hide()};b.prototype._getTipElement=function(){return this.tip.el};b.prototype._setTarget=function(a,c){b.__super__._setTarget.call(this,
a,c);return this.tip.setTarget(a)};b.prototype._renderContent=function(a,b){var c,d;d=a.my||"left center";c=a.at||"right center";this.tip.setContainer(a.container||$("body"));this.tip.setContent(b);return this.tip.setPosition(a.target||!1,d,c)};return b}(Tourist.Tip.Base);Tourist.Tip.Bootstrap.effects={slidein:function(a,b){var c,d,f,l,k;l=(l=a.my.split(" ")[0])||"top";f={top:80,left:80,right:-80,bottom:-80}[l];"bottom"===l&&(l="top");"right"===l&&(l="left");k=parseInt(b.css(l));b.stop();c={};c[l]=
k+f;b.css(c);b.show();c[l]=k;f=["easeOutCubic","swing","linear"];l=0;for(k=f.length;l<k&&!(d=f[l],$.easing[d]);l++);b.animate(c,300,d);return null}};Tourist.Tip.BootstrapTip=function(){function a(b){this.options=_.extend({offset:10,tipOffset:10},b);this.el=$($.parseHTML(this.template));this.hide()}a.prototype.template='<div class="popover">\n  <div class="arrow"></div>\n  <div class="popover-content"></div>\n</div>';a.prototype.FLIP_POSITION={bottom:"top",top:"bottom",left:"right",right:"left"};a.prototype.destroy=
function(){return this.el.remove()};a.prototype.show=function(){return this.el.show().addClass("visible")};a.prototype.hide=function(){return this.el.hide().removeClass("visible")};a.prototype.setTarget=function(a){this.target=a;return this._setPosition(this.target,this.my,this.at)};a.prototype.setPosition=function(a,b,c){this.target=a;this.my=b;this.at=c;return this._setPosition(this.target,this.my,this.at)};a.prototype.setContainer=function(a){return a.append(this.el)};a.prototype.setContent=function(a){return this._getContentElement().html(a)};
a.prototype._getContentElement=function(){return this.el.find(".popover-content")};a.prototype._getTipElement=function(){return this.el.find(".arrow")};a.prototype._setPosition=function(a,b,c){var d,e,f,k,r;null==b&&(b="left center");null==c&&(c="right center");if(a&&(e=b.split(" "),d=e[0],f=e[1],e=this.el.css("display"),this.el.css({top:0,left:0,margin:0,display:"block"}).removeClass("top").removeClass("bottom").removeClass("left").removeClass("right").addClass(this.FLIP_POSITION[d]),a))return k=
this._getTipElement().css({left:"",right:"",top:"",bottom:""}),"center"!==f&&(r={left:k[0].offsetWidth/2,right:0,top:k[0].offsetHeight/2,bottom:0},d={},d[f]=r[f]+this.options.tipOffset,d[this.FLIP_POSITION[f]]="auto",k.css(d)),a=this._caculateTargetPosition(c,a),a=this._caculateTipPosition(b,a),b=this._adjustForArrow(b,a),this.el.css(b),this.el.css({display:e})};a.prototype._caculateTargetPosition=function(a,b){var c,d;if("[object Array]"===Object.prototype.toString.call(b))return{left:b[0],top:b[1]};
c=this._getTargetBounds(b);d=this._lookupPosition(a,c.width,c.height);return{left:c.left+d[0],top:c.top+d[1]}};a.prototype._caculateTipPosition=function(a,b){var c;c=this._lookupPosition(a,this.el[0].offsetWidth,this.el[0].offsetHeight);return{left:b.left-c[0],top:b.top-c[1]}};a.prototype._adjustForArrow=function(a,b){var c,d,e,f,k;f=a.split(" ");c=f[0];f=f[1];d=this._getTipElement();k=d[0].offsetWidth;d=d[0].offsetHeight;e={top:b.top,left:b.left};switch(c){case "top":e.top+=d+this.options.offset;
break;case "bottom":e.top-=d+this.options.offset;break;case "left":e.left+=k+this.options.offset;break;case "right":e.left-=k+this.options.offset}switch(f){case "left":e.left-=k/2+this.options.tipOffset;break;case "right":e.left+=k/2+this.options.tipOffset;break;case "top":e.top-=d/2+this.options.tipOffset;break;case "bottom":e.top+=d/2+this.options.tipOffset}return e};a.prototype._lookupPosition=function(a,b,c){var d,e;e=b/2;d=c/2;return{"top left":[0,0],"left top":[0,0],"top right":[b,0],"right top":[b,
0],"bottom left":[0,c],"left bottom":[0,c],"bottom right":[b,c],"right bottom":[b,c],"top center":[e,0],"left center":[0,d],"right center":[b,d],"bottom center":[e,c]}[a]};a.prototype._getTargetBounds=function(a){var b;b=a[0];b="function"===typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight};return $.extend({},b,a.offset())};return a}();Tourist.Tip.QTip=function(b){function c(){this._renderTipBackground=a(this._renderTipBackground,this);return f=c.__super__.constructor.apply(this,
arguments)}var d;k(c,b);d={top:80,left:80,right:-80,bottom:-80};c.prototype.QTIP_DEFAULTS={content:{text:" "},show:{ready:!1,delay:0,effect:function(a){var b,c,e,f;b=$(this);(e=a.options.position.my)&&(e=e[e.precedance]);e=e||"top";c=d[e];"bottom"===e&&(e="top");"right"===e&&(e="left");f=parseInt(b.css(e));a={};a[e]=f+c;b.css(a);b.show();a[e]=f;b.animate(a,300,"easeOutCubic");return null},autofocus:!1},hide:{event:null,delay:0,effect:!1},position:{adjust:{method:"shift shift",scroll:!1}},style:{classes:"ui-tour-tip",
tip:{height:6,width:14}},events:{},zindex:2E3};c.prototype.initialize=function(a){a=$.extend(!0,{},this.QTIP_DEFAULTS,a);this.el.qtip(a);this.qtip=this.el.qtip("api");return this.qtip.render()};c.prototype.destroy=function(){this.qtip&&this.qtip.destroy();return c.__super__.destroy.call(this)};c.prototype.show=function(){return this.qtip.show()};c.prototype.hide=function(){return this.qtip.hide()};c.prototype._getTipElement=function(){return $("#qtip-"+this.qtip.id)};c.prototype._setTarget=function(a,
b){c.__super__._setTarget.call(this,a,b);return this.qtip.set("position.target",a||!1)};c.prototype._renderContent=function(a,b){var c,d,e=this;d=a.my||"left center";c=a.at||"right center";this._adjustPlacement(d,c);this.qtip.set("content.text",b);this.qtip.set("position.container",a.container||$("body"));this.qtip.set("position.my",d);this.qtip.set("position.at",c);this.qtip.set("position.viewport",a.viewport||!1);this.qtip.set("position.target",a.target||!1);return setTimeout(function(){return e._renderTipBackground(d.split(" ")[0])},
10)};c.prototype._adjustPlacement=function(a,b){return 0===a.indexOf("top")?this._adjust(0,10):0===a.indexOf("bottom")?this._adjust(0,-10):0===a.indexOf("right")?this._adjust(-10,0):this._adjust(10,0)};c.prototype._adjust=function(a,b){this.qtip.set("position.adjust.x",a);return this.qtip.set("position.adjust.y",b)};c.prototype._renderTipBackground=function(a){var b,c;c=$("#qtip-"+this.qtip.id+" .qtip-tip");b=c.find(".qtip-tip-bg");b.length||(b=$("<div/>",{"class":"icon icon-tip qtip-tip-bg"}),c.append(b));
b.removeClass("top left right bottom");return b.addClass(a)};return c}(Tourist.Tip.Base);Tourist.Tip.Simple=function(a){function b(){return d=b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.initialize=function(a){return $("body").append(this.el)};b.prototype.show=function(){return this.el.show()};b.prototype.hide=function(){return this.el.hide()};b.prototype._getTipElement=function(){return this.el};b.prototype._renderContent=function(a,b){return this.el.html(b)};return b}(Tourist.Tip.Base);
Tourist.Tour=function(){function b(c){this.options=null!=c?c:{};this.onChangeCurrentStep=a(this.onChangeCurrentStep,this);this.next=a(this.next,this);this.options=_.extend({tipClass:"Bootstrap"},this.options);this.model=new Tourist.Model({current_step:null});c=_.extend({model:this.model},this.options.tipOptions);this.view=new Tourist.Tip[this.options.tipClass](c);this.view.bind("click:close",_.bind(this.stop,this,!0));this.view.bind("click:next",this.next);this.model.bind("change:current_step",this.onChangeCurrentStep)}
_.extend(b.prototype,Backbone.Events);b.prototype.start=function(){this.trigger("start",this);return this.next()};b.prototype.stop=function(a){return a?this._showCancelFinalStep():this._stop()};b.prototype.next=function(){var a,b;a=this._teardownCurrentStep();b=0;a&&(b=a.index+1);return b<this.options.steps.length?this._showStep(this.options.steps[b],b):b===this.options.steps.length?this._showSuccessFinalStep():this._stop()};b.prototype.setStepOptions=function(a){return this.options.stepOptions=a};
b.prototype.onChangeCurrentStep=function(a,b){return this.view.render(b)};b.prototype._showCancelFinalStep=function(){return this._showFinalStep(!1)};b.prototype._showSuccessFinalStep=function(){return this._showFinalStep(!0)};b.prototype._teardownCurrentStep=function(){var a;a=this.model.get("current_step");this._teardownStep(a);return a};b.prototype._stop=function(){this._teardownCurrentStep();this.model.set({current_step:null});return this.trigger("stop",this)};b.prototype._showFinalStep=function(a){var b;
b=this._teardownCurrentStep();a=a?this.options.successStep:this.options.cancelStep;_.isFunction(a)&&(a.call(this,this,this.options.stepOptions),a=null);if(!a||b&&b.final)return this._stop();a.final=!0;return this._showStep(a,this.options.steps.length)};b.prototype._showStep=function(a,b){if(a)return a=_.clone(a),a.index=b,a.total=this.options.steps.length,a.final||(a.final=this.options.steps.length===b+1&&!this.options.successStep),a=_.extend(a,this._setupStep(a)),this.model.set({current_step:a})};
b.prototype._setupStep=function(a){var b,c,d,e;if(!a||!a.setup)return{};if(a.bind){e=a.bind;c=0;for(d=e.length;c<d;c++)b=e[c],a[b]=_.bind(a[b],a,this,this.options.stepOptions)}return a.setup.call(a,this,this.options.stepOptions)||{}};b.prototype._teardownStep=function(a){a&&a.teardown&&a.teardown.call(a,this,this.options.stepOptions);return this.view.cleanupCurrentTarget()};return b}()}).call(this);
(function(){function c(a,b){a.prototype=r(b.prototype);a.prototype.constructor=a;a.parent=b.prototype}function r(a){function b(){}b.prototype=a;return new b}function f(a,b,c){"millisecond"===c?a.setMilliseconds(a.getMilliseconds()+1*b):"second"===c?a.setSeconds(a.getSeconds()+1*b):"minute"===c?a.setMinutes(a.getMinutes()+1*b):"hour"===c?a.setHours(a.getHours()+1*b):"day"===c?a.setDate(a.getDate()+1*b):"week"===c?a.setDate(a.getDate()+7*b):"month"===c?a.setMonth(a.getMonth()+1*b):"year"===c&&a.setFullYear(a.getFullYear()+
1*b);return a}function d(a,b){return O[b+"Duration"]*a}function b(a,b){var c=!1;0>a&&(c=!0,a*=-1);a=""+a;for(b=!b?1:b;a.length<b;)a="0"+a;return c?"-"+a:a}function k(a){if(!a)return a;a=a.replace(/^\s\s*/,"");for(var b=/\s/,c=a.length;b.test(a.charAt(--c)););return a.slice(0,c+1)}function a(a){a.roundRect=function(a,b,c,d,e,f,q,g){q&&(this.fillStyle=q);g&&(this.strokeStyle=g);"undefined"===typeof e&&(e=5);this.lineWidth=f;this.beginPath();this.moveTo(a+e,b);this.lineTo(a+c-e,b);this.quadraticCurveTo(a+
c,b,a+c,b+e);this.lineTo(a+c,b+d-e);this.quadraticCurveTo(a+c,b+d,a+c-e,b+d);this.lineTo(a+e,b+d);this.quadraticCurveTo(a,b+d,a,b+d-e);this.lineTo(a,b+e);this.quadraticCurveTo(a,b,a+e,b);this.closePath();q&&this.fill();g&&0<f&&this.stroke()}}function e(a,b){return a-b}function g(a,b){return a.x-b.x}function n(a){var b=((a&16711680)>>16).toString(16),c=((a&65280)>>8).toString(16);a=((a&255)>>0).toString(16);b=2>b.length?"0"+b:b;c=2>c.length?"0"+c:c;a=2>a.length?"0"+a:a;return"#"+b+c+a}function p(a,
b,c){c=c||"normal";var d=a+"_"+b+"_"+c,e=Q[d];if(isNaN(e)){try{a="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+a+"; font-size:"+b+"px; font-weight:"+c+";";if(!W){var f=document.body;W=document.createElement("span");W.innerHTML="";var g=document.createTextNode("Mpgyi");W.appendChild(g);f.appendChild(W)}W.style.display="";W.setAttribute("style",a);e=Math.round(W.offsetHeight);W.style.display="none"}catch(k){e=Math.ceil(1.1*
b)}e=Math.max(e,b);Q[d]=e}return e}function m(a,b,c,d){if(a.addEventListener)a.addEventListener(b,c,d||!1);else if(a.attachEvent)a.attachEvent("on"+b,function(b){b=b||window.event;b.preventDefault=b.preventDefault||function(){b.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0};c.call(a,b)});else return!1}function l(a,b,c){a*=ia;b*=ia;a=c.getImageData(a,b,2,2).data;b=!0;for(c=0;4>c;c++)if(a[c]!==a[c+4]|a[c]!==a[c+8]|a[c]!==a[c+12]){b=!1;break}return b?a[0]<<16|a[1]<<
8|a[2]:0}function t(a,b,c){var d;d=a?a+"FontStyle":"fontStyle";var e=a?a+"FontWeight":"fontWeight",f=a?a+"FontSize":"fontSize";a=a?a+"FontFamily":"fontFamily";d=""+(b[d]?b[d]+" ":c&&c[d]?c[d]+" ":"");d+=b[e]?b[e]+" ":c&&c[e]?c[e]+" ":"";d+=b[f]?b[f]+"px ":c&&c[f]?c[f]+"px ":"";b=b[a]?b[a]+"":c&&c[a]?c[a]+"":"";!D&&b&&(b=b.split(",")[0],"'"!==b[0]&&'"'!==b[0]&&(b="'"+b+"'"));return d+=b}function v(a,b,c){return a in b?b[a]:c[a]}function u(a,b,c){if(D&&wa){var d=a.getContext("2d");sa=d.webkitBackingStorePixelRatio||
d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;ia=xa/sa;a.width=b*ia;a.height=c*ia;xa!==sa&&(a.style.width=b+"px",a.style.height=c+"px",d.scale(ia,ia))}else a.width=b,a.height=c}function w(a,b){var c=document.createElement("canvas");c.setAttribute("class","canvasjs-chart-canvas");u(c,a,b);!D&&"undefined"!==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(c);return c}function z(a,b,c){this._defaultsKey=a;var d={};c&&(M[c]&&M[c][a])&&
(d=M[c][a]);this._options=b?b:{};this.setOptions(this._options,d)}function s(b,c){c=c||{};s.parent.constructor.call(this,"Chart",c,c.theme?c.theme:"theme1");var d=this;this._containerId=b;this._objectsInitialized=!1;this.overlaidCanvasCtx=this.ctx=null;this._indexLabels=[];this._panTimerId=0;this._lastTouchEventType="";this._lastTouchData=null;this.panEnabled=!1;this._defaultCursor="default";this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0};this._dataInRenderedOrder=[];if(this._container=
document.getElementById(this._containerId)){this._container.innerHTML="";var e=0,f=0,e=this._options.width?this.width:0<this._container.clientWidth?this._container.clientWidth:this.width,f=this._options.height?this.height:0<this._container.clientHeight?this._container.clientHeight:this.height;this.width=e;this.height=f;this._selectedColorSet="undefined"!==typeof Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1;this._canvasJSContainer=document.createElement("div");this._canvasJSContainer.setAttribute("class",
"canvasjs-chart-container");this._canvasJSContainer.style.position="relative";this._canvasJSContainer.style.textAlign="left";this._canvasJSContainer.style.cursor="auto";D||(this._canvasJSContainer.style.height="0px");this._container.appendChild(this._canvasJSContainer);this.canvas=w(e,f);this.canvas.style.position="absolute";if(this.canvas.getContext){try{this.canvas.style.background=this.backgroundColor}catch(g){}this._canvasJSContainer.appendChild(this.canvas);this.ctx=this.canvas.getContext("2d");
this.ctx.textBaseline="top";a(this.ctx);D?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=w(e,f),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d"));this.overlaidCanvas=w(e,f);this.overlaidCanvas.style.position="absolute";this._canvasJSContainer.appendChild(this.overlaidCanvas);this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d");
this.overlaidCanvasCtx.textBaseline="top";this._eventManager=new B(this);m(window,"resize",function(){d._updateSize()&&d.render()});this._toolBar=document.createElement("div");this._toolBar.setAttribute("class","canvasjs-chart-toolbar");this._toolBar.style.position="absolute";this._toolBar.style.top="0px";this._toolBar.style.right="0px";this._canvasJSContainer.appendChild(this._toolBar);this._toolBar.style.display="none";this.bounds={x1:0,y1:0,x2:this.width,y2:this.height};m(this.overlaidCanvas,"click",
function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,"mousemove",function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,"mouseup",function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,"mousedown",function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,"mouseout",function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){d._touchEventHandler(a)});m(this.overlaidCanvas,window.navigator.msPointerEnabled?
"MSPointerMove":"touchmove",function(a){d._touchEventHandler(a)});m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){d._touchEventHandler(a)});m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(a){d._touchEventHandler(a)});this._creditLink||(this._creditLink=document.createElement("a"),this._creditLink.setAttribute("class","canvasjs-chart-credit"),this._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:3px;top:"+
(this.height-14)+"px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),this._creditLink.setAttribute("tabIndex",-1),this._creditLink.setAttribute("target","_blank"));this._toolTip=new C(this,this._options.toolTip,this.theme);this.layoutManager=new F(this);this.axisY2=this.axisY=this.axisX=this.data=null;this.renderCount=0;this.sessionVariables={axisX:{internalMinimum:null,internalMaximum:null},axisY:{internalMinimum:null,internalMaximum:null},
axisY2:{internalMinimum:null,internalMaximum:null}}}}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function K(a,b){for(var c=[],d=0;d<a.length;d++)if(0==d)c.push(a[0]);else{var e,f,g;g=d-1;e=0===g?0:g-1;f=g===a.length-1?g:g+1;c[c.length]={x:a[g].x+(a[f].x-a[e].x)/b/3,y:a[g].y+(a[f].y-a[e].y)/b/3};g=d;e=0===g?0:g-1;f=g===a.length-1?g:g+1;c[c.length]={x:a[g].x-(a[f].x-a[e].x)/b/3,y:a[g].y-(a[f].y-a[e].y)/b/3};c[c.length]=a[d]}return c}
function F(a){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=0;this.chart=a}function H(a,b){H.parent.constructor.call(this,"TextBlock",b);this.ctx=a;this._isDirty=!0;this._wrappedText=null;this._lineHeight=p(this.fontFamily,this.fontSize,this.fontWeight)}function y(a,b){y.parent.constructor.call(this,"Title",b,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;"undefined"===typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize));
this.height=this.width=null;this.bounds={x1:null,y1:null,x2:null,y2:null}}function I(a,b,c){I.parent.constructor.call(this,"Legend",b,c);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;this.ghostCtx=this.chart._eventManager.ghostCtx;this.items=[];this.height=this.width=0;this.orientation=null;this.horizontalSpacing=10;this.dataSeries=[];this.bounds={x1:null,y1:null,x2:null,y2:null};"undefined"===typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize));this.lineHeight=
p(this.fontFamily,this.fontSize,this.fontWeight)}function L(a,b){L.parent.constructor.call(this,b);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx}function J(a,b,c,d,e){J.parent.constructor.call(this,"DataSeries",b,c);this.chart=a;this.canvas=a.canvas;this._ctx=a.canvas.ctx;this.index=d;this.maxWidthInX=this.noDataPointsInPlotArea=0;this.id=e;this.chart._eventManager.objectMap[e]={id:e,objectType:"dataSeries",dataSeriesIndex:d};this.dataPointIds=[];this.axisY=this.axisX=null;this.axisPlacement=
this.getDefaultAxisPlacement();"undefined"===typeof this._options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function x(a,b,c,d){x.parent.constructor.call(this,"Axis",b,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=a.ctx;this.intervalStartPosition=this.maxHeight=this.maxWidth=0;this.labels=[];this._labels=null;this.dataInfo={min:Infinity,max:-Infinity,viewPortMin:Infinity,viewPortMax:-Infinity,minDiff:Infinity};"axisX"===c?(this.sessionVariables=
this.chart.sessionVariables[c],this._options.interval||(this.intervalType=null)):this.sessionVariables="left"===d||"top"===d?this.chart.sessionVariables.axisY:this.chart.sessionVariables.axisY2;"undefined"===typeof this._options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize));"undefined"===typeof this._options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize));this.type=c;if("axisX"===c&&(!b||"undefined"===typeof b.gridThickness))this.gridThickness=
0;this._position=d;this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null};this.labelAngle=(this.labelAngle%360+360)%360;90<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:180<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:270<this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360);if(this._options.stripLines&&0<this._options.stripLines.length){this.stripLines=[];for(b=0;b<this._options.stripLines.length;b++)this.stripLines.push(new S(this.chart,this._options.stripLines[b],
a.theme,++this.chart._eventManager.lastObjectId))}this._absoluteMaximum=this._absoluteMinimum=this._titleTextBlock=null;this.hasOptionChanged("minimum")&&(this.sessionVariables.internalMinimum=this.minimum);this.hasOptionChanged("maximum")&&(this.sessionVariables.internalMaximum=this.maximum);this.trackChanges("minimum");this.trackChanges("maximum")}function S(a,b,c,d){S.parent.constructor.call(this,"StripLine",b,c);this._thicknessType="pixel";this.id=d;null!==this.startValue&&null!==this.endValue&&
(this.value=((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this.thickness=Math.max(this.endValue-this.startValue),this._thicknessType="value")}function C(a,b,c){C.parent.constructor.call(this,"ToolTip",b,c);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;this.currentDataPointIndex=this.currentSeriesIndex=-1;this._timerId=0;this._prevY=this._prevX=NaN;this._initialize()}function B(a){this.chart=a;this.lastObjectId=
0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.ghostCanvas=w(this.chart.width,this.chart.height);this.ghostCtx=this.ghostCanvas.getContext("2d");this.mouseoveredObjectMaps=[]}function N(a,b){var c;b&&U[b]&&(c=U[b]);y.parent.constructor.call(this,"CultureInfo",c,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx}var D=!!document.createElement("canvas").getContext,la={Chart:{width:500,height:400,zoomEnabled:!1,backgroundColor:"white",
theme:"theme1",animationEnabled:D?!0:!1,colorSet:"colorSet1",culture:"en",creditHref:"http://canvasjs.com/",creditText:"CanvasJS.com",interactivityEnabled:!0},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",
fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null},ToolTip:{enabled:!0,borderColor:null,shared:!1,animationEnabled:!0,content:null},Axis:{minimum:null,maximum:null,interval:null,intervalType:null,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",
labelFontStyle:"normal",labelAutoFit:!1,labelWrap:!0,labelMaxWidth:null,prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,gridColor:"A0A0A0",gridThickness:0,interlacedColor:null,valueFormatString:null,margin:2,stripLines:[]},StripLine:{value:null,startValue:null,endValue:null,color:"orange",thickness:2,label:"",labelBackgroundColor:"#EEEEEE",labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal"},
DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,cursor:null,indexLabel:"",indexLabelPlacement:"outside",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:null,indexLabelLineThickness:1,indexLabelMaxWidth:null,indexLabelWrap:!0,lineThickness:2,color:null,startAngle:0,type:"column",xValueType:"number",axisYType:"primary",
xValueFormatString:null,yValueFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"}},U={en:{}},Y={colorSet1:"#369EAD #C24642 #7F6084 #86B402 #A2D1CF #C8B631 #6DBCEB #52514E #4F81BC #A064A1 #F79647".split(" "),
colorSet2:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #33558B".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},M={theme1:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":
"calibri",labelFontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:D?"monospace, sans-serif,arial black":"calibri"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,
indexLabelLineThickness:1}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:D?"monospace, sans-serif,arial black":"arial",titleFontWeight:"bold",labelFontFamily:D?"monospace, Courier New, Courier":"arial",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",
lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:D?"monospace, sans-serif,arial black":"arial"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:D?"Courier New, Courier, monospace":"arial",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:D?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:32,fontColor:"#3A3A3A",fontWeight:"bold",
verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:D?"Verdana, Geneva, Calibri, sans-serif":"calibri",labelFontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:D?"monospace, sans-serif,arial black":"calibri"},DataSeries:{bevelEnabled:!0,
indexLabelFontColor:"grey",indexLabelFontFamily:D?"Candara, Optima, Calibri, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}},O={numberDuration:1,yearDuration:314496E5,monthDuration:2592E6,weekDuration:6048E5,dayDuration:864E5,hourDuration:36E5,minuteDuration:6E4,secondDuration:1E3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},Q={},W=null,P=function(){var a=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,
c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="Sun Mon Tue Wed Thu Fri Sat".split(" "),e="January February March April May June July August September October November December".split(" "),f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,k=/[^-+\dA-Z]/g;return function(l,m,n){var p=n?n.days:c,r=n?n.months:e,s=n?n.shortDays:
d,t=n?n.shortMonths:f;n="";var v=!1;l=l&&l.getTime?l:l?new Date(l):new Date;if(isNaN(l))throw SyntaxError("invalid date");"UTC:"===m.slice(0,4)&&(m=m.slice(4),v=!0);n=v?"getUTC":"get";var u=l[n+"Date"](),w=l[n+"Day"](),x=l[n+"Month"](),y=l[n+"FullYear"](),z=l[n+"Hours"](),D=l[n+"Minutes"](),C=l[n+"Seconds"](),B=l[n+"Milliseconds"](),F=v?0:l.getTimezoneOffset();return n=m.replace(a,function(a){switch(a){case "D":return u;case "DD":return b(u,2);case "DDD":return s[w];case "DDDD":return p[w];case "M":return x+
1;case "MM":return b(x+1,2);case "MMM":return t[x];case "MMMM":return r[x];case "Y":return parseInt(String(y).slice(-2));case "YY":return b(String(y).slice(-2),2);case "YYY":return b(String(y).slice(-3),3);case "YYYY":return b(y,4);case "h":return z%12||12;case "hh":return b(z%12||12,2);case "H":return z;case "HH":return b(z,2);case "m":return D;case "mm":return b(D,2);case "s":return C;case "ss":return b(C,2);case "f":return String(B).slice(0,1);case "ff":return b(String(B).slice(0,2),2);case "fff":return b(String(B).slice(0,
3),3);case "t":return 12>z?"a":"p";case "tt":return 12>z?"am":"pm";case "T":return 12>z?"A":"P";case "TT":return 12>z?"AM":"PM";case "K":return v?"UTC":(String(l).match(g)||[""]).pop().replace(k,"");case "z":return(0<F?"-":"+")+Math.floor(Math.abs(F)/60);case "zz":return(0<F?"-":"+")+b(Math.floor(Math.abs(F)/60),2);case "zzz":return(0<F?"-":"+")+b(Math.floor(Math.abs(F)/60),2)+b(Math.abs(F)%60,2);default:return a.slice(1,a.length-1)}})}}(),ha=function(a,c,d){if(null===a)return"";a=Number(a);var e=
0>a?!0:!1;e&&(a*=-1);var f=d?d.decimalSeparator:".",g=d?d.digitGroupSeparator:",",k="";c=String(c);var k=1,l=d="",m=-1,n=[],p=[],r=0,s=0,t=0,v=!1,u=0,l=c.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);c=null;for(var w=0;l&&w<l.length;w++)if(c=l[w],"."===c&&0>m)m=w;else{if("%"===c)k*=100;else if("\u2030"===c){k*=1E3;continue}else if(","===c[0]&&"."===c[c.length-1]){k/=Math.pow(1E3,c.length-1);m=w+c.length-1;continue}else if(("E"===c[0]||"e"===c[0])&&"0"===c[c.length-1])v=!0;0>m?(n.push(c),
"#"===c||"0"===c?r++:","===c&&t++):(p.push(c),("#"===c||"0"===c)&&s++)}v&&(c=Math.floor(a),u=(0===c?"":String(c)).length-r,k/=Math.pow(10,u));0>m&&(m=w);k=(a*k).toFixed(s);c=k.split(".");k=(c[0]+"").split("");a=(c[1]+"").split("");k&&"0"===k[0]&&k.shift();for(w=v=l=s=m=0;0<n.length;)if(c=n.pop(),"#"===c||"0"===c)if(m++,m===r){var x=k,k=[];if("0"===c)for(c=r-s-(x?x.length:0);0<c;)x.unshift("0"),c--;for(;0<x.length;)d=x.pop()+d,w++,0===w%v&&(l===t&&0<x.length)&&(d=g+d);e&&(d="-"+d)}else 0<k.length?
(d=k.pop()+d,s++,w++):"0"===c&&(d="0"+d,s++,w++),0===w%v&&(l===t&&0<k.length)&&(d=g+d);else("E"===c[0]||"e"===c[0])&&"0"===c[c.length-1]&&/[eE][+-]*[0]+/.test(c)?(c=0>u?c.replace("+","").replace("-",""):c.replace("-",""),d+=c.replace(/[0]+/,function(a){return b(u,a.length)})):","===c?(l++,v=w,w=0,0<k.length&&(d=g+d)):d=1<c.length&&('"'===c[0]&&'"'===c[c.length-1]||"'"===c[0]&&"'"===c[c.length-1])?c.slice(1,c.length-1)+d:c+d;e="";for(g=!1;0<p.length;)c=p.shift(),"#"===c||"0"===c?0<a.length&&0!==Number(a.join(""))?
(e+=a.shift(),g=!0):"0"===c&&(e+="0",g=!0):1<c.length&&('"'===c[0]&&'"'===c[c.length-1]||"'"===c[0]&&"'"===c[c.length-1])?e+=c.slice(1,c.length-1):("E"===c[0]||"e"===c[0])&&"0"===c[c.length-1]&&/[eE][+-]*[0]+/.test(c)?(c=0>u?c.replace("+","").replace("-",""):c.replace("-",""),e+=c.replace(/[0]+/,function(a){return b(u,a.length)})):e+=c;return d+((g?f:"")+e)},oa=function(a){var b=0,c=0;a=a||window.event;a.offsetX||0===a.offsetX?(b=a.offsetX,c=a.offsetY):a.layerX||0==a.layerX?(b=a.layerX,c=a.layerY):
(b=a.pageX-a.target.offsetLeft,c=a.pageY-a.target.offsetTop);return{x:b,y:c}},wa=!0,xa=window.devicePixelRatio||1,sa=1,ia=wa?xa/sa:1;z.prototype.setOptions=function(a,b){if(la[this._defaultsKey]){var c=la[this._defaultsKey],d;for(d in c)this[d]=a&&d in a?a[d]:b&&d in b?b[d]:c[d]}};z.prototype.updateOption=function(a){var b=la[this._defaultsKey],c=this._options.theme?this._options.theme:this.chart&&this.chart._options.theme?this.chart._options.theme:"theme1",d={},e=this[a];c&&(M[c]&&M[c][this._defaultsKey])&&
(d=M[c][this._defaultsKey]);a in b&&(e=a in this._options?this._options[a]:d&&a in d?d[a]:b[a]);if(e===this[a])return!1;this[a]=e;return!0};z.prototype.trackChanges=function(a){this._options._oldOptions||(this._options._oldOptions={});this._options._oldOptions[a]=this._options[a]};z.prototype.isBeingTracked=function(a){this._options._oldOptions||(this._options._oldOptions={});return this._options._oldOptions[a]?!0:!1};z.prototype.hasOptionChanged=function(a){this._options._oldOptions||(this._options._oldOptions=
{});return this._options._oldOptions[a]!==this._options[a]};c(s,z);s.prototype._updateOptions=function(){var a=this;this.updateOption("width");this.updateOption("height");this.updateOption("theme");this.updateOption("colorSet")&&(this._selectedColorSet="undefined"!==typeof Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1);if(this.updateOption("backgroundColor"))try{this.canvas.style.background!==this.backgroundColor&&(this.canvas.style.background=this.backgroundColor)}catch(b){}this.updateOption("animationEnabled");
this._options.zoomEnabled?(this._zoomButton||(this._zoomButton=document.createElement("button"),this._zoomButton.appendChild(document.createTextNode("Pan")),this._toolBar.appendChild(this._zoomButton),m(this._zoomButton,"click",function(){a.zoomEnabled?(a.zoomEnabled=!1,a.panEnabled=!0,a._zoomButton.innerHTML=a._cultureInfo.zoomText):(a.zoomEnabled=!0,a.panEnabled=!1,a._zoomButton.innerHTML=a._cultureInfo.panText);a.render()})),this._resetButton||(this._resetButton=document.createElement("button"),
this._resetButton.appendChild(document.createTextNode("Reset")),this._toolBar.appendChild(this._resetButton),m(this._resetButton,"click",function(){a._toolTip.hide();a.zoomEnabled||a.panEnabled?(a.zoomEnabled=!0,a.panEnabled=!1,a._zoomButton.innerHTML=a._cultureInfo.panText,a._defaultCursor="default",a.overlaidCanvas.style.cursor=a._defaultCursor):(a.zoomEnabled=!1,a.panEnabled=!1);a.sessionVariables.axisX.internalMinimum=a._options.axisX&&a._options.axisX.minimum?a._options.axisX.minimum:null;a.sessionVariables.axisX.internalMaximum=
a._options.axisX&&a._options.axisX.maximum?a._options.axisX.maximum:null;a.resetOverlayedCanvas();a._toolBar.style.display="none";a.render()}),this.overlaidCanvas.style.cursor=a._defaultCursor),!this.zoomEnabled&&!this.panEnabled&&(this._zoomButton?(a._zoomButton.innerHTML===a._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),a._toolBar.style.display="inline"):(this.zoomEnabled=!0,this.panEnabled=!1))):this.panEnabled=this.zoomEnabled=!1;this.updateOption("culture");
this._cultureInfo=new N(this,this._options.culture);if("none"!==this._toolBar.style.display){var c=this.panEnabled?a._cultureInfo.zoomText:a._cultureInfo.panText;a._zoomButton.innerHTML!==c&&(a._zoomButton.innerHTML=c);a._resetButton.innerHTML!==a._cultureInfo.resetText&&(a._resetButton.innerHTML=a._cultureInfo.resetText)}var c=this.updateOption("creditText"),d=this.updateOption("creditHref");if(0===this.renderCount||c||d)this._creditLink.setAttribute("href",this.creditHref),this._creditLink.innerHTML=
this.creditText;this.creditHref&&this.creditText?this._creditLink.parentElement||this._canvasJSContainer.appendChild(this._creditLink):this._creditLink.parentElement&&this._canvasJSContainer.removeChild(this._creditLink);this._options.toolTip&&this._toolTip._options!==this._options.toolTip&&(this._toolTip._options=this._options.toolTip);this._toolTip.updateOption("enabled");this._toolTip.updateOption("shared");this._toolTip.updateOption("animationEnabled");this._toolTip.updateOption("borderColor");
this._toolTip.updateOption("content")};s.prototype._updateSize=function(){var a=0,b=0;this._options.width?a=this.width:this.width=a=0<this._container.clientWidth?this._container.clientWidth:this.width;this._options.height?b=this.height:this.height=b=0<this._container.clientHeight?this._container.clientHeight:this.height;return this.canvas.width!==a*ia||this.canvas.height!==b*ia?(u(this.canvas,a,b),u(this.overlaidCanvas,a,b),u(this._eventManager.ghostCanvas,a,b),!0):!1};s.prototype._initialize=function(){this.pieDoughnutClickHandler=
null;this.animationRequestId&&this.cancelRequestAnimFrame.call(window,this.animationRequestId);this._updateOptions();this._updateSize();this.ctx.clearRect(0,0,this.width,this.height);this.ctx.beginPath();this.axisY2=this.axisY=this.axisX=null;this._indexLabels=[];this._dataInRenderedOrder=[];this._events=[];this._eventManager&&this._eventManager.reset();this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]};this.layoutManager.reset();this.data=[];for(var a=0,b=0;b<this._options.data.length;b++)if(a++,
!this._options.data[b].type||0<=s._supportedChartTypes.indexOf(this._options.data[b].type)){var c=new J(this,this._options.data[b],this.theme,a-1,++this._eventManager.lastObjectId);null===c.name&&(c.name="DataSeries "+a);null===c.color?1<this._options.data.length?(c._colorSet=[this._selectedColorSet[c.index%this._selectedColorSet.length]],c.color=this._selectedColorSet[c.index%this._selectedColorSet.length]):c._colorSet="line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===
c.type||"splineArea"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type?[this._selectedColorSet[0]]:this._selectedColorSet:c._colorSet=[c.color];if(null===c.markerSize&&(("line"===c.type||"stepLine"===c.type||"spline"===c.type)&&c.dataPoints&&c.dataPoints.length<this.width/16||"scatter"===c.type))c.markerSize=8;("bubble"===c.type||"scatter"===c.type)&&c.dataPoints&&c.dataPoints.sort(g);this.data.push(c);var d=c.axisPlacement,e;"normal"===d?"xySwapped"===this.plotInfo.axisPlacement?e='You cannot combine "'+
c.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===d?"normal"===this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"==d&&("normal"===
this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"));if(e&&window.console){window.console.log(e);return}}this._objectsInitialized=!0};s._supportedChartTypes="line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 pie doughnut".split(" ");
s._supportedChartTypes.indexOf||(s._supportedChartTypes.indexOf=function(a,b){var c=this.length>>>0,d=Number(b)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);d<c;d++)if(d in this&&this[d]===a)return d;return-1});s.prototype.render=function(a){a&&(this._options=a);this._initialize();for(a=0;a<this.data.length;a++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)!this.data[a].axisYType||"primary"===this.data[a].axisYType?(this.axisY||("normal"===this.plotInfo.axisPlacement?
this.axisY=new x(this,this._options.axisY,"axisY","left"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY=new x(this,this._options.axisY,"axisY","bottom"))),this.data[a].axisY=this.axisY):"secondary"===this.data[a].axisYType&&(this.axisY2||("normal"===this.plotInfo.axisPlacement?this.axisY2=new x(this,this._options.axisY2,"axisY","right"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY2=new x(this,this._options.axisY2,"axisY","top"))),this.data[a].axisY=this.axisY2),this.axisX||("normal"===
this.plotInfo.axisPlacement?this.axisX=new x(this,this._options.axisX,"axisX","bottom"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisX=new x(this,this._options.axisX,"axisX","left"))),this.data[a].axisX=this.axisX;this._processData();this._options.title&&(this._title=new y(this,this._options.title),this._title.render());this.legend=new I(this,this._options.legend,this.theme);for(a=0;a<this.data.length;a++)this.data[a].showInLegend&&this.legend.dataSeries.push(this.data[a]);this.legend.render();
if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)this.layoutManager.getFreeSpace(),x.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());else if("none"===this.plotInfo.axisPlacement)this.preparePlotArea();else return;for(a=0;a<this.plotInfo.plotTypes.length;a++)for(var b=this.plotInfo.plotTypes[a],c=0;c<b.plotUnits.length;c++){var d=b.plotUnits[c];"line"===d.type?this.renderLine(d):"stepLine"===d.type?
this.renderStepLine(d):"spline"===d.type?this.renderSpline(d):"column"===d.type?this.renderColumn(d):"bar"===d.type?this.renderBar(d):"area"===d.type?this.renderArea(d):"stepArea"===d.type?this.renderStepArea(d):"splineArea"===d.type?this.renderSplineArea(d):"stackedColumn"===d.type?this.renderStackedColumn(d):"stackedColumn100"===d.type?this.renderStackedColumn100(d):"stackedBar"===d.type?this.renderStackedBar(d):"stackedBar100"===d.type?this.renderStackedBar100(d):"stackedArea"===d.type?this.renderStackedArea(d):
"stackedArea100"===d.type?this.renderStackedArea100(d):"bubble"===d.type?this.renderBubble(d):"scatter"===d.type?this.renderScatter(d):"pie"===d.type?this.renderPie(d):"doughnut"===d.type&&this.renderPie(d);for(var e=0;e<d.dataSeriesIndexes.length;e++)this._dataInRenderedOrder.push(this.data[d.dataSeriesIndexes[e]])}0<this._indexLabels.length&&this.renderIndexLabels();this.attachPlotAreaEventHandlers();!this.zoomEnabled&&(!this.panEnabled&&"none"!==this._toolBar.style.display)&&(this._toolBar.style.display=
"none");this._toolTip._updateToolTip();this.renderCount++};s.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})};s.prototype.categoriseDataSeries=function(){for(var a="",b=0;b<this.data.length;b++)if(a=this.data[b],a.dataPoints&&(0!==a.dataPoints.length&&
a.visible)&&0<=s._supportedChartTypes.indexOf(a.type)){for(var c=null,d=!1,e=null,f=!1,g=0;g<this.plotInfo.plotTypes.length;g++)if(this.plotInfo.plotTypes[g].type===a.type){d=!0;c=this.plotInfo.plotTypes[g];break}d||(c={type:a.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(c));for(g=0;g<c.plotUnits.length;g++)if(c.plotUnits[g].axisYType===a.axisYType){f=!0;e=c.plotUnits[g];break}f||(e={type:a.type,previousDataSeriesCount:0,index:c.plotUnits.length,plotType:c,axisYType:a.axisYType,
axisY:"primary"===a.axisYType?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[]},c.plotUnits.push(e));c.totalDataSeries++;e.dataSeriesIndexes.push(b)}for(b=0;b<this.plotInfo.plotTypes.length;b++){c=this.plotInfo.plotTypes[b];for(g=a=0;g<c.plotUnits.length;g++)c.plotUnits[g].previousDataSeriesCount=a,a+=c.plotUnits[g].dataSeriesIndexes.length}};s.prototype.assignIdToDataPoints=function(){for(var a=0;a<this.data.length;a++){var b=this.data[a];if(b.dataPoints)for(var c=b.dataPoints.length,
d=0;d<c;d++)b.dataPointIds[d]=++this._eventManager.lastObjectId}};s.prototype._processData=function(){this.assignIdToDataPoints();this.categoriseDataSeries();for(var a=0;a<this.plotInfo.plotTypes.length;a++)for(var b=this.plotInfo.plotTypes[a],c=0;c<b.plotUnits.length;c++){var d=b.plotUnits[c];"line"===d.type||"stepLine"===d.type||"spline"===d.type||"column"===d.type||"area"===d.type||"stepArea"===d.type||"splineArea"===d.type||"bar"===d.type||"bubble"===d.type||"scatter"===d.type?this._processMultiseriesPlotUnit(d):
"stackedColumn"===d.type||"stackedBar"===d.type||"stackedArea"===d.type?this._processStackedPlotUnit(d):("stackedColumn100"===d.type||"stackedBar100"===d.type||"stackedArea100"===d.type)&&this._processStacked100PlotUnit(d)}};s.prototype._processMultiseriesPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var b=a.axisY.dataInfo,c=a.axisX.dataInfo,d,e,f=!1,g=0;g<a.dataSeriesIndexes.length;g++){var k=this.data[a.dataSeriesIndexes[g]],l=0,m=!1,n=!1;if("normal"===k.axisPlacement||
"xySwapped"===k.axisPlacement)var p=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,r=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity;if(k.dataPoints[l].x&&k.dataPoints[l].x.getTime||"dateTime"===k.xValueType)f=!0;for(l=0;l<k.dataPoints.length;l++){"undefined"===
typeof k.dataPoints[l].x&&(k.dataPoints[l].x=l);k.dataPoints[l].x.getTime?(f=!0,d=k.dataPoints[l].x.getTime()):d=k.dataPoints[l].x;e=k.dataPoints[l].y;d<c.min&&(c.min=d);d>c.max&&(c.max=d);e<b.min&&(b.min=e);e>b.max&&(b.max=e);if(0<l){var s=d-k.dataPoints[l-1].x;0>s&&(s*=-1);c.minDiff>s&&0!==s&&(c.minDiff=s)}if(!(d<p)||m){if(!m&&(m=!0,0<l)){l-=2;continue}if(d>r&&!n)n=!0;else if(d>r&&n)continue;k.dataPoints[l].label&&(a.axisX.labels[d]=k.dataPoints[l].label);d<c.viewPortMin&&(c.viewPortMin=d);d>c.viewPortMax&&
(c.viewPortMax=d);null!==e&&(e<b.viewPortMin&&(b.viewPortMin=e),e>b.viewPortMax&&(b.viewPortMax=e))}}this.plotInfo.axisXValueType=k.xValueType=f?"dateTime":"number"}};s.prototype._processStackedPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var b=a.axisY.dataInfo,c=a.axisX.dataInfo,d,e,f=!1,g=[],k=[],l=0;l<a.dataSeriesIndexes.length;l++){var m=this.data[a.dataSeriesIndexes[l]],n=0,p=!1,r=!1;if("normal"===m.axisPlacement||"xySwapped"===m.axisPlacement)var s=this.sessionVariables.axisX.internalMinimum?
this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,t=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity;if(m.dataPoints[n].x&&m.dataPoints[n].x.getTime||"dateTime"===m.xValueType)f=!0;for(n=0;n<m.dataPoints.length;n++){"undefined"===typeof m.dataPoints[n].x&&(m.dataPoints[n].x=n);m.dataPoints[n].x.getTime?
(f=!0,d=m.dataPoints[n].x.getTime()):d=m.dataPoints[n].x;e=m.dataPoints[n].y;d<c.min&&(c.min=d);d>c.max&&(c.max=d);if(0<n){var v=d-m.dataPoints[n-1].x;0>v&&(v*=-1);c.minDiff>v&&0!==v&&(c.minDiff=v)}if(!(d<s)||p){if(!p&&(p=!0,0<n)){n-=2;continue}if(d>t&&!r)r=!0;else if(d>t&&r)continue;m.dataPoints[n].label&&(a.axisX.labels[d]=m.dataPoints[n].label);d<c.viewPortMin&&(c.viewPortMin=d);d>c.viewPortMax&&(c.viewPortMax=d);null!==e&&(0<=e?g[d]=g[d]?g[d]+e:e:k[d]=k[d]?k[d]+e:e)}}this.plotInfo.axisXValueType=
m.xValueType=f?"dateTime":"number"}for(n in g)isNaN(n)||(a=g[n],a<b.min&&(b.min=a),a>b.max&&(b.max=a),n<c.viewPortMin||n>c.viewPortMax||(a<b.viewPortMin&&(b.viewPortMin=a),a>b.viewPortMax&&(b.viewPortMax=a)));for(n in k)isNaN(n)||(a=k[n],a<b.min&&(b.min=a),a>b.max&&(b.max=a),n<c.viewPortMin||n>c.viewPortMax||(a<b.viewPortMin&&(b.viewPortMin=a),a>b.viewPortMax&&(b.viewPortMax=a)))}};s.prototype._processStacked100PlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var b=
a.axisY.dataInfo,c=a.axisX.dataInfo,d,e,f=!1,g=!1,k=!1,l=[],m=0;m<a.dataSeriesIndexes.length;m++){var n=this.data[a.dataSeriesIndexes[m]],p=0,r=!1,s=!1;if("normal"===n.axisPlacement||"xySwapped"===n.axisPlacement)var t=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,v=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&
this._options.axisX.maximum?this._options.axisX.maximum:Infinity;if(n.dataPoints[p].x&&n.dataPoints[p].x.getTime||"dateTime"===n.xValueType)f=!0;for(p=0;p<n.dataPoints.length;p++){"undefined"===typeof n.dataPoints[p].x&&(n.dataPoints[p].x=p);n.dataPoints[p].x.getTime?(f=!0,d=n.dataPoints[p].x.getTime()):d=n.dataPoints[p].x;e=n.dataPoints[p].y;d<c.min&&(c.min=d);d>c.max&&(c.max=d);if(0<p){var u=d-n.dataPoints[p-1].x;0>u&&(u*=-1);c.minDiff>u&&0!==u&&(c.minDiff=u)}if(!(d<t)||r){if(!r&&(r=!0,0<p)){p-=
2;continue}if(d>v&&!s)s=!0;else if(d>v&&s)continue;n.dataPoints[p].label&&(a.axisX.labels[d]=n.dataPoints[p].label);d<c.viewPortMin&&(c.viewPortMin=d);d>c.viewPortMax&&(c.viewPortMax=d);null!==e&&(0<=e?g=!0:k=!0,l[d]=l[d]?l[d]+Math.abs(e):Math.abs(e))}}this.plotInfo.axisXValueType=n.xValueType=f?"dateTime":"number"}g&&!k?(b.max=99,b.min=1):g&&k?(b.max=99,b.min=-99):!g&&k&&(b.max=-1,b.min=-99);b.viewPortMin=b.min;b.viewPortMax=b.max;a.dataPointYSums=l}};s.prototype.getDataPointAtXY=function(a,b,c){c=
c||!1;for(var d=[],e=this._dataInRenderedOrder.length-1;0<=e;e--){var f=null;(f=this._dataInRenderedOrder[e].getDataPointAtXY(a,b,c))&&d.push(f)}a=null;b=!1;for(c=0;c<d.length;c++)if("line"===d[c].dataSeries.type||"stepLine"===d[c].dataSeries.type||"area"===d[c].dataSeries.type||"stepArea"===d[c].dataSeries.type)if(e=v("markerSize",d[c].dataPoint,d[c].dataSeries)||8,d[c].distance<=e/2){b=!0;break}for(c=0;c<d.length;c++)if(!b||!("line"!==d[c].dataSeries.type&&"stepLine"!==d[c].dataSeries.type&&"area"!==
d[c].dataSeries.type&&"stepArea"!==d[c].dataSeries.type))a?d[c].distance<=a.distance&&(a=d[c]):a=d[c];return a};s.prototype.getObjectAtXY=function(a,b,c){var d=null;if(c=this.getDataPointAtXY(a,b,c||!1))d=c.dataSeries.dataPointIds[c.dataPointIndex];else if(D)d=l(a,b,this._eventManager.ghostCtx);else for(c=0;c<this.legend.items.length;c++){var e=this.legend.items[c];a>=e.x1&&(a<=e.x2&&b>=e.y1&&b<=e.y2)&&(d=e.id)}return d};s.prototype.getAutoFontSize=function(a,b,c){return Math.round(Math.min(this.width,
this.height)*(a/400))};s.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)};s.prototype.attachEvent=function(a){this._events.push(a)};s.prototype._touchEventHandler=function(a){if(a.changedTouches&&this.interactivityEnabled){var b=[],c=a.changedTouches,d=c?c[0]:a,e=null;switch(a.type){case "touchstart":case "MSPointerDown":b=["mousemove","mousedown"];this._lastTouchData=oa(d);this._lastTouchData.time=new Date;break;case "touchmove":case "MSPointerMove":b=
["mousemove"];break;case "touchend":case "MSPointerUp":b="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType?["mouseup","click"]:["mouseup"];break;default:return}if(!(c&&1<c.length)){e=oa(d);e.time=new Date;try{var f=e.y-this._lastTouchData.y,g=e.time-this._lastTouchData.time;if(15<Math.abs(f)&&(this._lastTouchData.scroll||200>g)){this._lastTouchData.scroll=!0;var k=window.parent||window;k&&k.scrollBy&&k.scrollBy(0,-f)}}catch(l){}this._lastTouchEventType=a.type;if(this._lastTouchData.scroll&&
this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(c=0;c<b.length;c++)e=b[c],f=document.createEvent("MouseEvent"),f.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(f),a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()}}};s.prototype._mouseEventHandler=function(a){if(this.interactivityEnabled){a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault();
"undefined"===typeof a.target&&a.srcElement&&(a.target=a.srcElement);var b=oa(a),c=a.type,d,e;a.which?e=3==a.which:a.button&&(e=2==a.button);if(!e){if(s.capturedEventParam)d=s.capturedEventParam,"mouseup"===c&&(s.capturedEventParam=null,d.chart.overlaidCanvas.releaseCapture?d.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",d.chart._mouseEventHandler,!1)),d.hasOwnProperty(c)&&d[c].call(d.context,b.x,b.y);else if(this._events){for(e=0;e<this._events.length;e++)if(this._events[e].hasOwnProperty(c)){d=
this._events[e];var f=d.bounds;if(b.x>=f.x1&&b.x<=f.x2&&b.y>=f.y1&&b.y<=f.y2){d[c].call(d.context,b.x,b.y);"mousedown"===c&&!0===d.capture?(s.capturedEventParam=d,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.body.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===c&&(d.chart.overlaidCanvas.releaseCapture?d.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",this._mouseEventHandler,!1));break}else d=null}a.target.style.cursor=
d&&d.cursor?d.cursor:this._defaultCursor}this._toolTip&&this._toolTip.enabled&&(c=this.plotArea,(b.x<c.x1||b.x>c.x2||b.y<c.y1||b.y>c.y2)&&this._toolTip.hide());(!this.isDrag||!this.zoomEnabled)&&this._eventManager&&this._eventManager.mouseEventHandler(a)}}};s.prototype._plotAreaMouseDown=function(a,b){this.isDrag=!0;this.dragStartPoint="none"!==this.plotInfo.axisPlacement?{x:a,y:b,xMinimum:this.axisX.minimum,xMaximum:this.axisX.maximum}:{x:a,y:b}};s.prototype._plotAreaMouseUp=function(a,b){var c,
d;if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var e=0,e=this.axisX.lineCoordinates,e="xySwapped"===this.plotInfo.axisPlacement?b-this.dragStartPoint.y:this.dragStartPoint.x-a;Math.abs(this.axisX.maximum-this.axisX.minimum);if(2<Math.abs(e)){if(this.panEnabled)e=!1,d=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum?(d=this.axisX._absoluteMinimum-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=
d,this.axisX.sessionVariables.internalMaximum+=d,e=!0):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum&&(d=this.axisX.sessionVariables.internalMaximum-this.axisX._absoluteMaximum,this.axisX.sessionVariables.internalMaximum-=d,this.axisX.sessionVariables.internalMinimum-=d,e=!0),e&&this.render();else if(this.zoomEnabled){this.resetOverlayedCanvas();if(!this.dragStartPoint)return;"xySwapped"===this.plotInfo.axisPlacement?(c=Math.min(this.dragStartPoint.y,b),d=Math.max(this.dragStartPoint.y,
b),1<Math.abs(c-d)&&(e=this.axisX.lineCoordinates,d=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(d-e.y1),e=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(c-e.y1),d=Math.max(d,this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),Math.abs((e-d)/this.axisX.dataInfo.minDiff)>=0.008*this.height&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=e,this.render()))):"normal"===this.plotInfo.axisPlacement&&(d=
Math.min(this.dragStartPoint.x,a),c=Math.max(this.dragStartPoint.x,a),1<Math.abs(d-c)&&(e=this.axisX.lineCoordinates,d=(this.axisX.maximum-this.axisX.minimum)/e.width*(d-e.x1)+this.axisX.minimum,e=(this.axisX.maximum-this.axisX.minimum)/e.width*(c-e.x1)+this.axisX.minimum,d=Math.max(d,this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),Math.abs((e-d)/this.axisX.dataInfo.minDiff)>=0.01*this.width&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=
e,this.render())))}this.zoomEnabled&&"none"===this._toolBar.style.display&&(this._toolBar.style.display="inline",this._zoomButton.innerHTML=this._cultureInfo.panText,this._resetButton.innerHTML=this._cultureInfo.resetText)}}this.isDrag=!1};s.prototype._plotAreaMouseMove=function(a,b){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var c=0,e=0,e=this.axisX.lineCoordinates;"xySwapped"===this.plotInfo.axisPlacement?(c=b-this.dragStartPoint.y,e=Math.abs(this.axisX.maximum-this.axisX.minimum)/e.height*
c):(c=this.dragStartPoint.x-a,e=Math.abs(this.axisX.maximum-this.axisX.minimum)/e.width*c);2<Math.abs(c)&&8>Math.abs(c)&&(this.panEnabled||this.zoomEnabled)?this._toolTip.hide():this._toolTip.enabled&&(!this.panEnabled&&!this.zoomEnabled)&&this._toolTip.mouseMoveHandler(a,b);if(2<Math.abs(c)&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled){this.axisX.sessionVariables.internalMinimum=this.dragStartPoint.xMinimum+e;this.axisX.sessionVariables.internalMaximum=this.dragStartPoint.xMaximum+e;c=
0;this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum-d(this.axisX.interval,this.axisX.intervalType)?(c=this.axisX._absoluteMinimum-d(this.axisX.interval,this.axisX.intervalType)-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=c,this.axisX.sessionVariables.internalMaximum+=c):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum+d(this.axisX.interval,this.axisX.intervalType)&&(c=this.axisX.sessionVariables.internalMaximum-
(this.axisX._absoluteMaximum+d(this.axisX.interval,this.axisX.intervalType)),this.axisX.sessionVariables.internalMaximum-=c,this.axisX.sessionVariables.internalMinimum-=c);var f=this;clearTimeout(this._panTimerId);this._panTimerId=setTimeout(function(){f.render()},0)}else this.zoomEnabled&&(c=this.plotArea,this.resetOverlayedCanvas(),e=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.globalAlpha=0.7,this.overlaidCanvasCtx.fillStyle="#A0ABB8","xySwapped"===this.plotInfo.axisPlacement?this.overlaidCanvasCtx.fillRect(c.x1,
this.dragStartPoint.y,c.x2-c.x1,b-this.dragStartPoint.y):"normal"===this.plotInfo.axisPlacement&&this.overlaidCanvasCtx.fillRect(this.dragStartPoint.x,c.y1,a-this.dragStartPoint.x,c.y2-c.y1),this.overlaidCanvasCtx.globalAlpha=e)}else this._toolTip.enabled&&this._toolTip.mouseMoveHandler(a,b)};s.prototype.preparePlotArea=function(){var a=this.plotArea,b=this.axisY?this.axisY:this.axisY2;!D&&(0<a.x1||0<a.y1)&&a.ctx.translate(a.x1,a.y1);this.axisX&&b?(a.x1=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?
this.axisX.lineCoordinates.x1:b.lineCoordinates.x1,a.y1=this.axisX.lineCoordinates.y1<b.lineCoordinates.y1?this.axisX.lineCoordinates.y1:b.lineCoordinates.y1,a.x2=this.axisX.lineCoordinates.x2>b.lineCoordinates.x2?this.axisX.lineCoordinates.x2:b.lineCoordinates.x2,a.y2=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:b.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1):(b=this.layoutManager.getFreeSpace(),a.x1=b.x1,a.x2=b.x2,a.y1=b.y1,a.y2=b.y2,a.width=
b.width,a.height=b.height);D||(a.canvas.width=a.width,a.canvas.height=a.height,a.canvas.style.left=a.x1+"px",a.canvas.style.top=a.y1+"px",(0<a.x1||0<a.y1)&&a.ctx.translate(-a.x1,-a.y1))};s.prototype.getPixelCoordinatesOnPlotArea=function(a,b){return{x:this.axisX.getPixelCoordinatesOnAxis(a).x,y:this.axisY.getPixelCoordinatesOnAxis(b).y}};s.prototype.renderIndexLabels=function(){var a=this.plotArea.ctx;a.textBaseline="middle";for(var b=this.plotArea,c=0;c<this._indexLabels.length;c++){var d=this._indexLabels[c],
e,f,g;a.fillStyle=v("indexLabelFontColor",d.dataPoint,d.dataSeries);a.font=t("indexLabel",d.dataPoint,d.dataSeries);var k=this.replaceKeywordsWithValue(v("indexLabel",d.dataPoint,d.dataSeries),d.dataPoint,d.dataSeries),l=a.measureText(k).width,m=v("indexLabelFontSize",d.dataPoint,d.dataSeries),n=v("indexLabelPlacement",d.dataPoint,d.dataSeries),p=v("indexLabelOrientation",d.dataPoint,d.dataSeries),r=g=0,s=0,u=0,w=0;d.point.x<b.x1||(d.point.x>b.x2||d.point.y<b.y1||d.point.y>b.y2)||("column"===d.chartType||
"stackedColumn"===d.chartType||"stackedColumn100"===d.chartType||"bar"===d.chartType||"stackedBar"===d.chartType||"stackedBar100"===d.chartType?(Math.abs(d.bounds.x1,d.bounds.x2),Math.abs(d.bounds.y1,d.bounds.y2),"normal"===this.plotInfo.axisPlacement?("outside"===n?(r=b.y1,s=b.y2):"inside"===n&&(r=d.bounds.y1,s=d.bounds.y2),"horizontal"===p?(e=d.point.x-l/2,f=0<=d.dataPoint.y?Math.min(Math.max(d.point.y-m/2-5,r+m/2+5),s-m/2-5):Math.max(Math.min(d.point.y+m/2+5,s-m/2),r+m/2+5)):"vertical"===p&&(e=
d.point.x,f=0<=d.dataPoint.y?Math.min(Math.max(d.point.y-5,r+l+5),s):Math.max(Math.min(d.point.y+l+5,s-5),r),g=-90)):"xySwapped"===this.plotInfo.axisPlacement&&("outside"===n?(u=b.x1,w=b.x2):"inside"===n&&(u=d.bounds.x1,w=d.bounds.x2),"horizontal"===p?(f=d.point.y,e=0<=d.dataPoint.y?Math.max(Math.min(d.point.x+5,w-l),u):Math.min(Math.max(d.point.x-l-5,u),w)):"vertical"===p&&(f=d.point.y+l/2,e=0<=d.dataPoint.y?Math.max(Math.min(d.point.x+m/2+5,w-m/2),u):Math.min(Math.max(d.point.x-m/2-5,u+m/2),w+m/
2),g=-90))):"horizontal"===p?(e=d.point.x-l/2,f=0<=d.dataPoint.y?Math.max(d.point.y-m/2-5,b.y1+m/2):Math.min(d.point.y+m/2+5,b.y2-m/2)):"vertical"===p&&(e=d.point.x,f=0<=d.dataPoint.y?Math.max(d.point.y-5,b.y1+l):Math.min(d.point.y+l+5,b.y2),g=-90),a.save(),a.translate(e,f),a.rotate(Math.PI/180*g),a.fillText(k,0,0),a.restore())}};s.prototype.renderLine=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;b.save();var d=this.plotArea;b.beginPath();
b.rect(d.x1,d.y1,d.width,d.height);b.clip();for(var d=[],e=0;e<a.dataSeriesIndexes.length;e++){var f=a.dataSeriesIndexes[e],g=this.data[f];b.lineWidth=g.lineThickness;var k=g.dataPoints,l=g.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:f};l=n(l);c.strokeStyle=l;c.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0;l=g._colorSet[0];b.strokeStyle=l;var m=!0,p=0,r,s;b.beginPath();if(0<k.length){for(var t=!1,p=0;p<k.length;p++)if(r=k[p].x.getTime?k[p].x.getTime():k[p].x,
!(r<a.axisX.dataInfo.viewPortMin||r>a.axisX.dataInfo.viewPortMax))if("number"!==typeof k[p].y)0<p&&(b.stroke(),D&&c.stroke()),t=!0;else{r=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(r-a.axisX.conversionParameters.minimum)+0.5<<0;s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(k[p].y-a.axisY.conversionParameters.minimum)+0.5<<0;var v=g.dataPointIds[p];this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:f,
dataPointIndex:p,x1:r,y1:s};m||t?(b.beginPath(),b.moveTo(r,s),D&&(c.beginPath(),c.moveTo(r,s)),t=m=!1):(b.lineTo(r,s),D&&c.lineTo(r,s),0==p%500&&(b.stroke(),b.beginPath(),b.moveTo(r,s),D&&(c.stroke(),c.beginPath(),c.moveTo(r,s))));if(0<k[p].markerSize||0<g.markerSize){var u=g.getMarkerProperties(p,r,s,b);d.push(u);if(!g.maxWidthInX||u.size>g.maxWidthInX)g.maxWidthInX=u.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);
v=n(v);D&&d.push({x:r,y:s,ctx:c,type:u.type,size:u.size,color:v,borderColor:v,borderThickness:u.borderThickness})}(k[p].indexLabel||g.indexLabel)&&this._indexLabels.push({chartType:"line",dataPoint:k[p],dataSeries:g,point:{x:r,y:s},color:l})}b.stroke();D&&c.stroke()}}na.drawMarkers(d);b.restore();b.beginPath();D&&c.beginPath()}};s.prototype.renderStepLine=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;b.save();var d=this.plotArea;b.beginPath();
b.rect(d.x1,d.y1,d.width,d.height);b.clip();for(var d=[],e=0;e<a.dataSeriesIndexes.length;e++){var f=a.dataSeriesIndexes[e],g=this.data[f];b.lineWidth=g.lineThickness;var k=g.dataPoints,l=g.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:f};l=n(l);c.strokeStyle=l;c.lineWidth=0<g.lineThickness?Math.max(g.lineThickness,4):0;l=g._colorSet[0];b.strokeStyle=l;var m=!0,p=0,r,s;b.beginPath();if(0<k.length){for(var t=!1,p=0;p<k.length;p++)if(r=k[p].getTime?k[p].x.getTime():k[p].x,
!(r<a.axisX.dataInfo.viewPortMin||r>a.axisX.dataInfo.viewPortMax))if("number"!==typeof k[p].y)0<p&&(b.stroke(),D&&c.stroke()),t=!0;else{var v=s;r=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(r-a.axisX.conversionParameters.minimum)+0.5<<0;s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(k[p].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=g.dataPointIds[p];this._eventManager.objectMap[u]={id:u,objectType:"dataPoint",dataSeriesIndex:f,
dataPointIndex:p,x1:r,y1:s};m||t?(b.beginPath(),b.moveTo(r,s),D&&(c.beginPath(),c.moveTo(r,s)),t=m=!1):(b.lineTo(r,v),D&&c.lineTo(r,v),b.lineTo(r,s),D&&c.lineTo(r,s),0==p%500&&(b.stroke(),b.beginPath(),b.moveTo(r,s),D&&(c.stroke(),c.beginPath(),c.moveTo(r,s))));if(0<k[p].markerSize||0<g.markerSize){v=g.getMarkerProperties(p,r,s,b);d.push(v);if(!g.maxWidthInX||v.size>g.maxWidthInX)g.maxWidthInX=v.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);
u=n(u);D&&d.push({x:r,y:s,ctx:c,type:v.type,size:v.size,color:u,borderColor:u,borderThickness:v.borderThickness})}(k[p].indexLabel||g.indexLabel)&&this._indexLabels.push({chartType:"stepLine",dataPoint:k[p],dataSeries:g,point:{x:r,y:s},color:l})}b.stroke();D&&c.stroke()}}na.drawMarkers(d);b.restore();b.beginPath();D&&c.beginPath()}};s.prototype.renderSpline=function(a){function b(a){a=K(a,2);if(0<a.length){c.beginPath();D&&d.beginPath();c.moveTo(a[0].x,a[0].y);D&&d.moveTo(a[0].x,a[0].y);for(var e=
0;e<a.length-3;e+=3)c.bezierCurveTo(a[e+1].x,a[e+1].y,a[e+2].x,a[e+2].y,a[e+3].x,a[e+3].y),D&&d.bezierCurveTo(a[e+1].x,a[e+1].y,a[e+2].x,a[e+2].y,a[e+3].x,a[e+3].y),0<e&&0===e%3E3&&(c.stroke(),c.beginPath(),c.moveTo(a[e+3].x,a[e+3].y),D&&(d.stroke(),d.beginPath(),d.moveTo(a[e+3].x,a[e+3].y)));c.stroke();D&&d.stroke()}}var c=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx;c.save();var e=this.plotArea;c.beginPath();c.rect(e.x1,e.y1,e.width,e.height);c.clip();
for(var e=[],f=0;f<a.dataSeriesIndexes.length;f++){var g=a.dataSeriesIndexes[f],k=this.data[g];c.lineWidth=k.lineThickness;var l=k.dataPoints,m=k.id;this._eventManager.objectMap[m]={objectType:"dataSeries",dataSeriesIndex:g};m=n(m);d.strokeStyle=m;d.lineWidth=0<k.lineThickness?Math.max(k.lineThickness,4):0;m=k._colorSet[0];c.strokeStyle=m;var p=0,r,s,t=[];c.beginPath();if(0<l.length)for(p=0;p<l.length;p++)if(r=l[p].getTime?l[p].x.getTime():l[p].x,!(r<a.axisX.dataInfo.viewPortMin||r>a.axisX.dataInfo.viewPortMax))if("number"!==
typeof l[p].y)0<p&&(b(t),t=[]);else{r=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(r-a.axisX.conversionParameters.minimum)+0.5<<0;s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(l[p].y-a.axisY.conversionParameters.minimum)+0.5<<0;var v=k.dataPointIds[p];this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:p,x1:r,y1:s};t[t.length]={x:r,y:s};if(0<l[p].markerSize||0<k.markerSize){var u=k.getMarkerProperties(p,
r,s,c);e.push(u);if(!k.maxWidthInX||u.size>k.maxWidthInX)k.maxWidthInX=u.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);v=n(v);D&&e.push({x:r,y:s,ctx:d,type:u.type,size:u.size,color:v,borderColor:v,borderThickness:u.borderThickness})}(l[p].indexLabel||k.indexLabel)&&this._indexLabels.push({chartType:"spline",dataPoint:l[p],dataSeries:k,point:{x:r,y:s},color:m})}b(t)}na.drawMarkers(e);c.restore();c.beginPath();
D&&d.beginPath()}};var ma=function(a,b,c,d,e,f,g,k,l,m){var n=15<d-b&&15<e-c?8:0.35*Math.min(d-b,e-c);a.beginPath();a.moveTo(b,c);a.save();a.fillStyle=f;a.fillRect(b,c,d-b,e-c);a.restore();!0===g&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+n,c+n),a.lineTo(d-n,c+n),a.lineTo(d,c),a.closePath(),g=a.createLinearGradient((d+b)/2,c+n,(d+b)/2,c),g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=g,a.fill(),a.restore());!0===k&&(a.save(),a.beginPath(),a.moveTo(b,e),a.lineTo(b+
n,e-n),a.lineTo(d-n,e-n),a.lineTo(d,e),a.closePath(),g=a.createLinearGradient((d+b)/2,e-n,(d+b)/2,e),g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=g,a.fill(),a.restore());!0===l&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+n,c+n),a.lineTo(b+n,e-n),a.lineTo(b,e),a.closePath(),g=a.createLinearGradient(b+n,(e+c)/2,b,(e+c)/2),g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=g,a.fill(),a.restore());!0===m&&(a.save(),a.beginPath(),a.moveTo(d,
c),a.lineTo(d-n,c+n),a.lineTo(d-n,e-n),a.lineTo(d,e),g=a.createLinearGradient(d-n,(e+c)/2,d,(e+c)/2),g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=g,g.addColorStop(0,f),g.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=g,a.fill(),a.closePath(),a.restore())};s.prototype.renderColumn=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=0,f,g,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*
(0-a.axisY.conversionParameters.minimum)<<0,e=Math.min(0.15*this.width,0.9*(this.plotArea.width/a.plotType.totalDataSeries))<<0,m=a.axisX.dataInfo.minDiff,p=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(m)/a.plotType.totalDataSeries)<<0;p>e?p=e:Infinity===m?p=e:1>p&&(p=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(d=
0;d<a.dataSeriesIndexes.length;d++){var m=a.dataSeriesIndexes[d],r=this.data[m],s=r.dataPoints;r.maxWidthInX=p/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<s.length)for(var t=5<p&&r.bevelEnabled?!0:!1,e=0;e<s.length;e++)if(s[e].getTime?k=s[e].x.getTime():k=s[e].x,!(k<a.axisX.dataInfo.viewPortMin||k>a.axisX.dataInfo.viewPortMax)&&"number"===typeof s[e].y){f=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*
(k-a.axisX.conversionParameters.minimum)+0.5<<0;g=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(s[e].y-a.axisY.conversionParameters.minimum)+0.5<<0;f=f-a.plotType.totalDataSeries*p/2+(a.previousDataSeriesCount+d)*p<<0;var v=f+p<<0,u;0<=s[e].y?u=l:(u=g,g=l);g>u&&(u=g=u);c=s[e].color?s[e].color:r._colorSet[e%r._colorSet.length];ma(b,f,g,v,u,c,t&&0<=s[e].y,0>s[e].y&&t,!1,!1);c=r.dataPointIds[e];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:m,
dataPointIndex:e,x1:f,y1:g,x2:v,y2:u};c=n(c);D&&ma(this._eventManager.ghostCtx,f,g,v,u,c,!1,!1,!1,!1);if(s[e].indexLabel||r.indexLabel)this._indexLabels.push({chartType:"column",dataPoint:s[e],dataSeries:r,point:{x:f+(v-f)/2,y:0<=s[e].y?g:u},bounds:{x1:f,y1:Math.min(g,u),x2:v,y2:Math.max(g,u)},color:c})}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedColumn=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=[],f=[],
g=0,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,g=0.15*this.width<<0,m=a.axisX.dataInfo.minDiff,p=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(m)/a.plotType.plotUnits.length)<<0;p>g?p=g:Infinity===m?p=g:1>p&&(p=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());
for(m=0;m<a.dataSeriesIndexes.length;m++){var r=a.dataSeriesIndexes[m],s=this.data[r],t=s.dataPoints;s.maxWidthInX=p/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<t.length){var v=5<p&&s.bevelEnabled?!0:!1;b.strokeStyle="#4572A7 ";for(g=0;g<t.length;g++)if(c=t[g].x.getTime?t[g].x.getTime():t[g].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[g].y){d=a.axisX.conversionParameters.reference+
a.axisX.conversionParameters.pixelPerUnit*(c-a.axisX.conversionParameters.minimum)+0.5<<0;k=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(t[g].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=d-a.plotType.plotUnits.length*p/2+a.index*p<<0,w=u+p<<0,x;if(0<=t[g].y){var y=e[c]?e[c]:0;k-=y;x=l-y;e[c]=y+(x-k)}else y=f[c]?f[c]:0,x=k+y,k=l+y,f[c]=y+(x-k);c=t[g].color?t[g].color:s._colorSet[g%s._colorSet.length];ma(b,u,k,w,x,c,v&&0<=t[g].y,0>t[g].y&&v,!1,!1);c=s.dataPointIds[g];
this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:g,x1:u,y1:k,x2:w,y2:x};c=n(c);D&&ma(this._eventManager.ghostCtx,u,k,w,x,c,!1,!1,!1,!1);if(t[g].indexLabel||s.indexLabel)this._indexLabels.push({chartType:"stackedColumn",dataPoint:t[g],dataSeries:s,point:{x:d,y:0<=t[g].y?k:x},bounds:{x1:u,y1:Math.min(k,x),x2:w,y2:Math.max(k,x)},color:c})}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedColumn100=function(a){var b=this.plotArea.ctx;
if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=[],f=[],g=0,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,g=0.15*this.width<<0,m=a.axisX.dataInfo.minDiff,p=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(m)/a.plotType.plotUnits.length)<<0;p>g?p=g:Infinity===m?p=g:1>p&&(p=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,
d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(m=0;m<a.dataSeriesIndexes.length;m++){var r=a.dataSeriesIndexes[m],s=this.data[r],t=s.dataPoints;s.maxWidthInX=p/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<t.length)for(var v=5<p&&s.bevelEnabled?!0:!1,g=0;g<t.length;g++)if(c=t[g].x.getTime?t[g].x.getTime():t[g].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[g].y){d=
a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(c-a.axisX.conversionParameters.minimum)+0.5<<0;k=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*((0!==a.dataPointYSums[c]?100*(t[g].y/a.dataPointYSums[c]):0)-a.axisY.conversionParameters.minimum)+0.5<<0;var u=d-a.plotType.plotUnits.length*p/2+a.index*p<<0,w=u+p<<0,x;if(0<=t[g].y){var y=e[c]?e[c]:0;k-=y;x=l-y;e[c]=y+(x-k)}else y=f[c]?f[c]:0,x=k+y,k=l+y,f[c]=y+(x-k);c=t[g].color?t[g].color:
s._colorSet[g%s._colorSet.length];ma(b,u,k,w,x,c,v&&0<=t[g].y,0>t[g].y&&v,!1,!1);c=s.dataPointIds[g];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:g,x1:u,y1:k,x2:w,y2:x};c=n(c);D&&ma(this._eventManager.ghostCtx,u,k,w,x,c,!1,!1,!1,!1);if(t[g].indexLabel||s.indexLabel)this._indexLabels.push({chartType:"stackedColumn100",dataPoint:t[g],dataSeries:s,point:{x:d,y:0<=t[g].y?k:x},bounds:{x1:u,y1:Math.min(k,x),x2:w,y2:Math.max(k,x)},color:c})}}b.restore();D&&
this._eventManager.ghostCtx.restore()}};s.prototype.renderBar=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=0,f,g,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,e=Math.min(0.15*this.height,0.9*(this.plotArea.height/a.plotType.totalDataSeries))<<0,m=a.axisX.dataInfo.minDiff,p=0.9*(d.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(m)/a.plotType.totalDataSeries)<<
0;p>e?p=e:Infinity===m?p=e:1>p&&(p=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(d=0;d<a.dataSeriesIndexes.length;d++){var m=a.dataSeriesIndexes[d],r=this.data[m],s=r.dataPoints;r.maxWidthInX=p/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<s.length){var t=
5<p&&r.bevelEnabled?!0:!1;b.strokeStyle="#4572A7 ";for(e=0;e<s.length;e++)if(s[e].getTime?k=s[e].x.getTime():k=s[e].x,!(k<a.axisX.dataInfo.viewPortMin||k>a.axisX.dataInfo.viewPortMax)&&"number"===typeof s[e].y){g=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(k-a.axisX.conversionParameters.minimum)+0.5<<0;f=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(s[e].y-a.axisY.conversionParameters.minimum)+0.5<<0;g=g-a.plotType.totalDataSeries*
p/2+(a.previousDataSeriesCount+d)*p<<0;var u=g+p<<0,v;0<=s[e].y?v=l:(v=f,f=l);c=s[e].color?s[e].color:r._colorSet[e%r._colorSet.length];ma(b,v,g,f,u,c,t,!1,!1,!1);c=r.dataPointIds[e];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:e,x1:v,y1:g,x2:f,y2:u};c=n(c);D&&ma(this._eventManager.ghostCtx,v,g,f,u,c,!1,!1,!1,!1);this._indexLabels.push({chartType:"bar",dataPoint:s[e],dataSeries:r,point:{x:0<=s[e].y?f:v,y:g+(u-g)/2},bounds:{x1:Math.min(v,f),y1:g,x2:Math.max(v,
f),y2:u},color:c})}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedBar=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=[],f=[],g=0,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,g=0.15*this.width<<0,m=a.axisX.dataInfo.minDiff,p=0.9*(d.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(m)/a.plotType.plotUnits.length)<<0;p>g?
p=g:Infinity===m?p=g:1>p&&(p=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(m=0;m<a.dataSeriesIndexes.length;m++){var r=a.dataSeriesIndexes[m],s=this.data[r],t=s.dataPoints;s.maxWidthInX=p/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<t.length){var v=
5<p&&s.bevelEnabled?!0:!1;b.strokeStyle="#4572A7 ";for(g=0;g<t.length;g++)if(c=t[g].x.getTime?t[g].x.getTime():t[g].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[g].y){d=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(c-a.axisX.conversionParameters.minimum)+0.5<<0;k=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(t[g].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=d-a.plotType.plotUnits.length*
p/2+a.index*p<<0,w=u+p<<0,x;if(0<=t[g].y){var y=e[c]?e[c]:0;x=l+y;k+=y;e[c]=y+(k-x)}else y=f[c]?f[c]:0,x=k-y,k=l-y,f[c]=y+(k-x);c=t[g].color?t[g].color:s._colorSet[g%s._colorSet.length];ma(b,x,u,k,w,c,v,!1,!1,!1);c=s.dataPointIds[g];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:g,x1:x,y1:u,x2:k,y2:w};c=n(c);D&&ma(this._eventManager.ghostCtx,x,u,k,w,c,!1,!1,!1,!1);this._indexLabels.push({chartType:"stackedBar",dataPoint:t[g],dataSeries:s,point:{x:0<=
t[g].y?k:x,y:d},bounds:{x1:Math.min(x,k),y1:u,x2:Math.max(x,k),y2:w},color:c})}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedBar100=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=[],f=[],g=0,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,g=0.15*this.width<<0,m=a.axisX.dataInfo.minDiff,p=0.9*(d.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*
Math.abs(m)/a.plotType.plotUnits.length)<<0;p>g?p=g:Infinity===m?p=g:1>p&&(p=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(m=0;m<a.dataSeriesIndexes.length;m++){var r=a.dataSeriesIndexes[m],s=this.data[r],t=s.dataPoints;s.maxWidthInX=p/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);
if(0<t.length){var u=5<p&&s.bevelEnabled?!0:!1;b.strokeStyle="#4572A7 ";for(g=0;g<t.length;g++)if(c=t[g].x.getTime?t[g].x.getTime():t[g].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[g].y){d=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(c-a.axisX.conversionParameters.minimum)+0.5<<0;k=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*((0!==a.dataPointYSums[c]?100*(t[g].y/a.dataPointYSums[c]):
0)-a.axisY.conversionParameters.minimum)+0.5<<0;var v=d-a.plotType.plotUnits.length*p/2+a.index*p<<0,w=v+p<<0,x;if(0<=t[g].y){var y=e[c]?e[c]:0;x=l+y;k+=y;e[c]=y+(k-x)}else y=f[c]?f[c]:0,x=k-y,k=l-y,f[c]=y+(k-x);c=t[g].color?t[g].color:s._colorSet[g%s._colorSet.length];ma(b,x,v,k,w,c,u,!1,!1,!1);c=s.dataPointIds[g];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:g,x1:x,y1:v,x2:k,y2:w};c=n(c);D&&ma(this._eventManager.ghostCtx,x,v,k,w,c,!1,!1,!1,!1);this._indexLabels.push({chartType:"stackedBar100",
dataPoint:t[g],dataSeries:s,point:{x:0<=t[g].y?k:x,y:d},bounds:{x1:Math.min(x,k),y1:v,x2:Math.max(x,k),y2:w},color:c})}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderArea=function(a){function b(){y&&(0>=a.axisY.minimum&&0<=a.axisY.maximum?w=x:0>a.axisY.maximum?w=f.y1:0<a.axisY.minimum&&(w=e.y2),c.lineTo(t,w),c.lineTo(y.x,w),c.closePath(),c.fill(),D&&(d.lineTo(t,w),d.lineTo(y.x,w),d.closePath(),d.fill()),c.beginPath(),c.moveTo(t,v),d.beginPath(),d.moveTo(t,v),y={x:t,y:v})}
var c=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,e=a.axisX.lineCoordinates,f=a.axisY.lineCoordinates,g=[],k=this.plotArea;c.save();D&&d.save();c.beginPath();c.rect(k.x1,k.y1,k.width,k.height);c.clip();D&&(d.beginPath(),d.rect(k.x1,k.y1,k.width,k.height),d.clip());for(k=0;k<a.dataSeriesIndexes.length;k++){var l=a.dataSeriesIndexes[k],m=this.data[l],p=m.dataPoints,g=m.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:l};g=n(g);
d.fillStyle=g;var g=[],r=!0,s=0,t,v,u,x=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)+0.5<<0,w,y=null;if(0<p.length){var z=m._colorSet[s%m._colorSet.length];c.fillStyle=z;for(var C=!0;s<p.length;s++)if(u=p[s].x.getTime?p[s].x.getTime():p[s].x,!(u<a.axisX.dataInfo.viewPortMin||u>a.axisX.dataInfo.viewPortMax))if("number"!==typeof p[s].y)b(),C=!0;else{t=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*
(u-a.axisX.conversionParameters.minimum)+0.5<<0;v=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(p[s].y-a.axisY.conversionParameters.minimum)+0.5<<0;r||C?(c.beginPath(),c.moveTo(t,v),y={x:t,y:v},D&&(d.beginPath(),d.moveTo(t,v)),C=r=!1):(c.lineTo(t,v),D&&d.lineTo(t,v),0==s%250&&b());var B=m.dataPointIds[s];this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:s,x1:t,y1:v};if(0!==p[s].markerSize&&(0<p[s].markerSize||0<m.markerSize)){u=
m.getMarkerProperties(s,t,v,c);g.push(u);if(!m.maxWidthInX||u.size>m.maxWidthInX)m.maxWidthInX=u.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);B=n(B);D&&g.push({x:t,y:v,ctx:d,type:u.type,size:u.size,color:B,borderColor:B,borderThickness:u.borderThickness})}(p[s].indexLabel||m.indexLabel)&&this._indexLabels.push({chartType:"area",dataPoint:p[s],dataSeries:m,point:{x:t,y:v},color:z})}b();na.drawMarkers(g)}}c.restore();
D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderSplineArea=function(a){function b(){var g=K(x,2);if(0<g.length){c.beginPath();c.moveTo(g[0].x,g[0].y);D&&(d.beginPath(),d.moveTo(g[0].x,g[0].y));for(var k=0;k<g.length-3;k+=3)c.bezierCurveTo(g[k+1].x,g[k+1].y,g[k+2].x,g[k+2].y,g[k+3].x,g[k+3].y),D&&d.bezierCurveTo(g[k+1].x,g[k+1].y,g[k+2].x,g[k+2].y,g[k+3].x,g[k+3].y);0>=a.axisY.minimum&&0<=a.axisY.maximum?u=v:0>a.axisY.maximum?u=f.y1:0<a.axisY.minimum&&(u=e.y2);w={x:g[0].x,y:g[0].y};c.lineTo(g[g.length-
1].x,u);c.lineTo(w.x,u);c.closePath();c.fill();D&&(d.lineTo(g[g.length-1].x,u),d.lineTo(w.x,u),d.closePath(),d.fill())}}var c=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,e=a.axisX.lineCoordinates,f=a.axisY.lineCoordinates,g=[],k=this.plotArea;c.save();D&&d.save();c.beginPath();c.rect(k.x1,k.y1,k.width,k.height);c.clip();D&&(d.beginPath(),d.rect(k.x1,k.y1,k.width,k.height),d.clip());for(k=0;k<a.dataSeriesIndexes.length;k++){var l=a.dataSeriesIndexes[k],
m=this.data[l],p=m.dataPoints,g=m.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:l};g=n(g);d.fillStyle=g;var g=[],r=0,s,t,v=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)+0.5<<0,u,w=null,x=[];if(0<p.length){color=m._colorSet[r%m._colorSet.length];for(c.fillStyle=color;r<p.length;r++)if(s=p[r].x.getTime?p[r].x.getTime():p[r].x,!(s<a.axisX.dataInfo.viewPortMin||s>a.axisX.dataInfo.viewPortMax))if("number"!==
typeof p[r].y)0<r&&(b(),x=[]);else{s=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(s-a.axisX.conversionParameters.minimum)+0.5<<0;t=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(p[r].y-a.axisY.conversionParameters.minimum)+0.5<<0;var y=m.dataPointIds[r];this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:r,x1:s,y1:t};x[x.length]={x:s,y:t};if(0!==p[r].markerSize&&(0<p[r].markerSize||0<
m.markerSize)){var z=m.getMarkerProperties(r,s,t,c);g.push(z);if(!m.maxWidthInX||z.size>m.maxWidthInX)m.maxWidthInX=z.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);y=n(y);D&&g.push({x:s,y:t,ctx:d,type:z.type,size:z.size,color:y,borderColor:y,borderThickness:z.borderThickness})}(p[r].indexLabel||m.indexLabel)&&this._indexLabels.push({chartType:"splineArea",dataPoint:p[r],dataSeries:m,point:{x:s,y:t},color:color})}b();
na.drawMarkers(g)}}c.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStepArea=function(a){function b(){y&&(0>=a.axisY.minimum&&0<=a.axisY.maximum?x=w:0>a.axisY.maximum?x=f.y1:0<a.axisY.minimum&&(x=e.y2),c.lineTo(t,x),c.lineTo(y.x,x),c.closePath(),c.fill(),D&&(d.lineTo(t,x),d.lineTo(y.x,x),d.closePath(),d.fill()),c.beginPath(),c.moveTo(t,u),d.beginPath(),d.moveTo(t,u),y={x:t,y:u})}var c=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,
e=a.axisX.lineCoordinates,f=a.axisY.lineCoordinates,g=[],k=this.plotArea;c.save();D&&d.save();c.beginPath();c.rect(k.x1,k.y1,k.width,k.height);c.clip();D&&(d.beginPath(),d.rect(k.x1,k.y1,k.width,k.height),d.clip());for(k=0;k<a.dataSeriesIndexes.length;k++){var l=a.dataSeriesIndexes[k],m=this.data[l],p=m.dataPoints,g=m.id;this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:l};g=n(g);d.fillStyle=g;var g=[],r=!0,s=0,t,u,v,w=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*
(0-a.axisY.conversionParameters.minimum)+0.5<<0,x,y=null,z=!1;if(0<p.length){var C=m._colorSet[s%m._colorSet.length];for(c.fillStyle=C;s<p.length;s++)if(v=p[s].x.getTime?p[s].x.getTime():p[s].x,!(v<a.axisX.dataInfo.viewPortMin||v>a.axisX.dataInfo.viewPortMax)){var B=u;if("number"!==typeof p[s].y)b(),z=!0;else{t=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(v-a.axisX.conversionParameters.minimum)+0.5<<0;u=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*
(p[s].y-a.axisY.conversionParameters.minimum)+0.5<<0;r||z?(c.beginPath(),c.moveTo(t,u),y={x:t,y:u},D&&(d.beginPath(),d.moveTo(t,u)),z=r=!1):(c.lineTo(t,B),D&&d.lineTo(t,B),c.lineTo(t,u),D&&d.lineTo(t,u),0==s%250&&(0>=a.axisY.minimum&&0<=a.axisY.maximum?x=w:0>a.axisY.maximum?x=f.y1:0<a.axisY.minimum&&(x=e.y2),c.lineTo(t,x),c.lineTo(y.x,x),c.closePath(),c.fill(),c.beginPath(),c.moveTo(t,u),D&&(d.lineTo(t,x),d.lineTo(y.x,x),d.closePath(),d.fill(),d.beginPath(),d.moveTo(t,u)),y={x:t,y:u}));B=m.dataPointIds[s];
this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:s,x1:t,y1:u};if(0!==p[s].markerSize&&(0<p[s].markerSize||0<m.markerSize)){v=m.getMarkerProperties(s,t,u,c);g.push(v);if(!m.maxWidthInX||v.size>m.maxWidthInX)m.maxWidthInX=v.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);B=n(B);D&&g.push({x:t,y:u,ctx:d,type:v.type,size:v.size,color:B,borderColor:B,borderThickness:v.borderThickness})}(p[s].indexLabel||
m.indexLabel)&&this._indexLabels.push({chartType:"stepArea",dataPoint:p[s],dataSeries:m,point:{x:t,y:u},color:C})}}b();na.drawMarkers(g)}}c.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedArea=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=[],f=this.plotArea,g=[],k=[],l=0,m,p,r,s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,t=this._eventManager.ghostCtx;
D&&t.beginPath();b.save();D&&t.save();b.beginPath();b.rect(f.x1,f.y1,f.width,f.height);b.clip();D&&(t.beginPath(),t.rect(f.x1,f.y1,f.width,f.height),t.clip());xValuePresent=[];for(f=0;f<a.dataSeriesIndexes.length;f++){var u=a.dataSeriesIndexes[f],v=this.data[u],x=v.dataPoints;v.dataPointIndexes=[];for(l=0;l<x.length;l++)u=x[l].x.getTime?x[l].x.getTime():x[l].x,v.dataPointIndexes[u]=l,xValuePresent[u]||(k.push(u),xValuePresent[u]=!0);k.sort(e)}for(f=0;f<a.dataSeriesIndexes.length;f++){var u=a.dataSeriesIndexes[f],
v=this.data[u],x=v.dataPoints,w=!0,y=[],l=v.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:u};l=n(l);t.fillStyle=l;if(0<k.length){c=v._colorSet[0];b.fillStyle=c;for(l=0;l<k.length;l++){r=k[l];var z=null,z=0<=v.dataPointIndexes[r]?x[v.dataPointIndexes[r]]:{x:r,y:0};if(!(r<a.axisX.dataInfo.viewPortMin||r>a.axisX.dataInfo.viewPortMax)&&"number"===typeof z.y){m=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(r-a.axisX.conversionParameters.minimum)+
0.5<<0;p=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(z.y-a.axisY.conversionParameters.minimum)+0.5<<0;var B=g[r]?g[r]:0;p-=B;y.push({x:m,y:s-B});g[r]=s-p;if(w)b.beginPath(),b.moveTo(m,p),D&&(t.beginPath(),t.moveTo(m,p)),w=!1;else if(b.lineTo(m,p),D&&t.lineTo(m,p),0==l%250){for(;0<y.length;){var C=y.pop();b.lineTo(C.x,C.y);D&&t.lineTo(C.x,C.y)}b.closePath();b.fill();b.beginPath();b.moveTo(m,p);D&&(t.closePath(),t.fill(),t.beginPath(),t.moveTo(m,p));y.push({x:m,
y:s-B})}if(0<=v.dataPointIndexes[r]){var F=v.dataPointIds[v.dataPointIndexes[r]];this._eventManager.objectMap[F]={id:F,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:v.dataPointIndexes[r],x1:m,y1:p}}if(0<=v.dataPointIndexes[r]&&0!==z.markerSize&&(0<z.markerSize||0<v.markerSize)){r=v.getMarkerProperties(l,m,p,b);d.push(r);if(!v.maxWidthInX||r.size>v.maxWidthInX)v.maxWidthInX=r.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);
markerColor=n(F);D&&d.push({x:m,y:p,ctx:t,type:r.type,size:r.size,color:markerColor,borderColor:markerColor,borderThickness:r.borderThickness})}(z.indexLabel||v.indexLabel)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:z,dataSeries:v,point:{x:m,y:p},color:c})}}for(;0<y.length;)C=y.pop(),b.lineTo(C.x,C.y),D&&t.lineTo(C.x,C.y);b.closePath();b.fill();b.beginPath();b.moveTo(m,p);D&&(t.closePath(),t.fill(),t.beginPath(),t.moveTo(m,p))}delete v.dataPointIndexes}na.drawMarkers(d);b.restore();
D&&t.restore()}};s.prototype.renderStackedArea100=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,f=[],g=[],k=[],l=0,m,p,r,s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,t=0.15*this.width<<0,v=a.axisX.dataInfo.minDiff,v=0.9*d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(v)<<0,u=this._eventManager.ghostCtx;b.save();D&&u.save();b.beginPath();b.rect(d.x1,d.y1,
d.width,d.height);b.clip();D&&(u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip());xValuePresent=[];for(d=0;d<a.dataSeriesIndexes.length;d++){var x=a.dataSeriesIndexes[d],w=this.data[x],y=w.dataPoints;w.dataPointIndexes=[];for(l=0;l<y.length;l++)x=y[l].x.getTime?y[l].x.getTime():y[l].x,w.dataPointIndexes[x]=l,xValuePresent[x]||(k.push(x),xValuePresent[x]=!0);k.sort(e)}for(d=0;d<a.dataSeriesIndexes.length;d++){var x=a.dataSeriesIndexes[d],w=this.data[x],y=w.dataPoints,z=!0,c=w.id;this._eventManager.objectMap[c]=
{objectType:"dataSeries",dataSeriesIndex:x};c=n(c);u.fillStyle=c;1==y.length&&(v=t);1>v?v=1:v>t&&(v=t);var C=[];if(0<k.length){c=w._colorSet[l%w._colorSet.length];b.fillStyle=c;for(l=0;l<k.length;l++){r=k[l];var B=null,B=0<=w.dataPointIndexes[r]?y[w.dataPointIndexes[r]]:{x:r,y:0};if(!(r<a.axisX.dataInfo.viewPortMin||r>a.axisX.dataInfo.viewPortMax)&&"number"===typeof B.y){p=0!==a.dataPointYSums[r]?100*(B.y/a.dataPointYSums[r]):0;m=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*
(r-a.axisX.conversionParameters.minimum)+0.5<<0;p=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(p-a.axisY.conversionParameters.minimum)+0.5<<0;var F=g[r]?g[r]:0;p-=F;C.push({x:m,y:s-F});g[r]=s-p;if(z)b.beginPath(),b.moveTo(m,p),D&&(u.beginPath(),u.moveTo(m,p)),z=!1;else if(b.lineTo(m,p),D&&u.lineTo(m,p),0==l%250){for(;0<C.length;){var H=C.pop();b.lineTo(H.x,H.y);D&&u.lineTo(H.x,H.y)}b.closePath();b.fill();b.beginPath();b.moveTo(m,p);D&&(u.closePath(),u.fill(),u.beginPath(),
u.moveTo(m,p));C.push({x:m,y:s-F})}if(0<=w.dataPointIndexes[r]){var I=w.dataPointIds[w.dataPointIndexes[r]];this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:w.dataPointIndexes[r],x1:m,y1:p}}if(0<=w.dataPointIndexes[r]&&0!==B.markerSize&&(0<B.markerSize||0<w.markerSize)){r=w.getMarkerProperties(l,m,p,b);f.push(r);if(!w.maxWidthInX||r.size>w.maxWidthInX)w.maxWidthInX=r.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-
1:a.axisX.conversionParameters.pixelPerUnit);markerColor=n(I);D&&f.push({x:m,y:p,ctx:u,type:r.type,size:r.size,color:markerColor,borderColor:markerColor,borderThickness:r.borderThickness})}(B.indexLabel||w.indexLabel)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:B,dataSeries:w,point:{x:m,y:p},color:c})}}for(;0<C.length;)H=C.pop(),b.lineTo(H.x,H.y),D&&u.lineTo(H.x,H.y);b.closePath();b.fill();b.beginPath();b.moveTo(m,p);D&&(u.closePath(),u.fill(),u.beginPath(),u.moveTo(m,p))}delete w.dataPointIndexes}na.drawMarkers(f);
b.restore();D&&u.restore()}};s.prototype.renderBubble=function(a){var b=this.plotArea.ctx,c=a.dataSeriesIndexes.length;if(!(0>=c)){var d=this.plotArea,e=0,f,g,k=0.15*this.width<<0,e=a.axisX.dataInfo.minDiff,c=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(e)/c)<<0;b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var l=-Infinity,
m=Infinity,p=0;p<a.dataSeriesIndexes.length;p++)for(var r=a.dataSeriesIndexes[p],s=this.data[r],t=s.dataPoints,u=0,e=0;e<t.length;e++)if(f=t[e].getTime?f=t[e].x.getTime():f=t[e].x,!(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax)&&"undefined"!==typeof t[e].z)u=t[e].z,u>l&&(l=u),u<m&&(m=u);for(var v=25*Math.PI,d=Math.max(Math.pow(0.25*Math.min(d.height,d.width)/2,2)*Math.PI,v),p=0;p<a.dataSeriesIndexes.length;p++)if(r=a.dataSeriesIndexes[p],s=this.data[r],t=s.dataPoints,1==t.length&&
(c=k),1>c?c=1:c>k&&(c=k),0<t.length){b.strokeStyle="#4572A7 ";for(e=0;e<t.length;e++)if(f=t[e].getTime?f=t[e].x.getTime():f=t[e].x,!(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[e].y){f=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(f-a.axisX.conversionParameters.minimum)+0.5<<0;g=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(t[e].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=t[e].z,
w=2*Math.max(Math.sqrt((l===m?d/2:v+(d-v)/(l-m)*(u-m))/Math.PI)<<0,1),u=s.getMarkerProperties(e,b);u.size=w;na.drawMarker(f,g,b,u.type,u.size,u.color,u.borderColor,u.borderThickness);if(!s.maxWidthInX||u.size>s.maxWidthInX)s.maxWidthInX=u.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);var x=s.dataPointIds[e];this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:e,x1:f,
y1:g,size:w};w=n(x);D&&na.drawMarker(f,g,this._eventManager.ghostCtx,u.type,u.size,w,w,u.borderThickness)}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderScatter=function(a){var b=this.plotArea.ctx,c=a.dataSeriesIndexes.length;if(!(0>=c)){var d=this.plotArea,e=0,f,g,k=0.15*this.width<<0,e=a.axisX.dataInfo.minDiff,c=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(e)/c)<<0;b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,
d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var l=0;l<a.dataSeriesIndexes.length;l++){var m=a.dataSeriesIndexes[l],p=this.data[m],r=p.dataPoints;1==r.length&&(c=k);1>c?c=1:c>k&&(c=k);if(0<r.length){b.strokeStyle="#4572A7 ";Math.pow(0.3*Math.min(d.height,d.width)/2,2);for(var s=0,t=0,e=0;e<r.length;e++)if(f=r[e].getTime?f=r[e].x.getTime():f=r[e].x,!(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax)&&"number"===
typeof r[e].y){f=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(f-a.axisX.conversionParameters.minimum)+0.5<<0;g=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(r[e].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=p.getMarkerProperties(e,f,g,b);na.drawMarker(u.x,u.y,u.ctx,u.type,u.size,u.color,u.color,u.thickness);if(!p.maxWidthInX||u.size>p.maxWidthInX)p.maxWidthInX=u.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-
1:a.axisX.conversionParameters.pixelPerUnit);Math.sqrt((s-f)*(s-f)+(t-g)*(t-g))<Math.min(u.size,5)||(s=p.dataPointIds[e],this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:e,x1:f,y1:g},s=n(s),D&&na.drawMarker(u.x,u.y,this._eventManager.ghostCtx,u.type,u.size,s,s,u.borderThickness),s=f,t=g)}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};var pa=function(a,b,c,d,e,f,g){a.save();"pie"===e?(a.beginPath(),a.moveTo(b.x,b.y),a.arc(b.x,b.y,c,f,g,!1),a.fillStyle=
d,a.strokeStyle="white",a.lineWidth=2,a.closePath(),a.fill()):"doughnut"===e&&(a.beginPath(),a.arc(b.x,b.y,c,f,g,!1),a.arc(b.x,b.y,0.6*c,g,f,!0),a.closePath(),a.fillStyle=d,a.strokeStyle="white",a.lineWidth=2,a.fill());a.restore()};s.prototype.renderPie=function(a){function b(a){v.frame=0;v.maxFrames=a||1}function c(){if(p&&r){for(var a=0,b=0;b<r.length;b++)a+=Math.abs(r[b].y);for(var d=0,e=0,f=0,h=0,b=0;b<r.length;b++){var g=r[b],k=p.dataPointIds[b],l={id:k,objectType:"dataPoint",dataPointIndex:b,
dataSeriesIndex:0};w.push(l);var m=g.indexLabel?g.indexLabel:p.indexLabel?p.indexLabel:g.label?g.label:p.label?p.label:"";n._eventManager.objectMap[k]=l;l.center={x:B.x,y:B.y};l.y=g.y;l.radius=F;l.indexLabelText=n.replaceKeywordsWithValue(m,g,p,b);l.indexLabelPlacement=p.indexLabelPlacement;l.indexLabelLineColor=g.indexLabelLineColor?g.indexLabelLineColor:p.indexLabelLineColor?p.indexLabelLineColor:g.color?g.color:p._colorSet[b%p._colorSet.length];l.indexLabelLineThickness=g.indexLabelLineThickness?
g.indexLabelLineThickness:p.indexLabelLineThickness;l.indexLabelFontColor=g.indexLabelFontColor?g.indexLabelFontColor:p.indexLabelFontColor;l.indexLabelFontStyle=g.indexLabelFontStyle?g.indexLabelFontStyle:p.indexLabelFontStyle;l.indexLabelFontWeight=g.indexLabelFontWeight?g.indexLabelFontWeight:p.indexLabelFontWeight;l.indexLabelFontSize=g.indexLabelFontSize?g.indexLabelFontSize:p.indexLabelFontSize;l.indexLabelFontFamily=g.indexLabelFontFamily?g.indexLabelFontFamily:p.indexLabelFontFamily;l.indexLabelBackgroundColor=
g.indexLabelBackgroundColor?g.indexLabelBackgroundColor:p.indexLabelBackgroundColor?p.indexLabelBackgroundColor:null;l.indexLabelMaxWidth=g.indexLabelMaxWidth?g.indexLabelMaxWidth:p.indexLabelMaxWidth?p.indexLabelMaxWidth:0.33*t.width;l.indexLabelWrap=g.indexLabelWrap?g.indexLabelWrap:p.indexLabelWrap;l.startAngle=0===b?p.startAngle?p.startAngle/180*Math.PI:0:w[b-1].endAngle;l.startAngle=(l.startAngle+2*Math.PI)%(2*Math.PI);l.endAngle=l.startAngle+2*Math.PI/a*Math.abs(g.y);g=(l.endAngle+l.startAngle)/
2;g=(g+2*Math.PI)%(2*Math.PI);l.midAngle=g;if(l.midAngle>Math.PI/2-z&&l.midAngle<Math.PI/2+z){if(0===d||w[f].midAngle>l.midAngle)f=b;d++}else if(l.midAngle>3*Math.PI/2-z&&l.midAngle<3*Math.PI/2+z){if(0===e||w[h].midAngle>l.midAngle)h=b;e++}l.hemisphere=g>Math.PI/2&&g<=3*Math.PI/2?"left":"right";l.indexLabelTextBlock=new H(n.plotArea.ctx,{fontSize:l.indexLabelFontSize,fontFamily:l.indexLabelFontFamily,fontColor:l.indexLabelFontColor,fontStyle:l.indexLabelFontStyle,fontWeight:l.indexLabelFontWeight,
horizontalAlign:"left",backgroundColor:l.indexLabelBackgroundColor,maxWidth:l.indexLabelMaxWidth,maxHeight:l.indexLabelWrap?5*l.indexLabelFontSize:1.5*l.indexLabelFontSize,text:l.indexLabelText,padding:0,textBaseline:"top"});l.indexLabelTextBlock.measureText()}g=a=0;k=!1;for(b=0;b<r.length;b++)l=w[(f+b)%r.length],1<d&&(l.midAngle>Math.PI/2-z&&l.midAngle<Math.PI/2+z)&&(a<=d/2&&!k?(l.hemisphere="right",a++):(l.hemisphere="left",k=!0));k=!1;for(b=0;b<r.length;b++)l=w[(h+b)%r.length],1<e&&(l.midAngle>
3*Math.PI/2-z&&l.midAngle<3*Math.PI/2+z)&&(g<=e/2&&!k?(l.hemisphere="left",g++):(l.hemisphere="right",k=!0))}}function d(){var a=n.plotArea.ctx;if(null!==v&&v.frame<v.maxFrames){0===v.frame&&(v.prevMaxAngle=w[0].startAngle);a.clearRect(t.x1,t.y1,t.width,t.height);for(var a=v.prevMaxAngle+2*Math.PI/v.maxFrames,c=0;c<r.length;c++){var f=0===c?w[c].startAngle:h,h=f+(w[c].endAngle-w[c].startAngle),g=!1;h>a&&(h=a,g=!0);var k=r[c].color?r[c].color:p._colorSet[c%p._colorSet.length];h>f&&pa(n.plotArea.ctx,
w[c].center,w[c].radius,k,p.type,f,h);if(g)break}v.frame++;v.prevMaxAngle=a;v.frame<v.maxFrames?n.animationRequestId=n.requestAnimFrame.call(window,d):(b(D?15:4),e())}}function e(){var a=n.plotArea.ctx;if(null!==v&&v.frame<v.maxFrames){a.clearRect(t.x1,t.y1,t.width,t.height);for(a=0;a<r.length;a++){var b=w[a].startAngle,c=w[a].endAngle;if(c>b){var d=0.07*F*Math.cos(w[a].midAngle),f=0.07*F*Math.sin(w[a].midAngle),h=!1;if(r[a].exploded){if(Math.abs(w[a].center.x-(B.x+d))>Math.abs(0.5*d/v.maxFrames)||
Math.abs(w[a].center.y-(B.y+f))>Math.abs(0.5*f/v.maxFrames))w[a].center.x+=d/v.maxFrames,w[a].center.y+=f/v.maxFrames,h=!0}else if(Math.abs(w[a].center.x-B.x)>Math.abs(0.5*d/v.maxFrames)||Math.abs(w[a].center.y-B.y)>Math.abs(0.5*f/v.maxFrames))w[a].center.x-=d/v.maxFrames,w[a].center.y-=f/v.maxFrames,h=!0;h&&(d={},d.dataSeries=p,d.dataPoint=p.dataPoints[a],d.index=a,n._toolTip.highlightObjects([d]));pa(n.plotArea.ctx,w[a].center,w[a].radius,r[a].color?r[a].color:p._colorSet[a%p._colorSet.length],
p.type,b,c)}}v.frame++;a=n.plotArea.ctx;a.fillStyle="black";a.strokeStyle="grey";a.textBaseline="middle";a.lineJoin="round";for(b=b=0;b<r.length;b++)c=w[b],c.indexLabelText&&(c.indexLabelTextBlock.y-=c.indexLabelTextBlock.height/2,d=0,d="left"===c.hemisphere?"outside"===p.indexLabelPlacement?-(c.indexLabelTextBlock.width+s):-c.indexLabelTextBlock.width/2:"outside"===p.indexLabelPlacement?s:-c.indexLabelTextBlock.width/2,c.indexLabelTextBlock.x+=d,c.indexLabelTextBlock.render(!0),c.indexLabelTextBlock.x-=
d,c.indexLabelTextBlock.y+=c.indexLabelTextBlock.height/2,"outside"===c.indexLabelPlacement&&(d=c.center.x+F*Math.cos(c.midAngle),f=c.center.y+F*Math.sin(c.midAngle),a.strokeStyle=c.indexLabelLineColor,a.lineWidth=c.indexLabelLineThickness,a.beginPath(),a.moveTo(d,f),a.lineTo(c.indexLabelTextBlock.x,c.indexLabelTextBlock.y),a.lineTo(c.indexLabelTextBlock.x+("left"===c.hemisphere?-s:s),c.indexLabelTextBlock.y),a.stroke()),a.lineJoin="miter");v.frame<v.maxFrames&&(n.animationRequestId=n.requestAnimFrame.call(window,
e))}}function f(a,b){var c=a.indexLabelTextBlock.x,d=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,e=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,h=b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,g=b.indexLabelTextBlock.x+b.indexLabelTextBlock.width,k=b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2;return a.indexLabelTextBlock.x+a.indexLabelTextBlock.width<b.indexLabelTextBlock.x-s||c>g+s||d>k+s||e<h-s?!1:!0}function g(a,b){var c=0,c=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/
2,d=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,e=b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,f=b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2;return c=b.indexLabelTextBlock.y>a.indexLabelTextBlock.y?e-d:c-f}function k(a){for(var b=null,c=1;c<r.length;c++)if(b=(a+c+w.length)%w.length,w[b].hemisphere!==w[a].hemisphere){b=null;break}else if(w[b].indexLabelText&&b!==a&&(0>g(w[b],w[a])||("right"===w[a].hemisphere?w[b].indexLabelTextBlock.y>=w[a].indexLabelTextBlock.y:w[b].indexLabelTextBlock.y<=
w[a].indexLabelTextBlock.y)))break;else b=null;return b}function l(a,b){b=b||0;var c=0,d=B.y-1*I,e=B.y+1*I;if(0<=a&&a<r.length){var f=w[a];if(0>b&&f.indexLabelTextBlock.y<d||0<b&&f.indexLabelTextBlock.y>e)return 0;var h=b,m=0,q=0,q=m=m=0;0>h?f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2>d&&f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2+h<d&&(h=-(d-(f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2+h))):f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2<d&&f.indexLabelTextBlock.y+
f.indexLabelTextBlock.height/2+h>e&&(h=f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2+h-e);h=f.indexLabelTextBlock.y+h;d=0;d="right"===f.hemisphere?B.x+Math.sqrt(Math.pow(I,2)-Math.pow(h-B.y,2)):B.x-Math.sqrt(Math.pow(I,2)-Math.pow(h-B.y,2));q=B.x+F*Math.cos(f.midAngle);m=B.y+F*Math.sin(f.midAngle);m=Math.sqrt(Math.pow(d-q,2)+Math.pow(h-m,2));q=Math.acos(F/I);m=Math.acos((I*I+F*F-m*m)/(2*F*I));h=m<q?h-f.indexLabelTextBlock.y:0;d=null;for(e=1;e<r.length;e++)if(d=(a-e+w.length)%w.length,w[d].hemisphere!==
w[a].hemisphere){d=null;break}else if(w[d].indexLabelText&&w[d].hemisphere===w[a].hemisphere&&d!==a&&(0>g(w[d],w[a])||("right"===w[a].hemisphere?w[d].indexLabelTextBlock.y<=w[a].indexLabelTextBlock.y:w[d].indexLabelTextBlock.y>=w[a].indexLabelTextBlock.y)))break;else d=null;q=d;m=k(a);e=d=0;0>h?(e="right"===f.hemisphere?q:m,c=h,null!==e&&(q=-h,h=f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2-(w[e].indexLabelTextBlock.y+w[e].indexLabelTextBlock.height/2),h-q<x&&(d=-q,u++,e=l(e,d),+e.toFixed(C)>
+d.toFixed(C)&&(c=h>x?-(h-x):-(q-(e-d)))))):0<h&&(e="right"===f.hemisphere?m:q,c=h,null!==e&&(q=h,h=w[e].indexLabelTextBlock.y-w[e].indexLabelTextBlock.height/2-(f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2),h-q<x&&(d=q,u++,e=l(e,d),+e.toFixed(C)<+d.toFixed(C)&&(c=h>x?h-x:q-(d-e)))));c&&(h=f.indexLabelTextBlock.y+c,d=0,d="right"===f.hemisphere?B.x+Math.sqrt(Math.pow(I,2)-Math.pow(h-B.y,2)):B.x-Math.sqrt(Math.pow(I,2)-Math.pow(h-B.y,2)),f.midAngle>Math.PI/2-z&&f.midAngle<Math.PI/2+z?(e=(a-
1+w.length)%w.length,e=w[e],q=w[(a+1+w.length)%w.length],"left"===f.hemisphere&&"right"===e.hemisphere&&d>e.indexLabelTextBlock.x?d=e.indexLabelTextBlock.x-15:"right"===f.hemisphere&&("left"===q.hemisphere&&d<q.indexLabelTextBlock.x)&&(d=q.indexLabelTextBlock.x+15)):f.midAngle>3*Math.PI/2-z&&f.midAngle<3*Math.PI/2+z&&(e=(a-1+w.length)%w.length,e=w[e],q=w[(a+1+w.length)%w.length],"right"===f.hemisphere&&"left"===e.hemisphere&&d<e.indexLabelTextBlock.x?d=e.indexLabelTextBlock.x+15:"left"===f.hemisphere&&
("right"===q.hemisphere&&d>q.indexLabelTextBlock.x)&&(d=q.indexLabelTextBlock.x-15)),f.indexLabelTextBlock.y=h,f.indexLabelTextBlock.x=d,f.indexLabelAngle=Math.atan2(f.indexLabelTextBlock.y-B.y,f.indexLabelTextBlock.x-B.x))}return c}function m(){var a=n.plotArea.ctx;a.fillStyle="grey";a.strokeStyle="grey";a.font="16px Arial";a.textBaseline="middle";for(var c=0,e=a=0,a=0;10>a&&(1>a||0<e);a++){F-=e;e=0;if("outside"===p.indexLabelPlacement){I=F*y;for(c=0;c<r.length;c++){var h=w[c];h.indexLabelTextBlock.x=
B.x+I*Math.cos(h.midAngle);h.indexLabelTextBlock.y=B.y+I*Math.sin(h.midAngle);h.indexLabelAngle=h.midAngle;h.radius=F}for(var q,u,c=0;c<r.length;c++){var h=w[c],v=k(c);if(null!==v){q=w[c];u=w[v];var G=0,G=g(q,u)-x;if(0>G){for(var z=u=q=0;z<r.length;z++)z!==c&&w[z].hemisphere===h.hemisphere&&(w[z].indexLabelTextBlock.y<h.indexLabelTextBlock.y?q++:u++);z=G/(q+u||1)*u;q=-1*(G-z);var H=u=0;"right"===h.hemisphere?(u=l(c,z),q=-1*(G-u),H=l(v,q),+H.toFixed(C)<+q.toFixed(C)&&+u.toFixed(C)<=+z.toFixed(C)&&
l(c,-(q-H))):(u=l(v,z),q=-1*(G-u),H=l(c,q),+H.toFixed(C)<+q.toFixed(C)&&+u.toFixed(C)<=+z.toFixed(C)&&l(v,-(q-H)))}}}}else for(c=0;c<r.length;c++)h=w[c],I="pie"===p.type?0.7*F:0.8*F,G=B.x+I*Math.cos(h.midAngle),z=B.y+I*Math.sin(h.midAngle),h.indexLabelTextBlock.x=G,h.indexLabelTextBlock.y=z;for(c=0;c<r.length;c++)if(h=w[c],G=h.indexLabelTextBlock.measureText(),!(0===G.height||0===G.width)){G=G=0;"right"===h.hemisphere?(G=t.x2-(h.indexLabelTextBlock.x+h.indexLabelTextBlock.width+s),G*=-1):G=t.x1-(h.indexLabelTextBlock.x-
h.indexLabelTextBlock.width-s);if(0<G&&(Math.abs(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-B.y)<F||Math.abs(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2-B.y)<F))G/=Math.abs(Math.cos(h.indexLabelAngle)),9<G&&(G*=0.3),G>e&&(e=G);G=G=0;0<h.indexLabelAngle&&h.indexLabelAngle<Math.PI?(G=t.y2-(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+5),G*=-1):G=t.y1-(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-5);0<G&&Math.abs(h.indexLabelTextBlock.x-B.x)<F&&(G/=Math.abs(Math.sin(h.indexLabelAngle)),
9<G&&(G*=0.3),G>e&&(e=G))}c=function(a,b,c){for(var d=[],e=0;!(d.push(w[b]),b===c);b=(b+1+r.length)%r.length);d.sort(function(a,b){return a.y-b.y});for(b=0;b<d.length;b++)if(c=d[b],e<a)e+=c.indexLabelTextBlock.height,c.indexLabelTextBlock.text="",c.indexLabelText="",c.indexLabelTextBlock.measureText();else break};v=h=-1;for(z=H=0;z<r.length;z++)if(q=w[z],q.indexLabelText){var J=k(z);null!==J&&(u=w[J],G=0,G=g(q,u),0>G&&f(q,u)?(0>h&&(h=z),J!==h&&(v=J),H+=-G):0<H&&(c(H,h,v),v=h=-1,H=0))}0<H&&c(H,h,v)}b(n.animationEnabled&&
0===n.renderCount?D?60:30:1);d()}var n=this;if(!(0>=a.dataSeriesIndexes.length)){var p=this.data[a.dataSeriesIndexes[0]],r=p.dataPoints,s=10,t=this.plotArea,u=0,v={frame:0,maxFrames:1},w=[],x=2,y=1.3,z=20/180*Math.PI,C=6,B={x:(t.x2+t.x1)/2,y:(t.y2+t.y1)/2},F="inside"===p.indexLabelPlacement?0.95*Math.min(t.width,t.height)/2:0.8*Math.min(t.width,t.height)/2,I=F*y;this.pieDoughnutClickHandler=function(a){v.frame===v.maxFrames&&(a=a.dataPoint,a.exploded=a.exploded?!1:!0,b(D?15:4),1<this.dataPoints.length&&
e())};c();m()}};s.prototype.animationRequestId=null;s.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();s.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||
clearTimeout;F.prototype.registerSpace=function(a,b){"top"===a?this._topOccupied+=b.height:"bottom"===a?this._bottomOccupied+=b.height:"left"===a?this._leftOccupied+=b.width:"right"===a&&(this._rightOccupied+=b.width)};F.prototype.unRegisterSpace=function(a,b){"top"===a?this._topOccupied-=b.height:"bottom"===a?this._bottomOccupied-=b.height:"left"===a?this._leftOccupied-=b.width:"right"===a&&(this._rightOccupied-=b.width)};F.prototype.getFreeSpace=function(){return{x1:this._leftOccupied,y1:this._topOccupied,
x2:this.chart.width-this._rightOccupied,y2:this.chart.height-this._bottomOccupied,width:this.chart.width-this._rightOccupied-this._leftOccupied,height:this.chart.height-this._bottomOccupied-this._topOccupied}};F.prototype.reset=function(){this._topOccupied=0;this._bottomOccupied=3;this._rightOccupied=this._leftOccupied=0};c(H,z);H.prototype.render=function(a){a&&this.ctx.save();var b=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var c=0;this._isDirty&&this.measureText(this.ctx);this.ctx.translate(this.x,
this.y+c);"middle"===this.textBaseline&&(c=-this._lineHeight/2);this.ctx.font=this._getFontString();this.ctx.rotate(Math.PI/180*this.angle);var d=0,e=this.padding,f=null;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,c,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);this.ctx.fillStyle=this.fontColor;for(c=0;c<this._wrappedText.lines.length;c++)f=this._wrappedText.lines[c],"right"===this.horizontalAlign?d=
this.width-f.width-this.padding:"left"===this.horizontalAlign?d=this.padding:"center"===this.horizontalAlign&&(d=(this.width-2*this.padding)/2-f.width/2+this.padding),this.ctx.fillText(f.text,d,e),e+=f.height;this.ctx.font=b;a&&this.ctx.restore()};H.prototype.setText=function(a){this.text=a;this._isDirty=!0;this._wrappedText=null};H.prototype.measureText=function(){if(null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";this._wrapText(this.ctx);this._isDirty=!1;return{width:this.width,
height:this.height}};H.prototype._getLineWithWidth=function(a,b,c){a=String(a);if(!a)return{text:"",width:0};var d=c=0,e=a.length-1,f=Infinity;for(this.ctx.font=this._getFontString();d<=e;){var f=Math.floor((d+e)/2),g=a.substr(0,f+1);c=this.ctx.measureText(g).width;if(c<b)d=f+1;else if(c>b)e=f-1;else break}c>b&&1<g.length&&(g=g.substr(0,g.length-1),c=this.ctx.measureText(g).width);b=!0;if(g.length===a.length||" "===a[g.length])b=!1;b&&(a=g.split(" "),1<a.length&&a.pop(),g=a.join(" "),c=this.ctx.measureText(g).width);
return{text:g,width:c}};H.prototype._wrapText=function(){var a=new String(k(this.text)),b=[],c=this.ctx.font,d=0,e=0;for(this.ctx.font=this._getFontString();0<a.length;){var f=this.maxHeight-2*this.padding,g=this._getLineWithWidth(a,this.maxWidth-2*this.padding,!1);g.height=this._lineHeight;b.push(g);e=Math.max(e,g.width);d+=g.height;a=k(a.slice(g.text.length,a.length));f&&d>f&&(g=b.pop(),d-=g.height)}this._wrappedText={lines:b,width:e,height:d};this.width=e+2*this.padding;this.height=d+2*this.padding;
this.ctx.font=c};H.prototype._getFontString=function(){return t("",this,null)};c(y,z);y.prototype.render=function(){if(this.text){var a=this.chart.layoutManager.getFreeSpace(),b=0,c=0,d=0,e=0,f=0,g,k;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(e=a.width-2*this.margin,f=0.5*a.height-2*this.margin,d=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(e=a.height-2*this.margin,f=0.5*a.width-2*this.margin):"center"===this.horizontalAlign&&(e=
a.width-2*this.margin,f=0.5*a.height-2*this.margin));var f=new H(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:e,maxHeight:f,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"}),l=f.measureText();
"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(c=this.margin,k="top"):"bottom"===this.verticalAlign&&(c=a.y2-this.margin-l.height,k="bottom"),"left"===this.horizontalAlign?b=a.x1+this.margin:"center"===this.horizontalAlign?b=a.x1+(e/2-l.width/2)+this.margin:"right"===this.horizontalAlign&&(b=a.x2-this.margin-l.width),g=this.horizontalAlign,this.width=l.width,this.height=l.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(b=a.x1+this.margin,
c=a.y2-this.margin-(e/2-l.width/2),d=-90,k="left",this.width=l.height,this.height=l.width):"right"===this.horizontalAlign?(b=a.x2-this.margin,c=a.y1+this.margin+(e/2-l.width/2),d=90,k="right",this.width=l.height,this.height=l.width):"center"===this.horizontalAlign&&(c=a.y1+(a.height/2-l.height/2),b=a.x1+(a.width/2-l.width/2),k="center",this.width=l.width,this.height=l.height),g="center");f.x=b;f.y=c;f.angle=d;f.horizontalAlign=g;f.render(!0);this.chart.layoutManager.registerSpace(k,{width:this.width+
2*this.margin,height:this.height+2*this.margin});this.bounds={x1:b,y1:c,x2:b+this.width,y2:c+this.height};this.ctx.textBaseline="top"}};c(I,z);I.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace(),b=null,c=0,d=0,e=0,f=0,g=[],k=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",b=this.verticalAlign,e=0.9*a.width,f=0.5*a.height):"center"===this.verticalAlign&&(this.orientation="vertical",b=this.horizontalAlign,e=0.5*a.width,f=0.9*a.height);
for(var l=0;l<this.dataSeries.length;l++){var m=this.dataSeries[l],p=m.legendMarkerType?m.legendMarkerType:("line"===m.type||"stepLine"===m.type||"spline"===m.type||"scatter"===m.type||"bubble"===m.type)&&m.markerType?m.markerType:J.getDefaultLegendMarker(m.type),r=m.legendText?m.legendText:m.name,s=m.legendMarkerColor?m.legendMarkerColor:m.markerColor?m.markerColor:m._colorSet[0],t=!m.markerSize&&("line"===m.type||"stepLine"===m.type||"spline"===m.type)?0:0.6*this.lineHeight;if("pie"!==m.type&&"doughnut"!==
m.type)p={markerType:p,markerColor:s,text:r,textBlock:null,chartType:m.type,markerSize:t,lineColor:m._colorSet[0],dataSeriesIndex:l,dataPointIndex:null},g.push(p);else for(var u=0;u<m.dataPoints.length;u++)t=m.dataPoints[u],p=t.legendMarkerType?t.legendMarkerType:m.legendMarkerType?m.legendMarkerType:J.getDefaultLegendMarker(m.type),r=t.legendText?t.legendText:m.legendText?m.legendText:t.name?t.name:"DataPoint: "+(u+1),s=t.markerColor?t.markerColor:m.markerColor?m.markerColor:t.color?t.color:m.color?
m.color:m._colorSet[u%m._colorSet.length],t=(0===t.markerSize||0===m.markerSize&&!t.markerSize)&&("line"===m.type||"stepLine"===m.type||"spline"===m.type)?0:0.6*this.lineHeight,p={markerType:p,markerColor:s,text:r,textBlock:null,chartType:m.type,markerSize:t,dataSeriesIndex:l,dataPointIndex:u},g.push(p)}if(0<g.length){m=null;for(l=u=0;l<g.length;l++){p=g[l];if("horizontal"===this.orientation){p.textBlock=new H(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:this.lineHeight,angle:0,text:p.text,horizontalAlign:"left",
fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"});p.textBlock.measureText();if(!m||m.width+p.textBlock.width+(0===m.width?0:this.horizontalSpacing)>e)m={items:[],width:0},k.push(m),this.height=k.length*(p.textBlock.height+5);p.textBlock.x=m.width;p.textBlock.y=0;m.width+=Math.round(p.textBlock.width+p.textBlock._lineHeight+(0===m.width?0:0.5*p.textBlock._lineHeight))}else this.height+this.lineHeight<
f?(m={items:[],width:0},k.push(m),this.height=k.length*this.lineHeight):(m=k[u],u=(u+1)%k.length),p.textBlock=new H(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:1.5*this.fontSize,angle:0,text:p.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),p.textBlock.measureText(),p.textBlock.x=m.width,p.textBlock.y=0,m.width+=p.textBlock.width+p.textBlock._lineHeight+(0===m.width?0:0.5*p.textBlock._lineHeight);
m.items.push(p);this.width=Math.max(m.width,this.width)}this.height=k.length*this.lineHeight}"top"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y1):"center"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y1+a.height/2-this.height/2):"bottom"===this.verticalAlign&&(d="left"===this.horizontalAlign?a.x1+2:"right"===
this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y2-this.height-5);this.items=g;for(l=0;l<this.items.length;l++)p=g[l],p.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[p.id]={id:p.id,objectType:"legendItem",legendItemIndex:l,dataSeriesIndex:p.dataSeriesIndex,dataPointIndex:p.dataPointIndex};for(l=0;l<k.length;l++){m=k[l];for(a=0;a<m.items.length;a++){p=m.items[a];f=p.textBlock.x+d+(0===a?0.2*t:0.4*this.lineHeight+0.2*t);g=c+l*this.lineHeight;e=
f;this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=0.5);if("line"===p.chartType||"stepLine"===p.chartType||"spline"===p.chartType)this.ctx.strokeStyle=p.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(f-0.1*this.lineHeight,g+this.lineHeight/2),this.ctx.lineTo(f+0.7*this.lineHeight,g+this.lineHeight/2),this.ctx.stroke(),e-=0.1*this.lineHeight;na.drawMarker(f+t/2,g+this.lineHeight/2,this.ctx,p.markerType,t,p.markerColor,null,0);p.textBlock.x=
f+Math.round(0.9*this.lineHeight);p.textBlock.y=g;p.textBlock.render(!0);this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=1);f=n(p.id);this.ghostCtx.fillStyle=f;this.ghostCtx.beginPath();this.ghostCtx.fillRect(e,p.textBlock.y,p.textBlock.x+p.textBlock.width-e,p.textBlock.height);p.x1=this.chart._eventManager.objectMap[p.id].x1=e;p.y1=this.chart._eventManager.objectMap[p.id].y1=p.textBlock.y;p.x2=this.chart._eventManager.objectMap[p.id].x2=p.textBlock.x+p.textBlock.width;p.y2=this.chart._eventManager.objectMap[p.id].y2=
p.textBlock.y+p.textBlock.height}}this.chart.layoutManager.registerSpace(b,{width:this.width+2+2,height:this.height+5+5});this.bounds={x1:d,y1:c,x2:d+this.width,y2:c+this.height}};c(L,z);L.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red";this.ctx.fillRect(a.x1,a.y1,a.x2,a.y2)};c(J,z);J.prototype.getDefaultAxisPlacement=function(){var a=this.type;if("column"===a||"line"===a||"stepLine"===a||"spline"===a||"area"===a||"stepArea"===a||"splineArea"===a||
"stackedColumn"===a||"stackedLine"===a||"bubble"===a||"scatter"===a||"stackedArea"===a||"stackedColumn100"===a||"stackedLine100"===a||"stackedArea100"===a)return"normal";if("bar"===a||"stackedBar"===a||"stackedBar100"===a)return"xySwapped";if("pie"===a||"doughnut"===a)return"none";window.console.log("Unknown Chart Type: "+a);return null};J.getDefaultLegendMarker=function(a){if("column"===a||"stackedColumn"===a||"stackedLine"===a||"bar"===a||"stackedBar"===a||"stackedBar100"===a||"bubble"===a||"scatter"===
a||"stackedColumn100"===a||"stackedLine100"===a||"stepArea"===a)return"square";if("line"===a||"stepLine"===a||"spline"===a||"pie"===a||"doughnut"===a)return"circle";if("area"===a||"splineArea"===a||"stackedArea"===a||"stackedArea100"===a)return"triangle";window.console.log("Unknown Chart Type: "+a);return null};J.prototype.getDataPointAtX=function(a,b){if(!this.dataPoints||0===this.dataPoints.length)return null;var c={dataPoint:null,distance:Infinity,index:NaN},d=null,e=0,f=0,g=1,k=Infinity,l=0,m=
0,n=0;"none"!==this.chart.plotInfo.axisPlacement&&(n=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,n=0<n?(this.dataPoints.length-1)/n*(a-this.dataPoints[0].x)>>0:0);for(;;){f=0<g?n+e:n-e;if(0<=f&&f<this.dataPoints.length){var d=this.dataPoints[f],p=Math.abs(d.x-a);p<c.distance&&(c.dataPoint=d,c.distance=p,c.index=f);d=Math.abs(d.x-a);d<=k?k=d:0<g?l++:m++;if(1E3<l&&1E3<m)break}else if(0>n-e&&n+e>=this.dataPoints.length)break;-1===g?(e++,g=1):g=-1}return!b&&c.dataPoint.x===a?c:b&&
null!==c.dataPoint?c:null};J.prototype.getDataPointAtXY=function(a,b,c){if(!this.dataPoints||0===this.dataPoints.length)return null;c=c||!1;var d=[],e=0,f=0,g=1,k=!1,l=Infinity,m=0,n=0,p=0;"none"!==this.chart.plotInfo.axisPlacement&&(p=this.chart.axisX.getXValueAt({x:a,y:b}),f=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,p=0<f?(this.dataPoints.length-1)/f*(p-this.dataPoints[0].x)>>0:0);for(;;){f=0<g?p+e:p-e;if(0<=f&&f<this.dataPoints.length){var r=this.chart._eventManager.objectMap[this.dataPointIds[f]],
s=this.dataPoints[f];if(r){switch(this.type){case "column":case "stackedColumn":case "stackedColumn100":case "bar":case "stackedBar":case "stackedBar100":a>=r.x1&&(a<=r.x2&&b>=r.y1&&b<=r.y2)&&(d.push({dataPoint:s,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(r.x1-a),Math.abs(r.x2-a),Math.abs(r.y1-b),Math.abs(r.y2-b))}),k=!0);break;case "line":case "stepLine":case "spline":case "area":case "stepArea":case "stackedArea":case "stackedArea100":case "splineArea":case "scatter":var t=v("markerSize",
s,this)||4,u=c?20:t,w=Math.sqrt(Math.pow(r.x1-a,2)+Math.pow(r.y1-b,2));w<=u&&d.push({dataPoint:s,dataPointIndex:f,dataSeries:this,distance:w});f=Math.abs(r.x1-a);f<=l?l=f:0<g?m++:n++;w<=t/2&&(k=!0);break;case "bubble":t=r.size;w=Math.sqrt(Math.pow(r.x1-a,2)+Math.pow(r.y1-b,2));w<=t/2&&(d.push({dataPoint:s,dataPointIndex:f,dataSeries:this,distance:w}),k=!0);break;case "pie":case "doughnut":t=r.center,u="doughnut"===this.type?0.6*r.radius:0,w=Math.sqrt(Math.pow(t.x-a,2)+Math.pow(t.y-b,2)),w<r.radius&&
w>u&&(w=Math.atan2(b-t.y,a-t.x),0>w&&(w+=2*Math.PI),w=(180*(w/Math.PI)%360+360)%360,t=(180*(r.startAngle/Math.PI)%360+360)%360,u=(180*(r.endAngle/Math.PI)%360+360)%360,0===u&&1<r.endAngle&&(u=360),t>u&&(u+=360,w<t&&(w+=360)),w>t&&w<u&&(d.push({dataPoint:s,dataPointIndex:f,dataSeries:this,distance:0}),k=!0))}if(k||1E3<m&&1E3<n)break}}else if(0>p-e&&p+e>=this.dataPoints.length)break;-1===g?(e++,g=1):g=-1}a=null;for(b=0;b<d.length;b++)a?d[b].distance<=a.distance&&(a=d[b]):a=d[b];return a};J.prototype.getMarkerProperties=
function(a,b,c,d){var e=this.dataPoints;return{x:b,y:c,ctx:d,type:e[a].markerType?e[a].markerType:this.markerType,size:e[a].markerSize?e[a].markerSize:this.markerSize,color:e[a].markerColor?e[a].markerColor:this.markerColor?this.markerColor:e[a].color?e[a].color:this.color?this.color:this._colorSet[a%this._colorSet.length],borderColor:e[a].markerBorderColor?e[a].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:e[a].markerBorderThickness?e[a].markerBorderThickness:
this.markerBorderThickness?this.markerBorderThickness:null}};c(x,z);x.prototype.createLabels=function(){var a,b=0,c,d=0,e=0,b=0;if("bottom"===this._position||"top"===this._position)b=this.lineCoordinates.width/Math.abs(this.maximum-this.minimum)*this.interval,d=this.labelAutoFit?"undefined"===typeof this._options.labelMaxWidth?0.9*b>>0:this.labelMaxWidth:"undefined"===typeof this._options.labelMaxWidth?0.7*this.chart.width>>0:this.labelMaxWidth,e="undefined"===typeof this._options.labelWrap||this.labelWrap?
0.5*this.chart.height>>0:1.5*this.labelFontSize;else if("left"===this._position||"right"===this._position)b=this.lineCoordinates.height/Math.abs(this.maximum-this.minimum)*this.interval,d=this.labelAutoFit?"undefined"===typeof this._options.labelMaxWidth?0.3*this.chart.width>>0:this.labelMaxWidth:"undefined"===typeof this._options.labelMaxWidth?0.5*this.chart.width>>0:this.labelMaxWidth,e="undefined"===typeof this._options.labelWrap||this.labelWrap?2*b>>0:1.5*this.labelFontSize;if("axisX"===this.type&&
"dateTime"===this.chart.plotInfo.axisXValueType){c=f(new Date(this.maximum),this.interval,this.intervalType);for(b=this.intervalStartPosition;b<c;f(b,this.interval,this.intervalType))a="axisX"===this.type&&this.labels[b]?this.labels[b]:P(b,this.valueFormatString,this.chart._cultureInfo),a=new H(this.ctx,{x:0,y:0,maxWidth:d,maxHeight:e,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,
fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:b.getTime(),textBlock:a,effectiveHeight:null})}else{c=this.maximum;if(this.labels&&this.labels.length){a=Math.ceil(this.interval);for(var g=Math.ceil(this.intervalStartPosition),k=!1,b=g;b<this.maximum;b+=a)if(this.labels[b])k=!0;else{k=!1;break}k&&(this.interval=a,this.intervalStartPosition=g)}for(b=this.intervalStartPosition;b<=c;b+=this.interval)a="axisX"===this.type&&this.labels[b]?
this.labels[b]:ha(b,this.valueFormatString,this.chart._cultureInfo),a=new H(this.ctx,{x:0,y:0,maxWidth:d,maxHeight:e,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:b,textBlock:a,effectiveHeight:null})}for(b=0;b<this.stripLines.length;b++)c=this.stripLines[b],
a=new H(this.ctx,{x:0,y:0,backgroundColor:c.labelBackgroundColor,maxWidth:d,maxHeight:e,angle:this.labelAngle,text:c.label,horizontalAlign:"left",fontSize:c.labelFontSize,fontFamily:c.labelFontFamily,fontWeight:c.labelFontWeight,fontColor:c.labelFontColor,fontStyle:c.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:c.value,textBlock:a,effectiveHeight:null,stripLine:c})};x.prototype.createLabelsAndCalculateWidth=function(){var a=0;this._labels=[];if("left"===this._position||
"right"===this._position){this.createLabels();for(i=0;i<this._labels.length;i++){var b=this._labels[i].textBlock.measureText(),c=0,c=0===this.labelAngle?b.width:b.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+b.height/2*Math.sin(Math.PI/180*Math.abs(this.labelAngle));a<c&&(a=c);this._labels[i].effectiveWidth=c}}return(this.title?p(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0)+a+this.tickLength+5};x.prototype.createLabelsAndCalculateHeight=function(){var a=0;this._labels=
[];var b,c=0;this.createLabels();if("bottom"===this._position||"top"===this._position)for(c=0;c<this._labels.length;c++){b=this._labels[c].textBlock;b=b.measureText();var d=0,d=0===this.labelAngle?b.height:b.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+b.height/2*Math.cos(Math.PI/180*Math.abs(this.labelAngle));a<d&&(a=d);this._labels[c].effectiveHeight=d}return(this.title?p(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0)+a+this.tickLength+5};x.setLayoutAndRender=function(a,
b,c,d,e){var f,g,k,l=a.chart,m=l.ctx;a.calculateAxisParameters();b&&b.calculateAxisParameters();c&&c.calculateAxisParameters();if(b&&c&&"undefined"===typeof b._options.maximum&&"undefined"===typeof b._options.minimum&&"undefined"===typeof b._options.interval&&"undefined"===typeof c._options.maximum&&"undefined"===typeof c._options.minimum&&"undefined"===typeof c._options.interval){k=(b.maximum-b.minimum)/b.interval;var n=(c.maximum-c.minimum)/c.interval;k>n?c.maximum=c.interval*k+c.minimum:n>k&&(b.maximum=
b.interval*n+b.minimum)}n=b?b.margin:0;if("normal"===d){a.lineCoordinates={};var p=Math.ceil(b?b.createLabelsAndCalculateWidth():0);f=Math.round(e.x1+p+n);a.lineCoordinates.x1=f;n=Math.ceil(c?c.createLabelsAndCalculateWidth():0);g=Math.round(e.x2-n>a.chart.width-10?a.chart.width-10:e.x2-n);a.lineCoordinates.x2=g;a.lineCoordinates.width=Math.abs(g-f);var r=Math.ceil(a.createLabelsAndCalculateHeight());d=Math.round(e.y2-r-a.margin);k=Math.round(e.y2-a.margin);a.lineCoordinates.y1=d;a.lineCoordinates.y2=
d;a.boundingRect={x1:f,y1:d,x2:g,y2:k,width:g-f,height:k-d};b&&(f=Math.round(e.x1+b.margin),d=Math.round(10>e.y1?10:e.y1),g=Math.round(e.x1+p+b.margin),k=Math.round(e.y2-r-a.margin),b.lineCoordinates={x1:g,y1:d,x2:g,y2:k,height:Math.abs(k-d)},b.boundingRect={x1:f,y1:d,x2:g,y2:k,width:g-f,height:k-d});c&&(f=Math.round(a.lineCoordinates.x2),d=Math.round(10>e.y1?10:e.y1),g=Math.round(f+n+c.margin),k=Math.round(e.y2-r-a.margin),c.lineCoordinates={x1:f,y1:d,x2:f,y2:k,height:Math.abs(k-d)},c.boundingRect=
{x1:f,y1:d,x2:g,y2:k,width:g-f,height:k-d});a.calculateValueToPixelconversionParameters();b&&b.calculateValueToPixelconversionParameters();c&&c.calculateValueToPixelconversionParameters();m.save();m.rect(a.boundingRect.x1-40,a.boundingRect.y1,a.boundingRect.width+80,a.boundingRect.height);m.clip();a.renderLabelsTicksAndTitle();m.restore();b&&b.renderLabelsTicksAndTitle();c&&c.renderLabelsTicksAndTitle()}else{p=Math.ceil(a.createLabelsAndCalculateWidth());b&&(b.lineCoordinates={},f=Math.round(e.x1+
p+a.margin),g=Math.round(e.x2>b.chart.width-10?b.chart.width-10:e.x2),b.lineCoordinates.x1=f,b.lineCoordinates.x2=g,b.lineCoordinates.width=Math.abs(g-f));c&&(c.lineCoordinates={},f=Math.round(e.x1+p+a.margin),g=Math.round(e.x2>c.chart.width-10?c.chart.width-10:e.x2),c.lineCoordinates.x1=f,c.lineCoordinates.x2=g,c.lineCoordinates.width=Math.abs(g-f));var r=Math.ceil(b?b.createLabelsAndCalculateHeight():0),t=Math.ceil(c?c.createLabelsAndCalculateHeight():0);b&&(d=Math.round(e.y2-r-b.margin),k=Math.round(e.y2-
n>b.chart.height-10?b.chart.height-10:e.y2-n),b.lineCoordinates.y1=d,b.lineCoordinates.y2=d,b.boundingRect={x1:f,y1:d,x2:g,y2:k,width:g-f,height:r});c&&(d=Math.round(e.y1+c.margin),k=e.y1+c.margin+t,c.lineCoordinates.y1=k,c.lineCoordinates.y2=k,c.boundingRect={x1:f,y1:d,x2:g,y2:k,width:g-f,height:t});f=Math.round(e.x1+a.margin);d=Math.round(c?c.lineCoordinates.y2:10>e.y1?10:e.y1);g=Math.round(e.x1+p+a.margin);k=Math.round(b?b.lineCoordinates.y1:e.y2-n>a.chart.height-10?a.chart.height-10:e.y2-n);a.lineCoordinates=
{x1:g,y1:d,x2:g,y2:k,height:Math.abs(k-d)};a.boundingRect={x1:f,y1:d,x2:g,y2:k,width:g-f,height:k-d};a.calculateValueToPixelconversionParameters();b&&b.calculateValueToPixelconversionParameters();c&&c.calculateValueToPixelconversionParameters();b&&b.renderLabelsTicksAndTitle();c&&c.renderLabelsTicksAndTitle();a.renderLabelsTicksAndTitle()}l.preparePlotArea();e=a.chart.plotArea;m.save();m.rect(e.x1,e.y1,Math.abs(e.x2-e.x1),Math.abs(e.y2-e.y1));m.clip();a.renderStripLinesOfThicknessType("value");b&&
b.renderStripLinesOfThicknessType("value");c&&c.renderStripLinesOfThicknessType("value");a.renderInterlacedColors();b&&b.renderInterlacedColors();c&&c.renderInterlacedColors();m.restore();a.renderGrid();b&&b.renderGrid();c&&c.renderGrid();a.renderAxisLine();b&&b.renderAxisLine();c&&c.renderAxisLine();a.renderStripLinesOfThicknessType("pixel");b&&b.renderStripLinesOfThicknessType("pixel");c&&c.renderStripLinesOfThicknessType("pixel")};x.prototype.renderLabelsTicksAndTitle=function(){var a=!1,b=0,c=
1,d=0;0!==this.labelAngle&&360!==this.labelAngle&&(c=1.2);if("undefined"===typeof this._options.interval){if("bottom"===this._position||"top"===this._position){for(e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||f.stripLine||(f=f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+f.textBlock.height*Math.sin(Math.PI/180*this.labelAngle),b+=f);b>this.lineCoordinates.width*c&&(a=!0)}if("left"===this._position||"right"===this._position){for(e=0;e<this._labels.length;e++)f=
this._labels[e],f.position<this.minimum||f.stripLine||(f=f.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b+=f);b>this.lineCoordinates.height*c&&(a=!0)}}if("bottom"===this._position){for(var e=0,f,e=0;e<this._labels.length;e++)if(f=this._labels[e],!(f.position<this.minimum||f.position>this.maximum)){b=this.getPixelCoordinatesOnAxis(f.position);if(this.tickThickness&&!this._labels[e].stripLine||this._labels[e].stripLine&&"pixel"===this._labels[e].stripLine._thicknessType)this._labels[e].stripLine?
(c=this._labels[e].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.x<<0)+0.5:b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,b.y<<0),this.ctx.lineTo(c,b.y+this.tickLength<<0),this.ctx.stroke();if(!a||0===d++%2||this._labels[e].stripLine)0===f.textBlock.angle?(b.x-=f.textBlock.width/2,b.y+=this.tickLength+f.textBlock.fontSize/2):(b.x-=0>this.labelAngle?f.textBlock.width*Math.cos(Math.PI/
180*this.labelAngle):0,b.y+=this.tickLength+Math.abs(0>this.labelAngle?f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),f.textBlock.x=b.x,f.textBlock.y=b.y,f.textBlock.render(!0)}this.title&&(this._titleTextBlock=new H(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y2-this.titleFontSize-5,maxWidth:this.lineCoordinates.width,maxHeight:1.5*this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,
fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.boundingRect.y2-this._titleTextBlock.height-2,this._titleTextBlock.render(!0))}else if("top"===this._position){for(e=0;e<this._labels.length;e++)if(f=this._labels[e],!(f.position<this.minimum||f.position>this.maximum)){b=this.getPixelCoordinatesOnAxis(f.position);
if(this.tickThickness&&!this._labels[e].stripLine||this._labels[e].stripLine&&"pixel"===this._labels[e].stripLine._thicknessType)this._labels[e].stripLine?(c=this._labels[e].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.x<<0)+0.5:b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,b.y<<0),this.ctx.lineTo(c,b.y-this.tickLength<<0),this.ctx.stroke();if(!a||0===d++%2||this._labels[e].stripLine)0===
f.textBlock.angle?(b.x-=f.textBlock.width/2,b.y-=this.tickLength+f.textBlock.height/2):(b.x-=0<this.labelAngle?f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,b.y-=this.tickLength+Math.abs(0<this.labelAngle?f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5:5)),f.textBlock.x=b.x,f.textBlock.y=b.y,f.textBlock.render(!0)}this.title&&(this._titleTextBlock=new H(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y1,maxWidth:this.lineCoordinates.width,maxHeight:1.5*this.titleFontSize,
angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else if("left"===this._position){for(e=0;e<this._labels.length;e++)if(f=this._labels[e],!(f.position<this.minimum||
f.position>this.maximum)){b=this.getPixelCoordinatesOnAxis(f.position);if(this.tickThickness&&!this._labels[e].stripLine||this._labels[e].stripLine&&"pixel"===this._labels[e].stripLine._thicknessType)this._labels[e].stripLine?(c=this._labels[e].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.y<<0)+0.5:b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,c),this.ctx.lineTo(b.x-
this.tickLength<<0,c),this.ctx.stroke();if(!a||0===d++%2||this._labels[e].stripLine)f.textBlock.x=b.x-f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5,f.textBlock.y=0===this.labelAngle?b.y-f.textBlock.height/2+this.labelFontSize/2:b.y-f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),f.textBlock.render(!0)}this.title&&(this._titleTextBlock=new H(this.ctx,{x:this.boundingRect.x1+5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:1.5*this.titleFontSize,
angle:-90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}else if("right"===this._position){for(e=0;e<this._labels.length;e++)if(f=this._labels[e],!(f.position<this.minimum||
f.position>this.maximum)){b=this.getPixelCoordinatesOnAxis(f.position);if(this.tickThickness&&!this._labels[e].stripLine||this._labels[e].stripLine&&"pixel"===this._labels[e].stripLine._thicknessType)this._labels[e].stripLine?(c=this._labels[e].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.y<<0)+0.5:b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,c),this.ctx.lineTo(b.x+
this.tickLength<<0,c),this.ctx.stroke();if(!a||0===d++%2||this._labels[e].stripLine)f.textBlock.x=b.x+this.tickLength+5,f.textBlock.y=0===this.labelAngle?b.y-f.textBlock.height/2+this.labelFontSize/2:b.y,f.textBlock.render(!0)}this.title&&(this._titleTextBlock=new H(this.ctx,{x:this.boundingRect.x2-5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:1.5*this.titleFontSize,angle:90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,
fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}};x.prototype.renderInterlacedColors=function(){var a=this.chart.plotArea.ctx,b,c,d=this.chart.plotArea,e=0;b=!0;if(("bottom"===this._position||"top"===this._position)&&this.interlacedColor){a.fillStyle=this.interlacedColor;
for(e=0;e<this._labels.length;e++)this._labels[e].stripLine||(b?(b=this.getPixelCoordinatesOnAxis(this._labels[e].position),c=e+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[e+1].position),a.fillRect(b.x,d.y1,Math.abs(c.x-b.x),Math.abs(d.y1-d.y2)),b=!1):b=!0)}else if(("left"===this._position||"right"===this._position)&&this.interlacedColor){a.fillStyle=this.interlacedColor;for(e=0;e<this._labels.length;e++)this._labels[e].stripLine||
(b?(c=this.getPixelCoordinatesOnAxis(this._labels[e].position),b=e+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[e+1].position),a.fillRect(d.x1,b.y,Math.abs(d.x1-d.x2),Math.abs(b.y-c.y)),b=!1):b=!0)}a.beginPath()};x.prototype.renderStripLinesOfThicknessType=function(a){if(this.stripLines&&0<this.stripLines.length&&a)for(var b=this.chart.plotArea.ctx,c=0,c=0;c<this.stripLines.length;c++){var d=this.stripLines[c];if(d._thicknessType===
a&&!("pixel"===a&&(d.value<this.minimum||d.value>this.maximum))){var e=this.getPixelCoordinatesOnAxis(d.value),f=Math.abs("pixel"===a?d.thickness:this.conversionParameters.pixelPerUnit*d.thickness);if(!(0>=f)){b.strokeStyle=d.color;b.beginPath();n(d.id);var g,k,l,m;b.lineWidth=f;if("bottom"===this._position||"top"===this._position)g=k=1===b.lineWidth%2?(e.x<<0)+0.5:e.x<<0,l=this.chart.plotArea.y1,m=this.chart.plotArea.y2;else if("left"===this._position||"right"===this._position)l=m=1===b.lineWidth%
2?(e.y<<0)+0.5:e.y<<0,g=this.chart.plotArea.x1,k=this.chart.plotArea.x2;b.moveTo(g,l);b.lineTo(k,m);b.stroke()}}}};x.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var a=this.chart.ctx,b,c=this.chart.plotArea;a.lineWidth=this.gridThickness;a.strokeStyle=this.gridColor;if("bottom"===this._position||"top"===this._position)for(d=0;d<this._labels.length&&!this._labels[d].stripLine;d++)this._labels[d].position<this.minimum||this._labels[d].position>this.maximum||(a.beginPath(),
b=this.getPixelCoordinatesOnAxis(this._labels[d].position),b=1===a.lineWidth%2?(b.x<<0)+0.5:b.x<<0,a.moveTo(b,c.y1<<0),a.lineTo(b,c.y2<<0),a.stroke());else if("left"===this._position||"right"===this._position)for(var d=0;d<this._labels.length&&!this._labels[d].stripLine;d++)this._labels[d].position<this.minimum||this._labels[d].position>this.maximum||(a.beginPath(),b=this.getPixelCoordinatesOnAxis(this._labels[d].position),b=1===a.lineWidth%2?(b.y<<0)+0.5:b.y<<0,a.moveTo(c.x1<<0,b),a.lineTo(c.x2<<
0,b),a.stroke())}};x.prototype.renderAxisLine=function(){var a=this.chart.ctx;if("bottom"===this._position||"top"===this._position){if(this.lineThickness){a.lineWidth=this.lineThickness;a.strokeStyle=this.lineColor?this.lineColor:"black";var b=1===this.lineThickness%2?(this.lineCoordinates.y1<<0)+0.5:this.lineCoordinates.y1<<0;a.beginPath();a.moveTo(this.lineCoordinates.x1,b);a.lineTo(this.lineCoordinates.x2,b);a.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness)a.lineWidth=
this.lineThickness,a.strokeStyle=this.lineColor,b=1===this.lineThickness%2?(this.lineCoordinates.x1<<0)+0.5:this.lineCoordinates.x1<<0,a.beginPath(),a.moveTo(b,this.lineCoordinates.y1),a.lineTo(b,this.lineCoordinates.y2),a.stroke()};x.prototype.getPixelCoordinatesOnAxis=function(a){var b={},c=this.lineCoordinates.width,d=this.lineCoordinates.height;if("bottom"===this._position||"top"===this._position)c/=Math.abs(this.maximum-this.minimum),b.x=this.lineCoordinates.x1+c*(a-this.minimum),b.y=this.lineCoordinates.y1;
if("left"===this._position||"right"===this._position)c=d/Math.abs(this.maximum-this.minimum),b.y=this.lineCoordinates.y2-c*(a-this.minimum),b.x=this.lineCoordinates.x2;return b};x.prototype.getXValueAt=function(a){if(!a)return null;var b=null;"left"===this._position?b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-a.y)+this.chart.axisX.minimum:"bottom"===this._position&&(b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/
this.chart.axisX.lineCoordinates.width*(a.x-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum);return b};x.prototype.calculateValueToPixelconversionParameters=function(a){a={pixelPerUnit:null,minimum:null,reference:null};var b=this.lineCoordinates.width,c=this.lineCoordinates.height;a.minimum=this.minimum;if("bottom"===this._position||"top"===this._position)a.pixelPerUnit=b/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.x1;if("left"===this._position||"right"===this._position)a.pixelPerUnit=
-1*c/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.y2;this.conversionParameters=a};x.prototype.calculateAxisParameters=function(){var a=this.chart.layoutManager.getFreeSpace();"bottom"===this._position||"top"===this._position?(this.maxWidth=a.width,this.maxHeight=a.height):(this.maxWidth=a.height,this.maxHeight=a.width);var a="axisX"===this.type?500>this.maxWidth?8:Math.max(6,Math.floor(this.maxWidth/62)):Math.floor(this.maxWidth/40),b,c,d,e;"axisX"===this.type?(b=null!==this.sessionVariables.internalMinimum?
this.sessionVariables.internalMinimum:this.dataInfo.viewPortMin,c=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:this.dataInfo.viewPortMax,0===c-b&&(c+=0.4,b-=0.4),d=Infinity!==this.dataInfo.minDiff?this.dataInfo.minDiff:1):"axisY"===this.type&&(b="undefined"===typeof this._options.minimum?this.dataInfo.viewPortMin:this._options.minimum,c="undefined"===typeof this._options.maximum?this.dataInfo.viewPortMax:this._options.maximum,0===c-b?(c+=5,b-=5):(0!==c&&(c+=Math.abs(0.05)),
0!==b&&(b-=Math.abs(0.05))),this.includeZero&&"undefined"===typeof this._options.minimum&&0<b&&(b=0),this.includeZero&&"undefined"===typeof this._options.maximum&&0>c&&(c=0));"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?(e=c-b,this.intervalType||(e/1<=a?(this.interval=1,this.intervalType="millisecond"):e/2<=a?(this.interval=2,this.intervalType="millisecond"):e/5<=a?(this.interval=5,this.intervalType="millisecond"):e/10<=a?(this.interval=10,this.intervalType="millisecond"):
e/20<=a?(this.interval=20,this.intervalType="millisecond"):e/50<=a?(this.interval=50,this.intervalType="millisecond"):e/100<=a?(this.interval=100,this.intervalType="millisecond"):e/200<=a?(this.interval=200,this.intervalType="millisecond"):e/250<=a?(this.interval=250,this.intervalType="millisecond"):e/300<=a?(this.interval=300,this.intervalType="millisecond"):e/400<=a?(this.interval=400,this.intervalType="millisecond"):e/500<=a?(this.interval=500,this.intervalType="millisecond"):e/(1*O.secondDuration)<=
a?(this.interval=1,this.intervalType="second"):e/(2*O.secondDuration)<=a?(this.interval=2,this.intervalType="second"):e/(5*O.secondDuration)<=a?(this.interval=5,this.intervalType="second"):e/(10*O.secondDuration)<=a?(this.interval=10,this.intervalType="second"):e/(15*O.secondDuration)<=a?(this.interval=15,this.intervalType="second"):e/(20*O.secondDuration)<=a?(this.interval=20,this.intervalType="second"):e/(30*O.secondDuration)<=a?(this.interval=30,this.intervalType="second"):e/(1*O.minuteDuration)<=
a?(this.interval=1,this.intervalType="minute"):e/(2*O.minuteDuration)<=a?(this.interval=2,this.intervalType="minute"):e/(5*O.minuteDuration)<=a?(this.interval=5,this.intervalType="minute"):e/(10*O.minuteDuration)<=a?(this.interval=10,this.intervalType="minute"):e/(15*O.minuteDuration)<=a?(this.interval=15,this.intervalType="minute"):e/(20*O.minuteDuration)<=a?(this.interval=20,this.intervalType="minute"):e/(30*O.minuteDuration)<=a?(this.interval=30,this.intervalType="minute"):e/(1*O.hourDuration)<=
a?(this.interval=1,this.intervalType="hour"):e/(2*O.hourDuration)<=a?(this.interval=2,this.intervalType="hour"):e/(3*O.hourDuration)<=a?(this.interval=3,this.intervalType="hour"):e/(6*O.hourDuration)<=a?(this.interval=6,this.intervalType="hour"):e/(1*O.dayDuration)<=a?(this.interval=1,this.intervalType="day"):e/(2*O.dayDuration)<=a?(this.interval=2,this.intervalType="day"):e/(4*O.dayDuration)<=a?(this.interval=4,this.intervalType="day"):e/(1*O.weekDuration)<=a?(this.interval=1,this.intervalType="week"):
e/(2*O.weekDuration)<=a?(this.interval=2,this.intervalType="week"):e/(3*O.weekDuration)<=a?(this.interval=3,this.intervalType="week"):e/(1*O.monthDuration)<=a?(this.interval=1,this.intervalType="month"):e/(2*O.monthDuration)<=a?(this.interval=2,this.intervalType="month"):e/(3*O.monthDuration)<=a?(this.interval=3,this.intervalType="month"):e/(6*O.monthDuration)<=a?(this.interval=6,this.intervalType="month"):(this.interval=e/(1*O.yearDuration)<=a?1:e/(2*O.yearDuration)<=a?2:e/(4*O.yearDuration)<=a?
4:Math.floor(x.getNiceNumber(e/(a-1),!0)/O.yearDuration),this.intervalType="year")),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:b-d/2,this.maximum=this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:c+d/2,this.valueFormatString||("year"===this.intervalType?this.valueFormatString="YYYY":"month"===this.intervalType?this.valueFormatString="MMM YYYY":"week"===this.intervalType?this.valueFormatString="MMM DD YYYY":"day"===this.intervalType?
this.valueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.valueFormatString="hh:mm TT":"minute"===this.intervalType?this.valueFormatString="hh:mm TT":"second"===this.intervalType?this.valueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.valueFormatString="fff'ms'")),this.intervalStartPosition=this.getLabelStartPoint(new Date(this.minimum),this.intervalType,this.interval)):(this.intervalType="number",e=x.getNiceNumber(c-b,!1),this.interval=this._options&&this._options.interval?
this._options.interval:x.getNiceNumber(e/(a-1),!0),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:Math.floor(b/this.interval)*this.interval,this.maximum=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:Math.ceil(c/this.interval)*this.interval,"axisX"===this.type?(null===this.sessionVariables.internalMinimum&&(this.minimum=b-d/2),this.sessionVariables.internalMaximum||(this.maximum=c+d/2),this.intervalStartPosition=
Math.floor((this.minimum+0.2*this.interval)/this.interval)*this.interval):"axisY"===this.type&&(this.intervalStartPosition=this.minimum));"axisX"===this.type&&(this._absoluteMinimum=this._options&&"undefined"!==typeof this._options.minimum?this._options.minimum:this.dataInfo.min-d/2,this._absoluteMaximum=this._options&&"undefined"!==typeof this._options.maximum?this._options.maximum:this.dataInfo.max+d/2);if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",e=Math.abs(this.maximum-this.minimum),
1>e&&(b=Math.floor(Math.abs(Math.log(e)/Math.LN10))+2,2<b)))for(c=0;c<b-2;c++)this.valueFormatString+="#"};x.getNiceNumber=function(a,b){var c=Math.floor(Math.log(a)/Math.LN10),d=a/Math.pow(10,c);return(b?1.5>d?1:3>d?2:7>d?5:10:1>=d?1:2>=d?2:5>=d?5:10)*Math.pow(10,c)};x.prototype.getLabelStartPoint=function(){var a=d(this.interval,this.intervalType),a=new Date(Math.floor(this.minimum/a)*a);if("millisecond"!==this.intervalType)if("second"===this.intervalType)0<a.getMilliseconds()&&(a.setSeconds(a.getSeconds()+
1),a.setMilliseconds(0));else if("minute"===this.intervalType){if(0<a.getSeconds()||0<a.getMilliseconds())a.setMinutes(a.getMinutes()+1),a.setSeconds(0),a.setMilliseconds(0)}else if("hour"===this.intervalType){if(0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setHours(a.getHours()+1),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("day"===this.intervalType){if(0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setDate(a.getDate()+1),a.setHours(0),
a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("week"===this.intervalType){if(0<a.getDay()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setDate(a.getDate()+(7-a.getDay())),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("month"===this.intervalType){if(1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("year"===
this.intervalType&&(0<a.getMonth()||1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds()))a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);return a};c(S,z);c(C,z);C.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div");this.container.setAttribute("class","canvasjs-chart-tooltip");this.container.style.position="absolute";this.container.style.height=
"auto";this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)";this.container.style.zIndex="1000";this.container.style.display="none";var a;a='<div style=" width: auto;height: auto;min-width: 50px;';a+="line-height: 20px;";a+="padding: 5px;";a+="font-family: Calibri, Arial, Georgia, serif;";a+="font-weight: 400;";a+="font-style: "+(D?"italic;":"normal;");a+="font-size: 14px;";a+="color: #000000;";a+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);";a+="text-align: left;";a+="border: 2px solid gray;";
a+=D?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);";a+="text-indent: 0px;";a+="white-space: nowrap;";a+="border-radius: 10px;";D||(a+="filter: alpha(opacity = 90);",a+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');");a+='} "> Sample Tooltip</div>';this.container.innerHTML=a;this.contentDiv=this.container.firstChild;this.container.style.borderRadius=this.contentDiv.style.borderRadius;this.chart._canvasJSContainer.appendChild(this.container)}};
C.prototype.mouseMoveHandler=function(a,b){this._lastUpdated&&40>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this._updateToolTip(a,b))};C.prototype._updateToolTip=function(a,b){if(this.enabled){if("undefined"===typeof a||"undefined"===typeof b){if(isNaN(this._prevX)||isNaN(this._prevY))return;a=this._prevX;b=this._prevY}else this._prevX=a,this._prevY=b;var c=null,d=null,e=[],f=0;if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){f="xySwapped"===this.chart.plotInfo.axisPlacement?
(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-b)+this.chart.axisX.minimum:(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum;c=[];for(d=0;d<this.chart.data.length;d++){var g=this.chart.data[d].getDataPointAtX(f,!0);g&&0<=g.index&&(g.dataSeries=this.chart.data[d],null!==g.dataPoint.y&&c.push(g))}if(0===c.length)return;
c.sort(function(a,b){return a.distance-b.distance});f=c[0];for(d=0;d<c.length;d++)c[d].dataPoint.x.valueOf()===f.dataPoint.x.valueOf()&&e.push(c[d]);c=null}else if((g=this.chart.getDataPointAtXY(a,b,!0))?(this.currentDataPointIndex=g.dataPointIndex,this.currentSeriesIndex=g.dataSeries.index):D?(g=l(a,b,this.chart._eventManager.ghostCtx),0<g&&"undefined"!==typeof this.chart._eventManager.objectMap[g]?(eventObject=this.chart._eventManager.objectMap[g],this.currentSeriesIndex=eventObject.dataSeriesIndex,
this.currentDataPointIndex=0<=eventObject.dataPointIndex?eventObject.dataPointIndex:-1):this.currentDataPointIndex=-1):this.currentDataPointIndex=-1,0<=this.currentSeriesIndex){d=this.chart.data[this.currentSeriesIndex];g={};if(0<=this.currentDataPointIndex)c=d.dataPoints[this.currentDataPointIndex],g.dataSeries=d,g.dataPoint=c,g.index=this.currentDataPointIndex,g.distance=Math.abs(c.x-f);else if("line"===d.type||"stepLine"===d.type||"spline"===d.type||"area"===d.type||"stepArea"===d.type||"splineArea"===
d.type||"stackedArea"===d.type||"stackedArea100"===d.type)f=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum.valueOf(),g=d.getDataPointAtX(f,!0),g.dataSeries=d,this.currentDataPointIndex=g.index,c=g.dataPoint;else return;null!==g.dataPoint.y&&e.push(g)}if(0<e.length){this.highlightObjects(e);f="";f=this.getToolTipInnerHTML({entries:e});this.contentDiv.innerHTML=f;this.contentDiv.innerHTML=f;
f=!1;"none"===this.container.style.display&&(f=!0,this.container.style.display="block");try{this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.borderColor?this.borderColor:e[0].dataPoint.color?e[0].dataPoint.color:e[0].dataSeries.color?e[0].dataSeries.color:e[0].dataSeries._colorSet[e[0].index%e[0].dataSeries._colorSet.length]}catch(k){}"pie"===e[0].dataSeries.type||"doughnut"===e[0].dataSeries.type||"bar"===e[0].dataSeries.type||"stackedBar"===
e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?toolTipLeft=a-10-this.container.clientWidth:(toolTipLeft=this.chart.axisX.lineCoordinates.width/Math.abs(this.chart.axisX.maximum-this.chart.axisX.minimum)*Math.abs(e[0].dataPoint.x-this.chart.axisX.minimum)+this.chart.axisX.lineCoordinates.x1+0.5-this.container.clientWidth<<0,toolTipLeft-=10);toolTipLeft=0<toolTipLeft?toolTipLeft+"px":toolTipLeft+this.container.clientWidth+20+"px";e=1===e.length&&!this.shared&&("line"===e[0].dataSeries.type||
"stepLine"===e[0].dataSeries.type||"spline"===e[0].dataSeries.type||"area"===e[0].dataSeries.type||"stepArea"===e[0].dataSeries.type||"splineArea"===e[0].dataSeries.type||"stackedArea"===e[0].dataSeries.type||"stackedArea100"===e[0].dataSeries.type)?e[0].dataSeries.axisY.lineCoordinates.y2-e[0].dataSeries.axisY.lineCoordinates.height/Math.abs(e[0].dataSeries.axisY.maximum-e[0].dataSeries.axisY.minimum)*Math.abs(e[0].dataPoint.y-e[0].dataSeries.axisY.minimum)+0.5<<0:"bar"===e[0].dataSeries.type||"stackedBar"===
e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?e[0].dataSeries.axisX.lineCoordinates.y2-e[0].dataSeries.axisX.lineCoordinates.height/Math.abs(e[0].dataSeries.axisX.maximum-e[0].dataSeries.axisX.minimum)*Math.abs(e[0].dataPoint.x-e[0].dataSeries.axisX.minimum)+0.5<<0:b;e=-e+10;0<e+this.container.clientHeight+5&&(e-=e+this.container.clientHeight+5-0);this.container.style.left=toolTipLeft;this.container.style.bottom=e+"px";!this.animationEnabled||f?this.disableAnimation():this.enableAnimation()}}};
C.prototype.highlightObjects=function(a){if(this.enabled){var b=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas();b.save();var c=this.chart.plotArea;b.rect(c.x1,c.y1,c.width,c.height);b.clip();b.beginPath();for(c=0;c<a.length;c++){var d=a[c];if((d=this.chart._eventManager.objectMap[d.dataSeries.dataPointIds[d.index]])&&d.objectType&&"dataPoint"===d.objectType){var e=this.chart.data[d.dataSeriesIndex],f=d.dataPointIndex;if("line"===e.type||"stepLine"===e.type||"spline"===e.type||"scatter"===
e.type||"area"===e.type||"stepArea"===e.type||"splineArea"===e.type||"stackedArea"===e.type||"stackedArea100"===e.type)e=e.getMarkerProperties(f,d.x1,d.y1,this.chart.overlaidCanvasCtx),e.size=Math.max(1.5*e.size<<0,10),e.borderColor=e.borderColor||"#FFFFFF",e.borderThickness=e.borderThickness||Math.ceil(0.1*e.size),na.drawMarkers([e]);else if("bubble"===e.type)e=e.getMarkerProperties(f,d.x1,d.y1,this.chart.overlaidCanvasCtx),e.size=d.size,e.color="white",e.borderColor="white",b.globalAlpha=0.3,na.drawMarkers([e]),
b.globalAlpha=1;else if("column"===e.type||"stackedColumn"===e.type||"stackedColumn100"===e.type||"bar"===e.type||"stackedBar"===e.type||"stackedBar100"===e.type)b.globalAlpha=0.3,ma(b,d.x1,d.y1,d.x2,d.y2,"white",!1,!1,!1,!1),b.globalAlpha=1;else if("pie"===e.type||"doughnut"===e.type)b.globalAlpha=0.3,pa(b,d.center,d.radius,"white",e.type,d.startAngle,d.endAngle),b.globalAlpha=1}}b.globalAlpha=1;b.restore()}};C.prototype.getToolTipInnerHTML=function(a){a=a.entries;for(var b="",c=null,d=null,e=0,
f="",g=!0,k=0;k<a.length;k++)if(a[k].dataSeries.toolTipContent||a[k].dataPoint.toolTipContent){g=!1;break}if(g&&this.content&&"function"===typeof this.content)b=this.content({entries:a});else if(1<a.length)for(k=0;k<a.length;k++){c=a[k].dataSeries;d=a[k].dataPoint;e=a[k].index;f="";0===k&&(g&&!this.content)&&(f+="undefined"!==typeof this.chart.axisX.labels[d.x]?this.chart.axisX.labels[d.x]:"{x}",f+="</br>");if("line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===
c.type||"splineArea"===c.type||"column"===c.type||"bar"===c.type||"scatter"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type)f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}";else if("bubble"===c.type)f+=d.toolTipContent?d.toolTipContent:
c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";else if("pie"===c.type||"doughnut"===c.type)f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"&nbsp;&nbsp;{y}";b+=this.chart.replaceKeywordsWithValue(f,d,c,e);k<a.length-1&&(b+="</br>")}else{c=a[0].dataSeries;d=a[0].dataPoint;e=a[0].index;if("line"===
c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===c.type||"splineArea"===c.type||"column"===c.type||"bar"===c.type||"scatter"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type)f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":
"{x}")+" :</span>&nbsp;&nbsp;{y}";else if("bubble"===c.type)f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";else if("pie"===c.type||"doughnut"===c.type)f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:(d.name?"{name}:&nbsp;&nbsp;":
d.label?"{label}:&nbsp;&nbsp;":"")+"{y}";b+=this.chart.replaceKeywordsWithValue(f,d,c,e)}return b};C.prototype.enableAnimation=function(){this.container.style.WebkitTransition||(this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.transition="left .2s ease-out, bottom .2s ease-out")};C.prototype.disableAnimation=
function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")};C.prototype.hide=function(){this.enabled&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.chart.resetOverlayedCanvas())};s.prototype.replaceKeywordsWithValue=function(a,b,c,d){var e=this;return a.replace(/\{\s*[a-zA-Z]+\s*\}|"[^"]*"|'[^']*'/g,function(a){if('"'===
a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])return a.slice(1,a.length-1);a=k(a.slice(1,a.length-1));var f=null;if("color"===a)return b.color?b.color:c.color?c.color:c._colorSet[d%c._colorSet.length];if(b.hasOwnProperty(a))f=b;else if(c.hasOwnProperty(a))f=c;else return"";return"x"===a?e.axisX&&"dateTime"===e.plotInfo.axisXValueType?P(f[a],b.xValueFormatString?b.xValueFormatString:c.xValueFormatString?c.xValueFormatString:e.axisX&&e.axisX.valueFormatString?e.axisX.valueFormatString:
"DD MMM YY",e._cultureInfo):ha(f[a],b.xValueFormatString?b.xValueFormatString:c.xValueFormatString?c.xValueFormatString:"#,##0.########",e._cultureInfo):"y"===a?ha(f[a],b.yValueFormatString?b.yValueFormatString:c.yValueFormatString?c.yValueFormatString:"#,##0.########",e._cultureInfo):f[a]})};B.prototype.reset=function(){this.lastObjectId=0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.eventObjects=[];D&&(this.ghostCtx.clearRect(0,0,this.chart.width,
this.chart.height),this.ghostCtx.beginPath())};B.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId};B.prototype.mouseEventHandler=function(a){if(!("mousemove"!==a.type&&"click"!==a.type)){var b=[],c=oa(a),d=null;if((d=this.chart.getObjectAtXY(c.x,c.y,!1))&&"undefined"!==typeof this.objectMap[d])if(d=this.objectMap[d],"dataPoint"===d.objectType){var e=this.chart.data[d.dataSeriesIndex],f=e.dataPoints[d.dataPointIndex],g=d.dataPointIndex;d.eventParameter={x:c.x,y:c.y,dataPoint:f,
dataSeries:e._options,dataPointIndex:g,dataSeriesIndex:e.index};d.eventContext={context:f,userContext:f,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"};b.push(d);d=this.objectMap[e.id];d.eventParameter={x:c.x,y:c.y,dataPoint:f,dataSeries:e._options,dataPointIndex:g,dataSeriesIndex:e.index};d.eventContext={context:e,userContext:e._options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"};b.push(this.objectMap[e.id])}else"legendItem"===d.objectType&&
(e=this.chart.data[d.dataSeriesIndex],f=e.dataPoints[d.dataPointIndex],d.eventParameter={x:c.x,y:c.y,dataSeries:e._options,dataPoint:f,dataPointIndex:d.dataPointIndex,dataSeriesIndex:d.dataSeriesIndex},d.eventContext={context:this.chart.legend,userContext:this.chart.legend._options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},b.push(d));e=[];for(c=0;c<this.mouseoveredObjectMaps.length;c++){f=!0;for(d=0;d<b.length;d++)if(b[d].id===this.mouseoveredObjectMaps[c].id){f=
!1;break}f?this.fireEvent(this.mouseoveredObjectMaps[c],"mouseout",a):e.push(this.mouseoveredObjectMaps[c])}this.mouseoveredObjectMaps=e;for(c=0;c<b.length;c++){e=!1;for(d=0;d<this.mouseoveredObjectMaps.length;d++)if(b[c].id===this.mouseoveredObjectMaps[d].id){e=!0;break}e||(this.fireEvent(b[c],"mouseover",a),this.mouseoveredObjectMaps.push(b[c]));"click"===a.type?this.fireEvent(b[c],"click",a):"mousemove"===a.type&&this.fireEvent(b[c],"mousemove",a)}}};B.prototype.fireEvent=function(a,b,c){if(a&&
b){var d=a.eventParameter,e=a.eventContext,f=a.eventContext.userContext;f&&(e&&f[e[b]])&&f[e[b]].call(f,d);"mouseout"!==b?f.cursor&&f.cursor!==c.target.style.cursor&&(c.target.style.cursor=f.cursor):(c.target.style.cursor=this.chart._defaultCursor,delete a.eventParameter,delete a.eventContext);"click"===b&&("dataPoint"===a.objectType&&this.chart.pieDoughnutClickHandler)&&this.chart.pieDoughnutClickHandler.call(this.chart.data[a.dataSeriesIndex],d)}};c(N,z);var na={drawMarker:function(a,b,c,d,e,f,
g,k){if(c){var l=1;c.fillStyle=f?f:"#000000";c.strokeStyle=g?g:"#000000";c.lineWidth=k?k:0;"circle"===d?(c.moveTo(a,b),c.beginPath(),c.arc(a,b,e/2,0,2*Math.PI,!1),f&&c.fill(),k&&(g?c.stroke():(l=c.globalAlpha,c.globalAlpha=0.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=l))):"square"===d?(c.beginPath(),c.rect(a-e/2,b-e/2,e,e),f&&c.fill(),k&&(g?c.stroke():(l=c.globalAlpha,c.globalAlpha=0.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=l))):"triangle"===d?(c.beginPath(),c.moveTo(a-e/2,b+e/2),
c.lineTo(a+e/2,b+e/2),c.lineTo(a,b-e/2),c.closePath(),f&&c.fill(),k&&(g?c.stroke():(l=c.globalAlpha,c.globalAlpha=0.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=l)),c.beginPath()):"cross"===d&&(c.strokeStyle=f,c.lineWidth=e/4,c.beginPath(),c.moveTo(a-e/2,b-e/2),c.lineTo(a+e/2,b+e/2),c.stroke(),c.moveTo(a+e/2,b-e/2),c.lineTo(a-e/2,b+e/2),c.stroke())}},drawMarkers:function(a){for(var b=0;b<a.length;b++){var c=a[b];na.drawMarker(c.x,c.y,c.ctx,c.type,c.size,c.color,c.borderColor,c.borderThickness)}}},
qa={Chart:function(a,b){var c=new s(a,b,this);this.render=function(){c.render(this.options)};this.options=c._options},addColorSet:function(a,b){Y[a]=b},addCultureInfo:function(a,b){U[a]=b}};qa.Chart.version="v1.4.1 GA";window.CanvasJS=qa})();var app=angular.module("Obelix",[]);
app.service("Lobby",["$http","$log","Device","Directory",function(c,r,f,d){return{getDeviceTree:function(b){var k=new d("");k.expanded=!0;c.get("/obix").success(function(a){console.log(a);a.nodes.each(function(a){var b=a.href;b.startsWith("/")||(b="/"+b);var c=b.split("/").compact(!0);if(1<c.length){var d=c.pop();a.displayName&&(d=a.displayName);k.make(c).devices.push(new f(b,d))}});b(k)})}}}]);
app.factory("Storage",function(){var c=function(c){this.key=c;return this};c.get=function(c){return(c=localStorage.getItem(c))?"{"===c.charAt(0)||"["===c.charAt(0)?angular.fromJson(c):c:null};c.set=function(c,f){if(angular.isObject(f)||angular.isArray(f))f=angular.toJson(f);localStorage.setItem(c,f)};c.remove=function(c){localStorage.removeItem(c)};c.prototype={get:function(){return c.get(this.key)},set:function(r){c.set(this.key,r)},remove:function(){c.remove(this.key)}};return c});
app.factory("Directory",function(){var c=function(c){this.name=c;this.subdirectories=[];this.devices=[];this.expanded=!1;return this};c.prototype={make:function(r){if(r.isEmpty())return this;var f=r.shift(),f=f.replace("+"," "),d=this.subdirectories.find({name:f});d||(d=new c(f),this.subdirectories.push(d));return r.isEmpty()?d:d.make(r)},toggle:function(){this.expanded=!this.expanded},globDevices:function(){var c=[],c=c.concat(this.devices);this.subdirectories.each(function(f){c=c.concat(f.globDevices())});
return c}};return c});
app.factory("Watch",["$http","$timeout","$q","Storage",function(c,r,f,d){var b=function(b){this.intervalStorage=new d("watch_interval");this.interval=this.intervalStorage.get();this.intervalMinimum=1E3;this.intervalMaximum=1E4;this.interval=null==this.interval||void 0==this.interval||isNaN(this.interval)?this.intervalMinimum:this.interval;this.updateInterval();this.href=b};b.watchRecreatedDefer=f.defer();b.getInstance=function(f){var a=new d("watch"),e=a.get();if(e){var g=!1;c.get(e).success(function(a){"err"!=
a.tag&&(g=!0)}).then(function(){g?(console.log("Reusing watch"+e),f(new b(e))):(console.log("Old watch "+e+" seems gone. Recreating..."),a.remove(),b.getInstance(function(a){b.watchRecreatedDefer.resolve(a);f(a)}))})}else c.post("/watchService/make").success(function(c){c=c.href;a.set(c);console.log("Made new watch ",c);f(new b(c))})};b.prototype={updateInterval:function(){this.interval=isNaN(this.interval)?this.intervalStorage.get():parseInt(this.interval,10);this.interval<this.intervalMinimum&&
(this.interval=this.intervalMinimum);this.interval>this.intervalMaximum&&(this.interval=this.intervalMaximum);console.log("Watch interval is",this.interval);this.intervalStorage.set(this.interval)},hrefForOperation:function(b){return URI(this.href).segment(b).toString()},add:function(b){return this.op("add",b)},remove:function(b){return this.op("remove",b)},op:function(b,a){var d='<obj is="obix:WatchIn"><list name="hrefs"><uri val="'+a+'" /></list></obj>';c({url:this.hrefForOperation(b),method:"POST",
headers:{"Content-Type":"application/xml",Accept:"application/json"},data:d}).success(function(c){"obix:WatchOut"!=c.is&&"obix:Nil"!=c.is?console.log("Error "+b+" device "+a+" to watch",c):console.log(b+" device "+a+" to watch")})},poll:function(b){c.post(this.hrefForOperation("pollChanges")).success(function(a){(a=a.nodes[0].nodes)&&a.each(b)})},tick:function(){this.polling&&(this.poll(this.polling),this.intervalStorage.get()||this.intervalStorage.set(this.interval=this.intervalMinimum),r(this.tick.bind(this),
this.intervalStorage.get()))},startPolling:function(b){this.polling=b;this.tick()}};return b}]);
app.factory("Property",["$http",function(c){var r=function(c){["bool","int","real","str","enum"].find(c.tag)?(this.valid=!0,this.jsPlumbEndpoints=[],this.connections=[],this.range=this.groupCommEnabled=!1,this.href=c.href,this.type=c.tag,this.numeric="int"==this.type||"real"==this.type,this.name=c.name,this.displayName=c.displayName||this.name,this.value=c.val,this.readonly=!c.writable,"real"==this.type&&(this.value=Math.round(100*this.value)/100),this.numeric&&(c.max&&!this.readonly)&&(this.range=
{min:c.min,max:c.max,step:Math.abs(this.rangeMax-this.rangeMin)/100}),"enum"==this.type&&(this.range=r.Enum.range(c.range)),this.klass=this.numeric?"numeric":this.type):this.valid=!1};r.Enum={ranges:{},range:function(f){var d=this.ranges[f];d||(d=[],this.ranges[f]=d,c.get(f).success(function(b){d.add(b.nodes.map("name"))}.bind(this)));return d}};r.prototype={write:function(f){c.put(this.href,{tag:this.type,val:this.value},{headers:{"Content-Type":"application/json"}}).success(function(c){c.tag&&"err"==
c.tag&&console.log("Error updating "+this.href,c)}.bind(this))},connect:function(f,d){var b=d?"joinGroup":"leaveGroup",k=URI(this.href).segment("groupComm").segment(b).toString();c.post(k,'<str val="'+f.ipv6+'"/>',{headers:{"Content-Type":"application/xml"}}).success(function(){d?this.connections.push(f):this.connections.remove(f);console.log(b,this.href,f.ipv6)}.bind(this))}};return r}]);
app.factory("Connection",["Storage",function(c){var r=function(c,d,b){this.jsPlumbConnection=null;this.fromProperty=c;this.toProperty=d;b?(console.log("Restored connection",b,"with",c,d),this.ipv6=b):this.ipv6="FF15::"+r.incrementCounter();this.fromProperty.connect(this,!0);this.toProperty.connect(this,!0);return this};r.prototype.destroy=function(){this.fromProperty.connect(this,!1);this.toProperty.connect(this,!1);jsPlumb.detach(this.jsPlumbConnection)};r.counter=null;r.incrementCounter=function(){var f=
new c("connections_counter");r.counter||(r.counter=f.get()||1);var d=r.counter++;f.set(r.counter);return d};r.Freezer=function(){var f=new c("connections"),d=f.get()||[];return{add:function(b){d.push({from:b.fromProperty.href,to:b.toProperty.href,ipv6:b.ipv6});f.set(d)},remove:function(b){d.remove({ipv6:b.ipv6});f.set(d)},restore:function(b,c){d.each(function(a){var d=b(a.from),f=b(a.to);c(new r(d,f,a.ipv6))})}}}();return r}]);
app.factory("Device",["$http","$q","$timeout","$filter","Storage","Property","Watch","Connection",function(c,r,f,d,b,k,a,e){f=function(a,c){this.loadedDefer=r.defer();this.href=a;this.placementStorage=new b("device_"+this.href+"_placement");(this.placement=this.placementStorage.get())&&this.load();this.nameStorage=new b("device_"+this.href+"_name");this.name=this.nameStorage.get()||c.replace(/&#x([0-9a-f]{1,4});/gi,function(a,b){var c=parseInt(b,16);return String.fromCharCode(c)});this.originalName=
c;this.obix={contractList:{is:null,of:null,"in":null,out:null}};this.statistics={history:{enabled:!1,properties:[]},statisticBox:{expanded:!1,chartsContainerContainer:null}};return this};f.prototype={rename:function(){this.name.isBlank()?(this.nameStorage.remove(),this.name=this.originalName):this.nameStorage.set(this.name)},place:function(a){this.placement={left:a.left,top:a.top};this.placementStorage.set(this.placement);!this.loaded&&!this.loading&&this.load()},load:function(){this.loading=!0;c.get(this.href).success(function(a){this.parse(a);
this.loaded=!0;this.loading=!1;this.loadedDefer.resolve()}.bind(this))},parse:function(a){a.is&&(this.obix.contractList.is=a.is);a.of&&(this.obix.contractList.of=a.of);a["in"]&&(this.obix.contractList["in"]=a["in"]);a.out&&(this.obix.contractList.out=a.out);var b=[];this.properties=a.nodes.map(function(a){if("ref"==a.tag){a=a.name?a.name.split(" "):"";var c=a.indexOf("groupComm");-1!=c&&(a.splice(c,1),b.push(a[0]));return!1}a.href=URI(a.href).absoluteTo(this.href).toString();return new k(a)}.bind(this)).filter({valid:!0});
var c=this;a.nodes.map(function(a){if("obix:History"==a.is){var b=c.href+a.href.substring(a.href.indexOf("/"));c.statistics.history.enabled=!0;c.statistics.history.properties.push({name:a.name.substring(0,a.name.lastIndexOf(" history")),href:b,chart:null,chartDataPoints:[],chartContainerID:d("htmlNameNormalizer")(b),chartLineColor:null})}});b.each(function(a){if(a=this.properties.find({name:a}))a.groupCommEnabled=!0}.bind(this))},refresh:function(a){console.log("Updating",this.href);a.nodes.each(function(a){var b=
this.properties.find({href:a.href});b&&(b.value=a.val)}.bind(this))},toggleStatisticBox:function(){this.statistics.statisticBox.expanded=!this.statistics.statisticBox.expanded},destroy:function(){var b=this.href;a.getInstance(function(a){a.remove(b)});this.properties&&this.properties.each(function(a){a.connections.each(function(a){e.Freezer.remove(a)});a.jsPlumbEndpoints.each(function(a){jsPlumb.removeAllEndpoints(a.element)})});this.placement=null;this.placementStorage.remove();this.nameStorage.remove()}};
return f}]);app.factory("Sidebar",["Storage",function(c){var r=new c("sidebar_expanded"),f="true"===r.get(),d=new c("sidebar_locked"),b="true"===d.get(),k=new c("sidebar_segment"),a=parseInt(k.get(),10);Number.isNaN(a)&&(a=0);return{get expanded(){return f},set expanded(a){b||(f=a,r.set(a))},toggle:function(){b||(f=!f,r.set(f))},get locked(){return b},set locked(a){b=a;d.set(a)},get segment(){return a},set segment(b){a=b;k.set(b)}}}]);
app.factory("DeviceStatistics",["$http","$interval",function(c,r){var f=[],d="#C7A317 #E41B17 #7E354D #FF00FF #893BFF #F88017 #F88017 #F88017".split(" "),b=0,k=d.length;return{devices:f,isRegisteredDevice:function(a){return 0<=f.indexOf(a)},addDevice:function(a){this.isRegisteredDevice(a)||f.push(a)},removeDevice:function(a){var b=f.indexOf(a);-1!=b&&(f.splice(b,1),a.statistics.history.properties.each(function(a){a.chart=null}))},query:function(){r(function(){f.forEach(function(a){a.statistics.history.properties.forEach(function(a){null==
a.lineColor&&(a.lineColor=d[b%k],b++);c.post(a.href+"/query",['<obj is="obix:HistoryFilter"><int name="limit" val="10"/><abstime name="start" val="1970-01-01T00:00:00.000Z"/><abstime name="end" val="',(new Date).toISOString(),'"/></obj>'].join(""),{headers:{"Content-Type":"text/xml",Accept:"application/json"}}).success(function(b,c,d,f){a.chartDataPoints.splice(0);b.nodes[3].nodes?(b.nodes[3].nodes.each(function(b){a.chartDataPoints.push({x:new Date(b.nodes[0].val),y:b.nodes[1].val})}),null==a.chart&&
(a.chart=new CanvasJS.Chart(a.chartContainerID,{theme:"theme2",title:{text:a.name},width:260,height:200,axisY:{interval:25},data:[{type:"line",lineThickness:2,dataPoints:a.chartDataPoints,color:a.lineColor}]})),a.chart.render()):jQuery("#"+a.chartContainerID).text(a.name+": Currently no data available.")})})})},5E3)}}}]);
app.factory("ProjectMembers",[function(){var c=function(c,f,d){this.firstName=c;this.lastName=f;this.website=d};return{leads:[new c("Markus","J.","https://www.auto.tuwien.ac.at/people/view/Markus_Jung/")],contributors:[new c("Clemens","P."),new c("Esad","H."),new c("Isolde","C."),new c("Jomy","C."),new c("J\ufffdrgen","S."),new c("J\ufffdrgen","W.","https://www.auto.tuwien.ac.at/people/view/Juergen_Weidinger/"),new c("Luyu","Z."),new c("Nam","G."),new c("Ralph","H."),new c("Robert","H."),new c("Stefan",
"S."),new c("Thomas","H.")]}}]);
app.controller("MainCtrl",["$scope","$q","$timeout","$interval","Lobby","Watch","Connection","Sidebar","DeviceStatistics","ProjectMembers",function(c,r,f,d,b,k,a,e,g,n){jQuery.fn.qtip.modal_zindex=jQuery.fn.qtip.zindex+1E3;c.directory=null;c.allDevices=[];c.watch=null;c.statistics=g;c.projectMembers=n;c.statistics.query();var p=r.defer(),m=r.defer(),l=r.defer(),t=null,v=d(function(){if((jQuery("rect:visible").length||jQuery("rect").length)===t)d.cancel(v),l.resolve()},250);r.all([k.watchRecreatedDefer.promise,
p.promise]).then(function(a){console.log("Re-adding placed devices to new watch");var b=a[0];a[1].each(function(a){b.add(a.href)})});m.promise.then(function(b){b.map(function(a){a.properties.map(function(a){a.groupCommEnabled&&t++})});a.Freezer.restore(function(a){return b.map("properties").flatten().find({href:a})},function(a){l.promise.then(function(){console.log(a);a.jsPlumbConnection=jsPlumb.connect({source:a.fromProperty.jsPlumbEndpoints[0],target:a.toProperty.jsPlumbEndpoints[0]},{parameters:{restored:!0}});
a.jsPlumbConnection.obelixConnection=a})});f(function(){jQuery("body").trigger("hideSplashScreen");jQuery("#tour-first-time-visitor").trigger("showTourHelp")},0)});b.getDeviceTree(function(a){c.directory=a;c.allDevices=a.globDevices();var b=c.allDevices.filter(function(a){return!!a.placement});p.resolve(b);r.all(b.map(function(a){return a.loadedDefer.promise})).then(function(a){m.resolve(b)})});k.getInstance(function(a){c.watch=a;a.startPolling(function(a){var b=c.allDevices.find({href:a.href});b&&
(console.log("Watch reports",a),b.refresh(a))})});c.sidebar=e;jsPlumb.bind("connection",function(b){console.log("Connection event",b);b.sourceEndpoint.addClass("connected");b.targetEndpoint.addClass("connected");if(!b.connection.getParameter("restored")){var c=b.sourceEndpoint.getParameters().property,d=b.targetEndpoint.getParameters().property;b.connection.obelixConnection=new a(c,d);b.connection.obelixConnection.jsPlumbConnection=b.connection;a.Freezer.add(b.connection.obelixConnection);console.log("the first connection event listener;")}});
jsPlumb.bind("connectionDetached",function(a){[a.sourceEndpoint,a.targetEndpoint].each(function(a){0==a.connections.length&&a.removeClass("connected")})});jsPlumb.bind("dblclick",function(b,c){b.obelixConnection.destroy();a.Freezer.remove(b.obelixConnection);b.obelixConnection=null});c.tourInProgress=!1;c.placeDevice=function(a,b){a.placement||c.watch.add(a.href);a.place(b)};c.destroyDevice=function(a){c.tourInProgress||(a.destroy(),c.statistics.removeDevice(a))};c.clear=function(){c.allDevices.filter(function(a){a.placement&&
c.destroyDevice(a)})}}]);app.directive("draggable",function(){return{restrict:"A",link:function(c,r,f){c.$eval(f.draggable);c={appendTo:"body",helper:"clone",start:function(){$(this).addClass("disabled")},stop:function(){$(this).removeClass("disabled")},containment:jQuery("#canvas")};f.draggableDistance&&(c.distance=f.draggableDistance);f.draggableHelper&&(c.helper=f.draggableHelper);f.draggableViaJsplumb?jsPlumb.draggable(r,c):r.draggable(c)}}});
app.directive("includeStatisticsTemplate",["$compile","$templateCache",function(c,r){return{restrict:"A",terminal:!0,scope:{statistics:"=includeStatisticsTemplate"},link:function(f,d,b){b=r.get("statistics-template");d.append(b);c(d.contents())(f.$new())}}}]);app.directive("includeDirectoryTemplate",["$compile","$templateCache",function(c,r){return{restrict:"A",terminal:!0,scope:{directory:"=includeDirectoryTemplate"},link:function(f,d,b){b=r.get("directory-template");d.append(b);c(d.contents())(f.$new())}}}]);
app.directive("droppable",["$parse",function(c){return{restrict:"A",link:function(r,f,d){var b=c(d.droppable)(r);f.droppable({drop:function(c,a){a.helper.position();var d=angular.element(a.draggable),d=d.scope().$eval(d.attr("draggable"));b(d,a.helper.position());r.$apply();jsPlumb.repaintEverything()}})}}}]);
app.directive("ngModelOnblur",function(){return{restrict:"A",require:"ngModel",link:function(c,r,f,d){"radio"===f.type||"checkbox"===f.type||(r.unbind("input").unbind("keydown").unbind("change"),r.bind("blur",function(){c.$apply(function(){d.$setViewValue(r.val())})}))}}});
app.directive("inlineEditor",["$parse",function(c){return{restrict:"A",require:"ngModel",link:function(r,f,d,b){var k=c(d.inlineEditor);f.bind("keydown keypress",function(a){if(13===a.which||27===a.which)f.blur(),a.preventDefault()});f.bind("blur",function(){r.$apply(function(){k(r);b.$setViewValue(f.val())})});f.focus()}}}]);
app.directive("jsplumbContainer",function(){return{restrict:"A",link:function(c,r,f){jsPlumb.ready(function(){jsPlumb.Defaults.Container=r;jsPlumb.Defaults.Connector=["Bezier",{stub:30,curviness:50}];jsPlumb.Defaults.Endpoint=["Rectangle",{width:12,height:15}]})}}});
app.directive("jsplumbEndpoint",["$timeout","$filter",function(c,r){return{restrict:"A",link:function(f,d,b){var k=f.$eval(b.jsplumbEndpoint);if(k.groupCommEnabled){var a=f.$eval(b.device);c(function(){var b=jsPlumb.addEndpoint(d,{isSource:!0,isTarget:!0,cssClass:r("htmlNameNormalizer")(a.originalName),parent:d.parent(),maxConnections:-1,anchors:[[1,0.5,1,0,12,0],[0,0.5,-1,0,-12,0]],paintStyle:{fillStyle:"#ff0"},connectorStyle:{lineWidth:7,strokeStyle:"#fff"},connectorHoverStyle:{strokeStyle:"#ff0000"},
parameters:{property:k}});k.jsPlumbEndpoints.push(b)},0)}}}}]);
app.directive("obelixSplashScreen",[function(){return{restrict:"A",link:function(c,r,f){jQuery(r).qtip({prerender:!0,content:{text:function(){var c=$("#about").clone();c.find("#about-content").append('<div class="row-2"><div class="loading"></div><div class="text">Loading ... Please Wait</div></div>');return c}},position:{my:"center",at:"center"},show:{delay:0,ready:!0,modal:{on:!0,blur:!1,escape:!1,stealfocus:!1}},hide:{event:"hideSplashScreen"},style:{classes:"qtip-light obelix-qtip"},events:{hide:function(c,
b){b.destroy()}}})}}}]);app.directive("obelixLogoutStarter",["$window",function(c){return{restrict:"A",link:function(r,f,d){f.addClass("enabled").attr("title","Logout").click(function(){c.location="/logout"})}}}]);
app.directive("obelixAboutStarter",[function(){var c;return{restrict:"A",link:function(r,f,d){f.addClass("enabled").attr("title","About").click(function(){jQuery("body").qtip({content:{text:function(){c=jQuery("#about").clone();c.css("height","auto").find("#about-content").append(jQuery("#project-members").clone());c.find("button").click(function(){jQuery("body").trigger("hideAboutScreen")});return c}},position:{my:"center",at:"center"},show:{event:"showAboutScreen",delay:100,ready:!0,modal:{on:!0,
blur:!1,escape:!0,stealfocus:!1}},hide:{event:"hideAboutScreen"},style:{classes:"qtip-light obelix-qtip"},events:{visible:function(b,d){c.animate({"margin-top":c.height()/-2},1E3)}}})})}}}]);app.directive("tourDevice",["$filter",function(c){return{restrict:"A",link:function(r,f,d){r=c("htmlNameNormalizer")(r.$eval(d.tourDevice).originalName);"virtual-push-button"===r?f.attr("id","tour-device-button"):"virtual-light"===r?f.attr("id","tour-device-light"):"v-complex-sun-blind"===r&&f.attr("id","tour-device-history")}}}]);
app.directive("obelixTourFirstTimeVisitor",["Storage",function(c){return{restrict:"A",link:function(r,f,d){var b=new c("tourTaken");f.qtip({content:{title:{button:jQuery("<span>x</span>").addClass("icon icon-remove qtip-close"),text:"Need help?"},text:'Click on the "?" symbol to start the tour!'},show:{event:"showTourHelp"},hide:{event:"hideTourHelp"},position:{my:"right top",at:"left bottom"},style:{classes:"qtip-light obelix-qtip"},events:{show:function(c,a){"tourTaken"===b.get()&&c.preventDefault()}}})}}}]);
app.directive("obelixTourStarter",["$timeout","Sidebar","Storage",function(c,r,f){return{restrict:"A",link:function(d,b,k){function a(a){c(function(){d.tourInProgress=a},0)}function e(a){a?jQuery(b).off().on("click",g.start).attr("title","Start the UI tour").addClass("enabled").removeClass("disabled"):jQuery(b).off().attr("title","UI tour has started").addClass("disabled").removeClass("enabled")}var g={};k=[{title:"Menu Button",content:"<p>This is the menu toggle button. Click it to open/close the menu.</p>",
closeButton:!0,highlightTarget:!0,target:jQuery("div#toggle-sidebar"),my:"left center",at:"right center",bind:["onToggleButtonClick"],onToggleButtonClick:function(a,b,c,d){a.next()},setup:function(a,b){g.step=this;r.locked=!1;r.expanded=!1;this.target.bind("click",this.onToggleButtonClick)},teardown:function(a,b){this.target.unbind("click",this.onToggleButtonClick);r.locked=!0}},{title:"Menu",content:'<p>The menu contains three main sections: "Devices", "Statistics" and "Settings".</p>',closeButton:!0,
highlightTarget:!1,nextButton:!0,target:jQuery("div#sidebar-sublayer"),my:"left center",at:"right center",setup:function(a,b){g.step=this;jQuery("#sidebar").addClass("tour-highlight").children(".content:first").scrollTop(0)},teardown:function(a,b){jQuery("#sidebar").removeClass("tour-highlight")}},{title:'Section "Settings"',content:"<p>This section provides the possibility to control some aspects of this client. </p>",closeButton:!0,highlightTarget:!0,nextButton:!0,target:jQuery("div#segment-settings"),
my:"top left",at:"bottom right",setup:function(a,b){g.step=this;c(function(){jQuery("#sidebar > .content:first").scrollTop(0);r.segment=2},0)},teardown:function(a,b){c(function(){r.segment=1;d.directory.subdirectories[1].expanded=!0},0)}},{title:'Section "Statistics"',content:"<p>This section displays some statistics of devices (e. g. value history). </p>",closeButton:!0,highlightTarget:!0,nextButton:!0,target:jQuery("div#segment-statistics"),my:"top left",at:"bottom right",setup:function(a,b){g.step=
this;c(function(){jQuery("#sidebar > .content:first").scrollTop(0);r.segment=1},0)},teardown:function(a,b){c(function(){d.directory.subdirectories[1].expanded=!0;r.segment=0},0)}},{title:'Section "Devices"',content:"<p>This section contains the list of all known devices (represented as blocks), which are organized in lists (a list may contain sublists). A list can be opened/closed by clicking on it.</p>",closeButton:!0,highlightTarget:!0,nextButton:!0,target:jQuery("div#segment-devices"),my:"top left",
at:"bottom right",setup:function(a,b){g.step=this;r.segment=0},teardown:function(a,b){}},{title:"Virtual Push Button",content:"<p>Drag and drop the virtual push button device block onto the grid.</p>",closeButton:!0,highlightTarget:!0,nextButton:!1,my:"bottom center",at:"top center",setup:function(a,b){g.step=this;document.getElementById("tour-device-button").scrollIntoView(!1);b.tourDeviceDropZone.css({top:"30px",left:"50%"}).addClass("tour-highlight").droppable().droppable({accept:"label#tour-device-button",
drop:function(c,d){b.droppedDeviceButton=jQuery(c.target);b.droppedDeviceButton.droppable().droppable("destroy");a.next()}});return{target:jQuery("label#tour-device-button")}},teardown:function(a,b){b.tourDeviceDropZone.removeClass("tour-highlight");b.droppedDevices.push(jQuery("#canvas .device.virtual-push-button").draggable("disable"))}},{title:"Virtual Light",content:"<p>Drag and drop the virtual light device block onto the grid.</p>",closeButton:!0,highlightTarget:!0,nextButton:!1,my:"bottom left",
at:"top right",setup:function(a,b){g.step=this;document.getElementById("tour-device-light").scrollIntoView(!1);b.tourDeviceDropZone.css({top:"280px",left:"30%"}).addClass("tour-highlight").droppable().droppable({accept:"label#tour-device-light",drop:function(c,d){b.droppedDeviceLight=jQuery(c.target);b.droppedDeviceLight.droppable().droppable("destroy");a.next()}});return{target:jQuery("label#tour-device-light")}},teardown:function(a,b){b.tourDeviceDropZone.removeClass("tour-highlight");b.droppedDevices.push(jQuery("#canvas .device.virtual-light").draggable("disable"))}},
{title:"Device Box (1/2)",content:'<p>A device box can be deleted from the configuration by clicking on the button "x" (during the tour the button\'s functionality has been disabled). A device box contains interactive elements to modify its behaviour. It can also be  moved around using the mouse (but during the tour it is not possible to move around the device boxes of the virtual push button, virtual light and virtual complex sun blind).</p>',closeButton:!0,highlightTarget:!0,nextButton:!0,my:"top left",
at:"bottom center",setup:function(a,b){g.step=this;return{target:b.droppedDevices[0]}},teardown:function(a,b){}},{title:"Endpoint",content:"<p>A device box may have endpoints like this one, which can be connected to other endpoints.</p>",closeButton:!0,highlightTarget:!0,nextButton:!0,my:"left top",at:"right center",setup:function(a,b){g.step=this;return{target:jQuery("#canvas ._jsPlumb_endpoint.virtual-push-button")}},teardown:function(a,b){}},{title:"Connect Endpoints",content:"<p>Connect the endpoint of the virtual push button with the endpoint of the virtual light by drawing a line. Click with the primary mouse button on a endpoint and keep the mouse button pressed. Move the mouse pointer over to the other endpoint and release the mouse button afterwards.</p><p>A connection can be deleted by double-clicking on the connection line. All connections of a device are deleted when the device is deleted.</p>",
nextButton:!0,closeButton:!0,highlightTarget:!0,my:"left top",at:"right center",setup:function(a,b){g.step=this;jQuery("#canvas ._jsPlumb_endpoint.virtual-light, #canvas ._jsPlumb_endpoint.virtual-push-button").addClass("tour-highlight");return{target:jQuery("#canvas ._jsPlumb_endpoint.virtual-push-button")}},teardown:function(a,b){jQuery("#canvas ._jsPlumb_endpoint.virtual-light, #canvas ._jsPlumb_endpoint.virtual-push-button").removeClass("tour-highlight")}},{title:"Statistics",content:"<p>Drag and drop the virtual complex sun blind device block onto the grid.</p>",
closeButton:!0,highlightTarget:!0,nextButton:!1,my:"bottom left",at:"top right",setup:function(a,b){g.step=this;document.getElementById("tour-device-history").scrollIntoView(!1);b.tourDeviceDropZone.css({top:"280px",left:"60%"}).addClass("tour-highlight").droppable().droppable({accept:"label#tour-device-history",drop:function(c,d){b.droppedDeviceHistory=jQuery(c.target);b.droppedDeviceHistory.droppable().droppable("destroy");a.next()}});return{target:jQuery("label#tour-device-history")}},teardown:function(a,
b){b.tourDeviceDropZone.removeClass("tour-highlight");b.droppedDevices.push(jQuery("#canvas .device.v-complex-sun-blind").draggable("disable"))}},{title:"Device Box (2/2)",content:'<p>Statistics of a device box can be displayed in the sidebar section "Statistics" by clicking on the button "%". If a device has its statistical functionality enabled the button will turn and stay green until the button is clicked again. Clicking a second time, removes the device from the statistic. If the statistical functionality is not enabled for a device the button will turn and stay gray. Click on the button "%" to add this device to the statistic and set the sliders to a few different positions. Clicking on the device name in the statistic section will toggle the statistic information display of a device. The charts are interactive (tooltips are displayed when the mouse pointer is hovered over a datapoint) and redrawn every 5 seconds and the latest 10 values are dislpayed.</p>',
closeButton:!0,highlightTarget:!0,nextButton:!0,my:"center left",at:"center right",setup:function(a,b){g.step=this;c(function(){jQuery("#sidebar > .content:first").scrollTop(0);r.segment=1},0);return{target:b.droppedDevices[2]}},teardown:function(a,b){}},{title:"Logout",content:"<p>Click this symbol to end the current oBeliX session.</p>",nextButton:!0,closeButton:!0,my:"top right",at:"bottom left",setup:function(a,b){g.step=this;return{target:jQuery("#logout-starter")}}}];var n={title:"End Of Tour",
content:"<p>This is the end of the tour. Thanks!",closeButton:!0,target:b,nextButton:!0,my:"top right",at:"bottom left",setup:function(a,b){g.step=this},teardown:function(b,c){c.setDragOnDroppedDevices(!0);c.droppedDevices=[];r.locked=!1;a(!1);e(!0)}},p=new Tourist.Tour({tipClass:"QTip",tipOptions:{style:{classes:"qtip-light qtip-shadow obelix-tour obelix-qtip"},overwrite:!1,content:{title:"Obelix Tour"},show:{solo:!0},events:{show:function(a,b){var c=jQuery(a.target),d=c.find(".tour-close"),e=c.find(".qtip-titlebar");
d.each(function(){jQuery(this).hasClass("qtip-close")?jQuery(this).detach():jQuery(this).addClass("qtip-close").html('<span class="icon icon-remove">x</span>').appendTo(e)});jQuery(".qtip-title",e).html(g.step.title)}}},steps:k,stepOptions:{tourDeviceDropZone:jQuery("#canvas #tour-device-drop-zone"),droppedDevices:[],setDragOnDroppedDevices:function(a){var b=a?"enable":"disable";this.droppedDevices.map(function(a){a.draggable(b)})}},successStep:n,cancelStep:n});g.start=function(b){(new f("tourTaken")).set("tourTaken");
e(!1);a(!0);p.start()};e(!0)}}}]);
app.directive("toggleDeviceStatistic",["DeviceStatistics",function(c){return{restrict:"A",link:function(r,f,d){var b=r.$eval(d.toggleDeviceStatistic);f.hasClass("in-statistic")?f.attr("title","Remove device from the statistics menu"):f.attr("title","Add device to the statistics menu");f.click(function(){b.statistics.history.enabled?f.hasClass("in-statistic")?(c.removeDevice(b),f.removeClass("in-statistic").attr("title","Add device to the statistics menu")):(c.addDevice(b),f.addClass("in-statistic").attr("title",
"Remove device from the statistics menu")):f.addClass("no-statistic").attr("title","History function is not enabled on this device")})}}}]);
app.filter("comparatorOpEnc",function(){return function(c,r){if(angular.isString(c)){var f=c,d=r.obix.contractList.is;if("iot:StringComparator"==d)switch(c){case "eq":f="eq";break;case "startsWith":f="^x*";break;case "endsWith":f="*x$";break;case "contains":f="*x*";break;default:f=c}else if("iot:Comparator"==d)switch(c){case "lt":f="<";break;case "lte":f="\u2264";break;case "eq":f="=";break;case "gte":f="\u2265";break;case "gt":f=">";break;default:f=c}return f}return c}});
app.filter("htmlNameNormalizer",function(){var c=/[A-Z]+/g,r,f,d,b;return function(k){if(angular.isString(k)){f=0;for(d=[];null!==(r=c.exec(k));)d.push(k.substring(f,r.index)),d.push("-"),b=r[0],d.push(b.toLowerCase()),f=r.index+b.length;d.push(k.substring(f));return d.join("").trim().replace(/ +-*/g,"-").replace(/[^-a-z0-9]/g,"").replace(/-+/g,"-").replace(/^-/g,"").replace(/-$/g,"")}return k}});
